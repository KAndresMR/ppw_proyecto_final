var BS=Object.defineProperty,$S=Object.defineProperties;var qS=Object.getOwnPropertyDescriptors;var Rw=Object.getOwnPropertySymbols,HS=Object.getPrototypeOf,zS=Object.prototype.hasOwnProperty,GS=Object.prototype.propertyIsEnumerable,WS=Reflect.get;var xw=(t,e,n)=>e in t?BS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})zS.call(e,n)&&xw(t,n,e[n]);if(Rw)for(var n of Rw(e))GS.call(e,n)&&xw(t,n,e[n]);return t},_e=(t,e)=>$S(t,qS(e));var cr=(t,e,n)=>WS(HS(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function KS(t,e){return Object.is(t,e)}var Ke=null,$c=!1,qc=1,Gi=Symbol("SIGNAL");function me(t){let e=Ke;return Ke=t,e}var Hh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pw(t){if($c)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(t);let e=Ke.nextProducerIndex++;if(zi(Ke),e<Ke.producerNode.length&&Ke.producerNode[e]!==t&&Bs(Ke)){let n=Ke.producerNode[e];Hc(n,Ke.producerIndexOfThis[e])}Ke.producerNode[e]!==t&&(Ke.producerNode[e]=t,Ke.producerIndexOfThis[e]=Bs(Ke)?Vw(t,Ke,e):0),Ke.producerLastReadVersion[e]=t.version}function QS(){qc++}function YS(t){if(!(Bs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===qc)){if(!t.producerMustRecompute(t)&&!zh(t)){t.dirty=!1,t.lastCleanEpoch=qc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=qc}}function Nw(t){if(t.liveConsumerNode===void 0)return;let e=$c;$c=!0;try{for(let n of t.liveConsumerNode)n.dirty||JS(n)}finally{$c=e}}function Ow(){return Ke?.consumerAllowSignalWrites!==!1}function JS(t){t.dirty=!0,Nw(t),t.consumerMarkedDirty?.(t)}function kw(t){return t&&(t.nextProducerIndex=0),me(t)}function Fw(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Bs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Hc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zh(t){zi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(YS(n),r!==n.version))return!0}return!1}function Lw(t){if(zi(t),Bs(t))for(let e=0;e<t.producerNode.length;e++)Hc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Vw(t,e,n){if(Uw(t),zi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Vw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Hc(t,e){if(Uw(t),zi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Hc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];zi(i),i.producerIndexOfThis[r]=e}}function Bs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function zi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Uw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ZS(){throw new Error}var jw=ZS;function Bw(){jw()}function $w(t){jw=t}var XS=null;function qw(t){let e=Object.create(zw);e.value=t;let n=()=>(Pw(e),e.value);return n[Gi]=e,n}function Gh(t,e){Ow()||Bw(),t.equal(t.value,e)||(t.value=e,eM(t))}function Hw(t,e){Ow()||Bw(),Gh(t,e(t.value))}var zw=_e(U({},Hh),{equal:KS,value:void 0});function eM(t){t.version++,QS(),Nw(t),XS?.()}function te(t){return typeof t=="function"}function Wi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zc=Wi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Gr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof zc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Gw(o)}catch(s){e=e??[],s instanceof zc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new zc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Gw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Gr(n,e)}remove(e){let{_finalizers:n}=this;n&&Gr(n,e),e instanceof t&&e._removeParent(this)}};Le.EMPTY=(()=>{let t=new Le;return t.closed=!0,t})();var Wh=Le.EMPTY;function Gc(t){return t instanceof Le||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function Gw(t){te(t)?t():t.unsubscribe()}var Wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ki={setTimeout(t,e,...n){let{delegate:r}=Ki;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ki;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Wc(t){Ki.setTimeout(()=>{let{onUnhandledError:e}=Wt;if(e)e(t);else throw t})}function $s(){}var Ww=Kh("C",void 0,void 0);function Kw(t){return Kh("E",void 0,t)}function Qw(t){return Kh("N",t,void 0)}function Kh(t,e,n){return{kind:t,value:e,error:n}}var Wr=null;function Qi(t){if(Wt.useDeprecatedSynchronousErrorHandling){let e=!Wr;if(e&&(Wr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Wr;if(Wr=null,n)throw r}}else t()}function Yw(t){Wt.useDeprecatedSynchronousErrorHandling&&Wr&&(Wr.errorThrown=!0,Wr.error=t)}var Kr=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gc(e)&&e.add(this)):this.destination=rM}static create(e,n,r){return new Yi(e,n,r)}next(e){this.isStopped?Yh(Qw(e),this):this._next(e)}error(e){this.isStopped?Yh(Kw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yh(Ww,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tM=Function.prototype.bind;function Qh(t,e){return tM.call(t,e)}var Jh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Kc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Kc(r)}else Kc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Kc(n)}}},Yi=class extends Kr{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Wt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qh(e.next,o),error:e.error&&Qh(e.error,o),complete:e.complete&&Qh(e.complete,o)}):i=e}this.destination=new Jh(i)}};function Kc(t){Wt.useDeprecatedSynchronousErrorHandling?Yw(t):Wc(t)}function nM(t){throw t}function Yh(t,e){let{onStoppedNotification:n}=Wt;n&&Ki.setTimeout(()=>n(t,e))}var rM={closed:!0,next:$s,error:nM,complete:$s};var Ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function Zh(...t){return Xh(t)}function Xh(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=oM(n)?n:new Yi(n,r,i);return Qi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Jw(r),new r((i,o)=>{let s=new Yi({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ji](){return this}pipe(...n){return Xh(n)(this)}toPromise(n){return n=Jw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Jw(t){var e;return(e=t??Wt.Promise)!==null&&e!==void 0?e:Promise}function iM(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function oM(t){return t&&t instanceof Kr||iM(t)&&Gc(t)}function ef(t){return te(t?.lift)}function pe(t){return e=>{if(ef(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new tf(t,e,n,r,i)}var tf=class extends Kr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Zi(){return pe((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Xi=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ef(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return Zi()(this)}};var Zw=Wi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var lt=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Qc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zw}next(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wh:(this.currentObservers=null,o.push(n),new Le(()=>{this.currentObservers=null,Gr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new Qc(e,n),t})(),Qc=class extends lt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wh}};var Je=class extends lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var nf={now(){return(nf.delegate||Date).now()},delegate:void 0};var Yc=class extends Le{constructor(e,n){super()}schedule(e,n=0){return this}};var qs={setInterval(t,e,...n){let{delegate:r}=qs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var eo=class extends Yc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return qs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var to=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};to.now=nf.now;var no=class extends to{constructor(e,n=to.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var rf=new no(eo);var Jc=class extends eo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Zc=class extends no{};var of=new Zc(Jc);var At=new se(t=>t.complete());function Xw(t){return t&&te(t.schedule)}function eI(t){return t[t.length-1]}function Xc(t){return te(eI(t))?t.pop():void 0}function ur(t){return Xw(eI(t))?t.pop():void 0}function sf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function tI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qr(t){return this instanceof Qr?(this.v=t,this):new Qr(t)}function rI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){r[m]&&(i[m]=function(I){return new Promise(function(S,P){o.push([m,I,S,P])>1||a(m,I)})})}function a(m,I){try{u(r[m](I))}catch(S){p(o[0][3],S)}}function u(m){m.value instanceof Qr?Promise.resolve(m.value.v).then(l,h):p(o[0][2],m)}function l(m){a("next",m)}function h(m){a("throw",m)}function p(m,I){m(I),o.shift(),o.length&&a(o[0][0],o[0][1])}}function iI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tI=="function"?tI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var eu=t=>t&&typeof t.length=="number"&&typeof t!="function";function tu(t){return te(t?.then)}function nu(t){return te(t[Ji])}function ru(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function iu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ou=sM();function su(t){return te(t?.[ou])}function au(t){return rI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Qr(n.read());if(i)return yield Qr(void 0);yield yield Qr(r)}}finally{n.releaseLock()}})}function cu(t){return te(t?.getReader)}function Ve(t){if(t instanceof se)return t;if(t!=null){if(nu(t))return aM(t);if(eu(t))return cM(t);if(tu(t))return uM(t);if(ru(t))return oI(t);if(su(t))return lM(t);if(cu(t))return dM(t)}throw iu(t)}function aM(t){return new se(e=>{let n=t[Ji]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cM(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function uM(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Wc)})}function lM(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oI(t){return new se(e=>{hM(t,e).catch(n=>e.error(n))})}function dM(t){return oI(au(t))}function hM(t,e){var n,r,i,o;return nI(this,void 0,void 0,function*(){try{for(n=iI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function lr(t,e=0){return pe((n,r)=>{n.subscribe(ue(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function dr(t,e=0){return pe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sI(t,e){return Ve(t).pipe(dr(e),lr(e))}function aI(t,e){return Ve(t).pipe(dr(e),lr(e))}function cI(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function uI(t,e){return new se(n=>{let r;return It(n,e,()=>{r=t[ou](),It(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function uu(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lI(t,e){return uu(au(t),e)}function dI(t,e){if(t!=null){if(nu(t))return sI(t,e);if(eu(t))return cI(t,e);if(tu(t))return aI(t,e);if(ru(t))return uu(t,e);if(su(t))return uI(t,e);if(cu(t))return lI(t,e)}throw iu(t)}function Ie(t,e){return e?dI(t,e):Ve(t)}function K(...t){let e=ur(t);return Ie(t,e)}function ro(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function af(t){return!!t&&(t instanceof se||te(t.lift)&&te(t.subscribe))}var On=Wi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return pe((n,r)=>{let i=0;n.subscribe(ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:fM}=Array;function pM(t,e){return fM(e)?t(...e):t(e)}function lu(t){return ie(e=>pM(t,e))}var{isArray:gM}=Array,{getPrototypeOf:mM,prototype:yM,keys:vM}=Object;function du(t){if(t.length===1){let e=t[0];if(gM(e))return{args:e,keys:null};if(_M(e)){let n=vM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function _M(t){return t&&typeof t=="object"&&mM(t)===yM}function hu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fu(...t){let e=ur(t),n=Xc(t),{args:r,keys:i}=du(t);if(r.length===0)return Ie([],e);let o=new se(wM(r,e,i?s=>hu(i,s):Tt));return n?o.pipe(lu(n)):o}function wM(t,e,n=Tt){return r=>{hI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)hI(e,()=>{let l=Ie(t[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hI(t,e,n){t?It(n,t,e):e()}function fI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},I=P=>l<r?S(P):u.push(P),S=P=>{o&&e.next(P),l++;let M=!1;Ve(n(P,h++)).subscribe(ue(e,F=>{i?.(F),o?I(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let F=u.shift();s?It(e,s,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ue(e,I,()=>{p=!0,m()})),()=>{a?.()}}function qe(t,e,n=1/0){return te(e)?qe((r,i)=>ie((o,s)=>e(r,o,i,s))(Ve(t(r,i))),n):(typeof e=="number"&&(n=e),pe((r,i)=>fI(r,i,t,n)))}function cf(t=1/0){return qe(Tt,t)}function pI(){return cf(1)}function io(...t){return pI()(Ie(t,ur(t)))}function pu(t){return new se(e=>{Ve(t()).subscribe(e)})}function uf(...t){let e=Xc(t),{args:n,keys:r}=du(t),i=new se(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ve(n[h]).subscribe(ue(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?hu(r,a):a),o.complete())}))}});return e?i.pipe(lu(e)):i}function St(t,e){return pe((n,r)=>{let i=0;n.subscribe(ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function hr(t){return pe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ue(n,void 0,void 0,s=>{o=Ve(t(s,hr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function fr(t,e){return te(e)?qe(t,e,1):qe(t,1)}function pr(t){return pe((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function kn(t){return t<=0?()=>At:pe((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function lf(t){return ie(()=>t)}function gu(t=IM){return pe((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function IM(){return new On}function Yr(t){return pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):Tt,kn(1),n?pr(e):gu(()=>new On))}function oo(t){return t<=0?()=>At:pe((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function df(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):Tt,oo(1),n?pr(e):gu(()=>new On))}function hf(t,e){return pe(gI(t,e,arguments.length>=2,!0))}function ff(...t){let e=ur(t);return pe((n,r)=>{(e?io(t,n,e):io(t,n)).subscribe(r)})}function Ze(t,e){return pe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;Ve(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pf(t){return pe((e,n)=>{Ve(t).subscribe(ue(n,()=>n.complete(),$s)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Tt}var ZI="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Gu(e,n)),this.code=e}};function Gu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function na(t){return{toString:t}.toString()}var mu="__parameters__";function EM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function XI(t,e,n){return na(()=>{let r=EM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(mu)?u[mu]:Object.defineProperty(u,mu,{value:[]})[mu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Jr=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function bM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function mI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var DM=Te({__forward_ref__:Te});function Un(t){return t.__forward_ref__=Un,t.toString=function(){return yt(this())},t}function mt(t){return eE(t)?t():t}function eE(t){return typeof t=="function"&&t.hasOwnProperty(DM)&&t.__forward_ref__===Un}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wu(t){return yI(t,nE)||yI(t,rE)}function tE(t){return Wu(t)!==null}function yI(t,e){return t.hasOwnProperty(e)?t[e]:null}function CM(t){let e=t&&(t[nE]||t[rE]);return e||null}function vI(t){return t&&(t.hasOwnProperty(_I)||t.hasOwnProperty(TM))?t[_I]:null}var nE=Te({\u0275prov:Te}),_I=Te({\u0275inj:Te}),rE=Te({ngInjectableDef:Te}),TM=Te({ngInjectorDef:Te}),z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iE(t){return t&&!!t.\u0275providers}var AM=Te({\u0275cmp:Te}),SM=Te({\u0275dir:Te}),MM=Te({\u0275pipe:Te}),RM=Te({\u0275mod:Te}),Cu=Te({\u0275fac:Te}),Hs=Te({__NG_ELEMENT_ID__:Te}),wI=Te({__NG_ENV_ID__:Te});function Ku(t){return typeof t=="string"?t:t==null?"":String(t)}function xM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ku(t)}function PM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function yp(t,e){throw new $(-201,!1)}var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),Rf;function oE(){return Rf}function Vt(t){let e=Rf;return Rf=t,e}function sE(t,e,n){let r=Wu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;yp(t,"Injector")}var NM={},zs=NM,xf="__NG_DI_FLAG__",Tu="ngTempTokenPath",OM="ngTokenPath",kM=/\n/gm,FM="\u0275",II="__source",uo;function LM(){return uo}function gr(t){let e=uo;return uo=t,e}function VM(t,e=ae.Default){if(uo===void 0)throw new $(-203,!1);return uo===null?sE(t,void 0,e):uo.get(t,e&ae.Optional?null:void 0,e)}function Z(t,e=ae.Default){return(oE()||VM)(mt(t),e)}function N(t,e=ae.Default){return Z(t,Qu(e))}function Qu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Pf(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],u=UM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function aE(t,e){return t[xf]=e,t.prototype[xf]=e,t}function UM(t){return t[xf]}function jM(t,e,n,r){let i=t[Tu];throw e[II]&&i.unshift(e[II]),t.message=BM(`
`+t.message,i,n,r),t[OM]=i,t[Tu]=null,t}function BM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==FM?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(kM,`
  `)}`}var hn=aE(XI("Optional"),8);var cE=aE(XI("SkipSelf"),4);function ho(t,e){let n=t.hasOwnProperty(Cu);return n?t[Cu]:null}function vp(t,e){t.forEach(n=>Array.isArray(n)?vp(n,e):e(n))}function uE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Au(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $M(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function qM(t,e,n){let r=ra(t,e);return r>=0?t[r|1]=n:(r=~r,$M(t,r,e,n)),r}function gf(t,e){let n=ra(t,e);if(n>=0)return t[n|1]}function ra(t,e){return HM(t,e,1)}function HM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var fo={},Ut=[],po=new z(""),lE=new z("",-1),dE=new z(""),Su=class{get(e,n=zs){if(n===zs){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}},hE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hE||{}),cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cn||{}),et=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(et||{});function zM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Nf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];GM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function fE(t){return t===3||t===4||t===6}function GM(t){return t.charCodeAt(0)===64}function Gs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?EI(t,n,i,null,e[++r]):EI(t,n,i,null,null))}}return t}function EI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var pE="ng-template";function WM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&zM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(_p(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function _p(t){return t.type===4&&t.value!==pE}function KM(t,e,n){let r=t.type===4&&!n?pE:t.value;return e===r}function QM(t,e,n){let r=4,i=t.attrs,o=i!==null?ZM(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Kt(r)&&!Kt(u))return!1;if(s&&Kt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!KM(t,u,n)||u===""&&e.length===1){if(Kt(r))return!1;s=!0}}else if(r&8){if(i===null||!WM(t,i,u,n)){if(Kt(r))return!1;s=!0}}else{let l=e[++a],h=YM(u,i,_p(t),n);if(h===-1){if(Kt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Kt(r))return!1;s=!0}}}}return Kt(r)||s}function Kt(t){return(t&1)===0}function YM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return XM(e,t)}function JM(t,e,n=!1){for(let r=0;r<e.length;r++)if(QM(t,e[r],n))return!0;return!1}function ZM(t){for(let e=0;e<t.length;e++){let n=t[e];if(fE(n))return e}return t.length}function XM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function bI(t,e){return t?":not("+e.trim()+")":e}function eR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kt(s)&&(e+=bI(o,i),i=""),r=s,o=o||!Kt(r);n++}return i!==""&&(e+=bI(o,i)),e}function tR(t){return t.map(eR).join(",")}function nR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Kt(i))break;i=o}r++}return{attrs:e,classes:n}}function xe(t){return na(()=>{let e=_E(t),n=_e(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cn.Emulated,styles:t.styles||Ut,_:null,schemas:t.schemas||null,tView:null,id:""});wE(n);let r=t.dependencies;return n.directiveDefs=CI(r,!1),n.pipeDefs=CI(r,!0),n.id=oR(n),n})}function rR(t){return ei(t)||gE(t)}function iR(t){return t!==null}function Bn(t){return na(()=>({type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function DI(t,e){if(t==null)return fo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=et.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==et.None?[r,a]:r,e[o]=s):n[o]=r}return n}function He(t){return na(()=>{let e=_E(t);return wE(e),e})}function ei(t){return t[AM]||null}function gE(t){return t[SM]||null}function mE(t){return t[MM]||null}function yE(t){let e=ei(t)||gE(t)||mE(t);return e!==null?e.standalone:!1}function vE(t,e){let n=t[RM]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function _E(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||fo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DI(t.inputs,e),outputs:DI(t.outputs),debugInfo:null}}function wE(t){t.features?.forEach(e=>e(t))}function CI(t,e){if(!t)return null;let n=e?mE:rR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(iR)}function oR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fn(t){return{\u0275providers:t}}function sR(...t){return{\u0275providers:IE(!0,t),\u0275fromNgModule:!0}}function IE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return vp(e,s=>{let a=s;Of(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&EE(i,o),n}function EE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];wp(i,o=>{e(o,r)})}}function Of(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,o=vI(t),s=!o&&ei(t);if(!o&&!s){let u=t.ngModule;if(o=vI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Of(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{vp(o.imports,h=>{Of(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&EE(l,e)}if(!a){let l=ho(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ut},i),e({provide:dE,useValue:i,multi:!0},i),e({provide:po,useValue:()=>Z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;wp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function wp(t,e){for(let n of t)iE(n)&&(n=n.\u0275providers),Array.isArray(n)?wp(n,e):e(n)}var aR=Te({provide:String,useValue:Te});function bE(t){return t!==null&&typeof t=="object"&&aR in t}function cR(t){return!!(t&&t.useExisting)}function uR(t){return!!(t&&t.useFactory)}function go(t){return typeof t=="function"}function lR(t){return!!t.useClass}var Yu=new z(""),wu={},dR={},mf;function Ip(){return mf===void 0&&(mf=new Su),mf}var Et=class{},Ws=class extends Et{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ff(e,s=>this.processProvider(s)),this.records.set(lE,so(void 0,this)),i.has("environment")&&this.records.set(Et,so(void 0,this));let o=this.records.get(Yu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dE,Ut,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=gr(this),r=Vt(void 0),i;try{return e()}finally{gr(n),Vt(r)}}get(e,n=zs,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(wI))return e[wI](this);r=Qu(r);let i,o=gr(this),s=Vt(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=mR(e)&&Wu(e);l&&this.injectableDefInScope(l)?u=so(kf(e),wu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?Ip():this.parent;return n=r&ae.Optional&&n===zs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Tu]=a[Tu]||[]).unshift(yt(e)),o)throw a;return jM(a,e,"R3InjectorError",this.source)}else throw a}finally{Vt(s),gr(o)}}resolveInjectorInitializers(){let e=me(null),n=gr(this),r=Vt(void 0),i;try{let o=this.get(po,Ut,ae.Self);for(let s of o)s()}finally{gr(n),Vt(r),me(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=mt(e);let n=go(e)?e:mt(e&&e.provide),r=fR(e);if(!go(e)&&e.multi===!0){let i=this.records.get(n);i||(i=so(void 0,wu,!0),i.factory=()=>Pf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=me(null);try{return n.value===wu&&(n.value=dR,n.value=n.factory()),typeof n.value=="object"&&n.value&&gR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kf(t){let e=Wu(t),n=e!==null?e.factory:ho(t);if(n!==null)return n;if(t instanceof z)throw new $(204,!1);if(t instanceof Function)return hR(t);throw new $(204,!1)}function hR(t){if(t.length>0)throw new $(204,!1);let n=CM(t);return n!==null?()=>n.factory(t):()=>new t}function fR(t){if(bE(t))return so(void 0,t.useValue);{let e=DE(t);return so(e,wu)}}function DE(t,e,n){let r;if(go(t)){let i=mt(t);return ho(i)||kf(i)}else if(bE(t))r=()=>mt(t.useValue);else if(uR(t))r=()=>t.useFactory(...Pf(t.deps||[]));else if(cR(t))r=()=>Z(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(pR(t))r=()=>new i(...Pf(t.deps));else return ho(i)||kf(i)}return r}function so(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pR(t){return!!t.deps}function gR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function mR(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function Ff(t,e){for(let n of t)Array.isArray(n)?Ff(n,e):n&&iE(n)?Ff(n.\u0275providers,e):e(n)}function $n(t,e){t instanceof Ws&&t.assertNotDestroyed();let n,r=gr(t),i=Vt(void 0);try{return e()}finally{gr(r),Vt(i)}}function yR(){return oE()!==void 0||LM()!=null}function vR(t){return typeof t=="function"}var qn=0,ce=1,J=2,dt=3,Qt=4,Jt=5,Mu=6,Ks=7,jt=8,mo=9,Yt=10,tt=11,Qs=12,TI=13,wo=14,un=15,Ju=16,ao=17,yo=18,Zu=19,CE=20,mr=21,yf=22,ti=23,ln=25,TE=1;var ni=7,Ru=8,xu=9,Mt=10,Ep=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ep||{});function Zr(t){return Array.isArray(t)&&typeof t[TE]=="object"}function Hn(t){return Array.isArray(t)&&t[TE]===!0}function AE(t){return(t.flags&4)!==0}function Xu(t){return t.componentOffset>-1}function bp(t){return(t.flags&1)===1}function yr(t){return!!t.template}function _R(t){return(t[J]&512)!==0}var Lf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function SE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function zn(){return ME}function ME(t){return t.type.prototype.ngOnChanges&&(t.setInput=IR),wR}zn.ngInherit=!0;function wR(){let t=xE(this),e=t?.current;if(e){let n=t.previous;if(n===fo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function IR(t,e,n,r,i){let o=this.declaredInputs[r],s=xE(t)||ER(t,{previous:fo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Lf(l&&l.currentValue,n,u===fo),SE(t,e,i,n)}var RE="__ngSimpleChanges__";function xE(t){return t[RE]||null}function ER(t,e){return t[RE]=e}var AI=null;var sn=function(t,e,n){AI?.(t,e,n)},bR="svg",DR="math",CR=!1;function TR(){return CR}function dn(t){for(;Array.isArray(t);)t=t[qn];return t}function PE(t,e){return dn(e[t])}function Bt(t,e){return dn(e[t.index])}function Dp(t,e){return t.data[e]}function _r(t,e){let n=e[t];return Zr(n)?n:n[qn]}function Cp(t){return(t[J]&128)===128}function AR(t){return Hn(t[dt])}function Pu(t,e){return e==null?null:t[e]}function NE(t){t[ao]=0}function SR(t){t[J]&1024||(t[J]|=1024,Cp(t)&&Ys(t))}function MR(t,e){for(;t>0;)e=e[wo],t--;return e}function Tp(t){return!!(t[J]&9216||t[ti]?.dirty)}function Vf(t){t[Yt].changeDetectionScheduler?.notify(1),Tp(t)?Ys(t):t[J]&64&&(TR()?(t[J]|=1024,Ys(t)):t[Yt].changeDetectionScheduler?.notify())}function Ys(t){t[Yt].changeDetectionScheduler?.notify();let e=Js(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Cp(e)));)e=Js(e)}function OE(t,e){if((t[J]&256)===256)throw new $(911,!1);t[mr]===null&&(t[mr]=[]),t[mr].push(e)}function RR(t,e){if(t[mr]===null)return;let n=t[mr].indexOf(e);n!==-1&&t[mr].splice(n,1)}function Js(t){let e=t[dt];return Hn(e)?e[dt]:e}var le={lFrame:BE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xR(){return le.lFrame.elementDepthCount}function PR(){le.lFrame.elementDepthCount++}function NR(){le.lFrame.elementDepthCount--}function kE(){return le.bindingsEnabled}function OR(){return le.skipHydrationRootTNode!==null}function kR(t){return le.skipHydrationRootTNode===t}function FR(){le.skipHydrationRootTNode=null}function Re(){return le.lFrame.lView}function Zt(){return le.lFrame.tView}function Io(t){return le.lFrame.contextLView=t,t[jt]}function Eo(t){return le.lFrame.contextLView=null,t}function Rt(){let t=FE();for(;t!==null&&t.type===64;)t=t.parent;return t}function FE(){return le.lFrame.currentTNode}function LR(){let t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ia(t,e){let n=le.lFrame;n.currentTNode=t,n.isParent=e}function LE(){return le.lFrame.isParent}function VR(){le.lFrame.isParent=!1}function UR(t){return le.lFrame.bindingIndex=t}function el(){return le.lFrame.bindingIndex++}function jR(t){let e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BR(){return le.lFrame.inI18n}function $R(t,e){let n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,Uf(e)}function qR(){return le.lFrame.currentDirectiveIndex}function Uf(t){le.lFrame.currentDirectiveIndex=t}function HR(t){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function VE(t){le.lFrame.currentQueryIndex=t}function zR(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function UE(t,e,n){if(n&ae.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=zR(o),i===null||(o=o[wo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=le.lFrame=jE();return r.currentTNode=e,r.lView=t,!0}function Ap(t){let e=jE(),n=t[ce];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function jE(){let t=le.lFrame,e=t===null?null:t.child;return e===null?BE(t):e}function BE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $E(){let t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var qE=$E;function Sp(){let t=$E();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function GR(t){return(le.lFrame.contextLView=MR(t,le.lFrame.contextLView))[jt]}function bo(){return le.lFrame.selectedIndex}function ri(t){le.lFrame.selectedIndex=t}function HE(){let t=le.lFrame;return Dp(t.tView,t.selectedIndex)}function WR(){return le.lFrame.currentNamespace}var zE=!0;function Mp(){return zE}function Rp(t){zE=t}function KR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ME(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function xp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Iu(t,e,n){GE(t,e,3,n)}function Eu(t,e,n,r){(t[J]&3)===n&&GE(t,e,n,r)}function vf(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function GE(t,e,n,r){let i=r!==void 0?t[ao]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ao]+=65536),(a<o||o==-1)&&(QR(t,n,e,u),t[ao]=(t[ao]&4294901760)+u+2),u++}function SI(t,e){sn(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),sn(5,t,e)}}function QR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[ao]>>16&&(t[J]&3)===e&&(t[J]+=16384,SI(a,o)):SI(a,o)}var lo=-1,ii=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function YR(t){return t instanceof ii}function JR(t){return(t.flags&8)!==0}function ZR(t){return(t.flags&16)!==0}function WE(t){return t!==lo}function Nu(t){return t&32767}function XR(t){return t>>16}function Ou(t,e){let n=XR(t),r=e;for(;n>0;)r=r[wo],n--;return r}var jf=!0;function MI(t){let e=jf;return jf=t,e}var ex=256,KE=ex-1,QE=5,tx=0,an={};function nx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hs)&&(r=n[Hs]),r==null&&(r=n[Hs]=tx++);let i=r&KE,o=1<<i;e.data[t+(i>>QE)]|=o}function ku(t,e){let n=YE(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,_f(r.data,t),_f(e,null),_f(r.blueprint,null));let i=Pp(t,e),o=t.injectorIndex;if(WE(i)){let s=Nu(i),a=Ou(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function _f(t,e){t.push(0,0,0,0,0,0,0,0,e)}function YE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Pp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=tb(i),r===null)return lo;if(n++,i=i[wo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return lo}function Bf(t,e,n){nx(t,e,n)}function rx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(fE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function JE(t,e,n){if(n&ae.Optional||t!==void 0)return t;yp(e,"NodeInjector")}function ZE(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[mo],o=Vt(void 0);try{return i?i.get(e,r,n&ae.Optional):sE(e,r,n&ae.Optional)}finally{Vt(o)}}return JE(r,e,n)}function XE(t,e,n,r=ae.Default,i){if(t!==null){if(e[J]&2048&&!(r&ae.Self)){let s=cx(t,e,n,r,an);if(s!==an)return s}let o=eb(t,e,n,r,an);if(o!==an)return o}return ZE(e,n,r,i)}function eb(t,e,n,r,i){let o=sx(n);if(typeof o=="function"){if(!UE(e,t,r))return r&ae.Host?JE(i,n,r):ZE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))yp(n);else return s}finally{qE()}}else if(typeof o=="number"){let s=null,a=YE(t,e),u=lo,l=r&ae.Host?e[un][Jt]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Pp(t,e):e[a+8],u===lo||!xI(r,!1)?a=-1:(s=e[ce],a=Nu(u),e=Ou(u,e)));a!==-1;){let h=e[ce];if(RI(o,a,h.data)){let p=ix(a,e,n,s,r,l);if(p!==an)return p}u=e[a+8],u!==lo&&xI(r,e[ce].data[a+8]===l)&&RI(o,a,e)?(s=h,a=Nu(u),e=Ou(u,e)):a=-1}}return i}function ix(t,e,n,r,i,o){let s=e[ce],a=s.data[t+8],u=r==null?Xu(a)&&jf:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,h=ox(a,s,n,u,l);return h!==null?vo(e,s,h,a):an}function ox(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let I=p;I<m;I++){let S=s[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=s[u];if(I&&yr(I)&&I.type===n)return u}return null}function vo(t,e,n,r){let i=t[n],o=e.data;if(YR(i)){let s=i;s.resolving&&PM(xM(o[n]));let a=MI(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Vt(s.injectImpl):null,h=UE(t,r,ae.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&KR(n,o[n],e)}finally{l!==null&&Vt(l),MI(a),s.resolving=!1,qE()}}return i}function sx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Hs)?t[Hs]:void 0;return typeof e=="number"?e>=0?e&KE:ax:e}function RI(t,e,n){let r=1<<t;return!!(n[e+(t>>QE)]&r)}function xI(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var Xr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XE(this._tNode,this._lView,e,Qu(r),n)}};function ax(){return new Xr(Rt(),Re())}function ci(t){return na(()=>{let e=t.prototype.constructor,n=e[Cu]||$f(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Cu]||$f(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $f(t){return eE(t)?()=>{let e=$f(mt(t));return e&&e()}:ho(t)}function cx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!(s[J]&512);){let a=eb(o,s,n,r|ae.Self,an);if(a!==an)return a;let u=o.parent;if(!u){let l=s[CE];if(l){let h=l.get(n,an,r);if(h!==an)return h}u=tb(s),s=s[wo]}o=u}return i}function tb(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function Np(t){return rx(Rt(),t)}function PI(t,e=null,n=null,r){let i=nb(t,e,n,r);return i.resolveInjectorInitializers(),i}function nb(t,e=null,n=null,r,i=new Set){let o=[n||Ut,sR(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new Ws(o,e||Ip(),r||null,i)}var pn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return PI({name:""},i,r,"");{let o=r.name??"";return PI({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=zs,e.NULL=new Su,e.\u0275prov=B({token:e,providedIn:"any",factory:()=>Z(lE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var ux="ngOriginalError";function wf(t){return t[ux]}var Fn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&wf(e);for(;n&&wf(n);)n=wf(n);return n||null}},rb=new z("",{providedIn:"root",factory:()=>N(Fn).handleError.bind(void 0)}),ib=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),qf=class extends ib{constructor(e){super(),this._lView=e}onDestroy(e){return OE(this._lView,e),()=>RR(this._lView,e)}};function lx(){return new qf(Re())}function dx(){return tl(Rt(),Re())}function tl(t,e){return new wr(Bt(t,e))}var wr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=dx;let t=e;return t})();var Hf=class extends lt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,yR()&&(this.destroyRef=N(ib,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=If(o),i&&(i=If(i)),s&&(s=If(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}};function If(t){return e=>{setTimeout(t,void 0,e)}}var Xe=Hf;function ob(t){return(t.flags&128)===128}var sb=new Map,hx=0;function fx(){return hx++}function px(t){sb.set(t[Zu],t)}function gx(t){sb.delete(t[Zu])}var NI="__ngContext__";function oi(t,e){Zr(e)?(t[NI]=e[Zu],px(e)):t[NI]=e}function ab(t){return ub(t[Qs])}function cb(t){return ub(t[Qt])}function ub(t){for(;t!==null&&!Hn(t);)t=t[Qt];return t}var zf;function lb(t){zf=t}function mx(){if(zf!==void 0)return zf;if(typeof document<"u")return document;throw new $(210,!1)}var Op=new z("",{providedIn:"root",factory:()=>yx}),yx="ng",kp=new z(""),gn=new z("",{providedIn:"platform",factory:()=>"unknown"});var Fp=new z("",{providedIn:"root",factory:()=>mx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vx="h",_x="b";var wx=()=>null;function Lp(t,e,n=!1){return wx(t,e,n)}var db=!1,Ix=new z("",{providedIn:"root",factory:()=>db});var yu;function Ex(){if(yu===void 0&&(yu=null,Jr.trustedTypes))try{yu=Jr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yu}function OI(t){return Ex()?.createScriptURL(t)||t}var Fu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZI})`}};function oa(t){return t instanceof Fu?t.changingThisBreaksApplicationSecurity:t}function Vp(t,e){let n=bx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ZI})`)}return n===e}function bx(t){return t instanceof Fu&&t.getTypeName()||null}var Dx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hb(t){return t=String(t),t.match(Dx)?t:"unsafe:"+t}var nl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nl||{});function Cx(t){let e=pb();return e?e.sanitize(nl.URL,t)||"":Vp(t,"URL")?oa(t):hb(Ku(t))}function Tx(t){let e=pb();if(e)return OI(e.sanitize(nl.RESOURCE_URL,t)||"");if(Vp(t,"ResourceURL"))return OI(oa(t));throw new $(904,!1)}function Ax(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Tx:Cx}function fb(t,e,n){return Ax(e,n)(t)}function pb(){let t=Re();return t&&t[Yt].sanitizer}function gb(t){return t instanceof Function?t():t}var Ln=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ln||{}),Sx;function Up(t,e){return Sx(t,e)}function co(t,e,n,r,i){if(r!=null){let o,s=!1;Hn(r)?o=r:Zr(r)&&(s=!0,r=r[qn]);let a=dn(r);t===0&&n!==null?i==null?_b(e,n,a):Vu(e,n,a,i||null,!0):t===1&&n!==null?Vu(e,n,a,i||null,!0):t===2?zx(e,a,s):t===3&&e.destroyNode(a),o!=null&&Wx(e,t,o,n,i)}}function Mx(t,e){return t.createText(e)}function Rx(t,e,n){t.setValue(e,n)}function mb(t,e,n){return t.createElement(e,n)}function xx(t,e){yb(t,e),e[qn]=null,e[Jt]=null}function Px(t,e,n,r,i,o){r[qn]=i,r[Jt]=e,rl(t,r,n,1,i,o)}function yb(t,e){e[Yt].changeDetectionScheduler?.notify(1),rl(t,e,e[tt],2,null,null)}function Nx(t){let e=t[Qs];if(!e)return Ef(t[ce],t);for(;e;){let n=null;if(Zr(e))n=e[Qs];else{let r=e[Mt];r&&(n=r)}if(!n){for(;e&&!e[Qt]&&e!==t;)Zr(e)&&Ef(e[ce],e),e=e[dt];e===null&&(e=t),Zr(e)&&Ef(e[ce],e),n=e&&e[Qt]}e=n}}function Ox(t,e,n,r){let i=Mt+r,o=n.length;r>0&&(n[i-1][Qt]=e),r<o-Mt?(e[Qt]=n[i],uE(n,Mt+r,e)):(n.push(e),e[Qt]=null),e[dt]=n;let s=e[Ju];s!==null&&n!==s&&kx(s,e);let a=e[yo];a!==null&&a.insertView(t),Vf(e),e[J]|=128}function kx(t,e){let n=t[xu],i=e[dt][dt][un];e[un]!==i&&(t[J]|=Ep.HasTransplantedViews),n===null?t[xu]=[e]:n.push(e)}function vb(t,e){let n=t[xu],r=n.indexOf(e);n.splice(r,1)}function Lu(t,e){if(t.length<=Mt)return;let n=Mt+e,r=t[n];if(r){let i=r[Ju];i!==null&&i!==t&&vb(i,r),e>0&&(t[n-1][Qt]=r[Qt]);let o=Au(t,Mt+e);xx(r[ce],r);let s=o[yo];s!==null&&s.detachView(o[ce]),r[dt]=null,r[Qt]=null,r[J]&=-129}return r}function jp(t,e){if(!(e[J]&256)){let n=e[tt];n.destroyNode&&rl(t,e,n,3,null,null),Nx(e)}}function Ef(t,e){if(e[J]&256)return;let n=me(null);try{e[J]&=-129,e[J]|=256,e[ti]&&Lw(e[ti]),Lx(t,e),Fx(t,e),e[ce].type===1&&e[tt].destroy();let r=e[Ju];if(r!==null&&Hn(e[dt])){r!==e[dt]&&vb(r,e);let i=e[yo];i!==null&&i.detachView(t)}gx(e)}finally{me(n)}}function Fx(t,e){let n=t.cleanup,r=e[Ks];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ks]=null);let i=e[mr];if(i!==null){e[mr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Lx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ii)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];sn(4,a,u);try{u.call(a)}finally{sn(5,a,u)}}else{sn(4,i,o);try{o.call(i)}finally{sn(5,i,o)}}}}}function Vx(t,e,n){return Ux(t,e.parent,n)}function Ux(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[qn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===cn.None||o===cn.Emulated)return null}return Bt(r,n)}}function Vu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _b(t,e,n){t.appendChild(e,n)}function kI(t,e,n,r,i){r!==null?Vu(t,e,n,r,i):_b(t,e,n)}function jx(t,e,n,r){t.removeChild(e,n,r)}function Bp(t,e){return t.parentNode(e)}function Bx(t,e){return t.nextSibling(e)}function $x(t,e,n){return Hx(t,e,n)}function qx(t,e,n){return t.type&40?Bt(t,n):null}var Hx=qx,FI;function $p(t,e,n,r){let i=Vx(t,r,e),o=e[tt],s=r.parent||e[Jt],a=$x(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)kI(o,i,n[u],a,!1);else kI(o,i,n,a,!1);FI!==void 0&&FI(o,r,e,n,i)}function bu(t,e){if(e!==null){let n=e.type;if(n&3)return Bt(e,t);if(n&4)return Gf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return bu(t,r);{let i=t[e.index];return Hn(i)?Gf(-1,i):dn(i)}}else{if(n&32)return Up(e,t)()||dn(t[e.index]);{let r=wb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Js(t[un]);return bu(i,r)}else return bu(t,e.next)}}}return null}function wb(t,e){if(e!==null){let r=t[un][Jt],i=e.projection;return r.projection[i]}return null}function Gf(t,e){let n=Mt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return bu(r,i)}return e[ni]}function zx(t,e,n){let r=Bp(t,e);r&&jx(t,r,e,n)}function qp(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&oi(dn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)qp(t,e,n.child,r,i,o,!1),co(e,t,i,a,o);else if(u&32){let l=Up(n,r),h;for(;h=l();)co(e,t,i,h,o);co(e,t,i,a,o)}else u&16?Gx(t,e,r,n,i,o):co(e,t,i,a,o);n=s?n.projectionNext:n.next}}function rl(t,e,n,r,i,o){qp(n,r,t.firstChild,e,i,o,!1)}function Gx(t,e,n,r,i,o){let s=n[un],u=s[Jt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];co(e,t,i,h,o)}else{let l=u,h=s[dt];ob(r)&&(l.flags|=128),qp(t,e,l,h,i,o,!0)}}function Wx(t,e,n,r,i){let o=n[ni],s=dn(n);o!==s&&co(e,t,r,o,i);for(let a=Mt;a<n.length;a++){let u=n[a];rl(u[ce],u,t,e,r,o)}}function Kx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ln.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ln.Important),t.setStyle(n,r,i,o))}}function Qx(t,e,n){t.setAttribute(e,"style",n)}function Ib(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Eb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Nf(t,e,r),i!==null&&Ib(t,e,i),o!==null&&Qx(t,e,o)}var Do={};function Ne(t=1){bb(Zt(),Re(),bo()+t,!1)}function bb(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Iu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Eu(e,o,0,n)}ri(n)}function de(t,e=ae.Default){let n=Re();if(n===null)return Z(t,e);let r=Rt();return XE(r,n,mt(t),e)}function Db(t,e,n,r,i,o){let s=me(null);try{let a=null;i&et.SignalBased&&(a=e[r][Gi]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&et.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):SE(e,a,r,o)}finally{me(s)}}function Yx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ri(~i);else{let o=i,s=n[++r],a=n[++r];$R(s,o);let u=e[o];a(2,u)}}}finally{ri(-1)}}function il(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[qn]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),NE(p),p[dt]=p[wo]=t,p[jt]=n,p[Yt]=s||t&&t[Yt],p[tt]=a||t&&t[tt],p[mo]=u||t&&t[mo]||null,p[Jt]=o,p[Zu]=fx(),p[Mu]=h,p[CE]=l,p[un]=e.type==2?t[un]:p,p}function ol(t,e,n,r,i){let o=t.data[e];if(o===null)o=Jx(t,e,n,r,i),BR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=LR();o.injectorIndex=s===null?-1:s.injectorIndex}return ia(o,!0),o}function Jx(t,e,n,r,i){let o=FE(),s=LE(),a=s?o:o&&o.parent,u=t.data[e]=nP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Cb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Tb(t,e,n,r,i){let o=bo(),s=r&2;try{ri(-1),s&&e.length>ln&&bb(t,e,ln,!1),sn(s?2:0,i),n(r,i)}finally{ri(o),sn(s?3:1,i)}}function Ab(t,e,n){if(AE(e)){let r=me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{me(r)}}}function Sb(t,e,n){kE()&&(uP(t,e,n,Bt(n,e)),(n.flags&64)===64&&Nb(t,e,n))}function Mb(t,e,n=Bt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Rb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Hp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Hp(t,e,n,r,i,o,s,a,u,l,h){let p=ln+r,m=p+i,I=Zx(p,m),S=typeof l=="function"?l():l;return I[ce]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function Zx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Do);return n}function Xx(t,e,n,r){let o=r.get(Ix,db)||n===cn.ShadowDom,s=t.selectRootElement(e,o);return eP(s),s}function eP(t){tP(t)}var tP=()=>null;function nP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return OR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function LI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=et.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?VI(r,n,l,a,u):VI(r,n,l,a)}return r}function VI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function rP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,I=m?m.inputs:null,S=m?m.outputs:null;u=LI(0,p.inputs,h,u,I),l=LI(1,p.outputs,h,l,S);let P=u!==null&&s!==null&&!_p(e)?wP(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function iP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function oP(t,e,n,r,i,o,s,a){let u=Bt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(zp(t,n,h,r,i),Xu(e)&&sP(n,e.index)):e.type&3?(r=iP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function sP(t,e){let n=_r(e,t);n[J]&16||(n[J]|=64)}function xb(t,e,n,r){if(kE()){let i=r===null?null:{"":-1},o=dP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Pb(t,e,n,s,i,a),i&&hP(n,r,i)}n.mergedAttrs=Gs(n.mergedAttrs,n.attrs)}function Pb(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Bf(ku(n,e),t,r[l].type);pP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Cb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Gs(n.mergedAttrs,h.hostAttrs),gP(t,n,e,u,h),fP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}rP(t,n,o)}function aP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;cP(s)!=a&&s.push(a),s.push(n,r,o)}}function cP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function uP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Xu(n)&&mP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ku(n,e),oi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=vo(e,t,a,n);if(oi(l,e),s!==null&&_P(e,a-i,l,u,n,s),yr(u)){let h=_r(n.index,e);h[jt]=vo(e,t,a,n)}}}function Nb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qR();try{ri(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Uf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&lP(u,l)}}finally{ri(-1),Uf(s)}}function lP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function dP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(JM(e,s.selectors,!1))if(r||(r=[]),yr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Wf(t,e,u)}else r.unshift(s),Wf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Wf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}}function fP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function pP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ho(i.type,!0)),s=new ii(o,yr(i),de);t.blueprint[r]=s,n[r]=s,aP(t,e,r,Cb(t,n,i.hostVars,Do),i)}function mP(t,e,n){let r=Bt(e,t),i=Rb(n),o=t[Yt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=sl(t,il(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function yP(t,e,n,r,i,o){let s=Bt(t,e);vP(e[tt],s,o,t.value,n,r,i)}function vP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ku(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function _P(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Db(r,n,u,l,h,p)}}function wP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Ob(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kb(t,e){let n=t.contentQueries;if(n!==null){let r=me(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];VE(o),a.contentQueries(2,e[s],s)}}}finally{me(r)}}}function sl(t,e){return t[Qs]?t[TI][Qt]=e:t[Qs]=e,t[TI]=e,e}function Kf(t,e,n){VE(0);let r=me(null);try{e(t,n)}finally{me(r)}}function IP(t){return t[Ks]||(t[Ks]=[])}function EP(t){return t.cleanup||(t.cleanup=[])}function Fb(t,e){let n=t[mo],r=n?n.get(Fn,null):null;r&&r.handleError(e)}function zp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];Db(h,l,r,a,u,i)}}function bP(t,e,n){let r=PE(e,t);Rx(t[tt],r,n)}function DP(t,e){let n=_r(e,t),r=n[ce];CP(r,n);let i=n[qn];i!==null&&n[Mu]===null&&(n[Mu]=Lp(i,n[mo])),Gp(r,n,n[jt])}function CP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Gp(t,e,n){Ap(e);try{let r=t.viewQuery;r!==null&&Kf(1,r,n);let i=t.template;i!==null&&Tb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[yo]?.finishViewCreation(t),t.staticContentQueries&&kb(t,e),t.staticViewQueries&&Kf(2,t.viewQuery,n);let o=t.components;o!==null&&TP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Sp()}}function TP(t,e){for(let n=0;n<e.length;n++)DP(t,e[n])}function Lb(t,e,n,r){let i=me(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=il(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ju]=l;let h=t[yo];return h!==null&&(u[yo]=h.createEmbeddedView(o)),Gp(o,u,n),u}finally{me(i)}}function AP(t,e){let n=Mt+e;if(n<t.length)return t[n]}function Qf(t,e){return!e||e.firstChild===null||ob(t)}function Vb(t,e,n,r=!0){let i=e[ce];if(Ox(i,e,t,n),r){let s=Gf(n,t),a=e[tt],u=Bp(a,t[ni]);u!==null&&Px(i,t[Jt],a,e,u,s)}let o=e[Mu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function SP(t,e){let n=Lu(t,e);return n!==void 0&&jp(n[ce],n),n}function Uu(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(dn(o)),Hn(o)&&MP(o,r);let s=n.type;if(s&8)Uu(t,e,n.child,r);else if(s&32){let a=Up(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=wb(e,n);if(Array.isArray(a))r.push(...a);else{let u=Js(e[un]);Uu(u[ce],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function MP(t,e){for(let n=Mt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&Uu(r[ce],r,i,e)}t[ni]!==t[qn]&&e.push(t[ni])}var Ub=[];function RP(t){return t[ti]??xP(t)}function xP(t){let e=Ub.pop()??Object.create(NP);return e.lView=t,e}function PP(t){t.lView[ti]!==t&&(t.lView=null,Ub.push(t))}var NP=_e(U({},Hh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ys(t.lView)},consumerOnSignalRead(){this.lView[ti]=this}}),jb=100;function Bb(t,e=!0,n=0){let r=t[Yt],i=r.rendererFactory,o=!1;o||i.begin?.();try{OP(t,n)}catch(s){throw e&&Fb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function OP(t,e){Yf(t,e);let n=0;for(;Tp(t);){if(n===jb)throw new $(103,!1);n++,Yf(t,1)}}function kP(t,e,n,r){let i=e[J];if((i&256)===256)return;let o=!1;!o&&e[Yt].inlineEffectRunner?.flush(),Ap(e);let s=null,a=null;!o&&FP(t)&&(a=RP(e),s=kw(a));try{NE(e),UR(t.bindingStartIndex),n!==null&&Tb(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Iu(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Eu(e,p,0,null),vf(e,0)}if(LP(e),$b(e,0),t.contentQueries!==null&&kb(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Iu(e,p)}else{let p=t.contentHooks;p!==null&&Eu(e,p,1),vf(e,1)}Yx(t,e);let l=t.components;l!==null&&Hb(e,l,0);let h=t.viewQuery;if(h!==null&&Kf(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Iu(e,p)}else{let p=t.viewHooks;p!==null&&Eu(e,p,2),vf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[yf]){for(let p of e[yf])p();e[yf]=null}o||(e[J]&=-73)}catch(u){throw Ys(e),u}finally{a!==null&&(Fw(a,s),PP(a)),Sp()}}function FP(t){return t.type!==2}function $b(t,e){for(let n=ab(t);n!==null;n=cb(n))for(let r=Mt;r<n.length;r++){let i=n[r];qb(i,e)}}function LP(t){for(let e=ab(t);e!==null;e=cb(e)){if(!(e[J]&Ep.HasTransplantedViews))continue;let n=e[xu];for(let r=0;r<n.length;r++){let i=n[r],o=i[dt];SR(i)}}}function VP(t,e,n){let r=_r(e,t);qb(r,n)}function qb(t,e){Cp(t)&&Yf(t,e)}function Yf(t,e){let r=t[ce],i=t[J],o=t[ti],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&zh(o)),o&&(o.dirty=!1),t[J]&=-9217,s)kP(r,t,r.template,t[jt]);else if(i&8192){$b(t,1);let a=r.components;a!==null&&Hb(t,a,1)}}function Hb(t,e,n){for(let r=0;r<e.length;r++)VP(t,e[r],n)}function Wp(t){for(t[Yt].changeDetectionScheduler?.notify();t;){t[J]|=64;let e=Js(t);if(_R(t)&&!e)return t;t=e}return null}var si=class{get rootNodes(){let e=this._lView,n=e[ce];return Uu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[dt];if(Hn(e)){let n=e[Ru],r=n?n.indexOf(this):-1;r>-1&&(Lu(e,r),Au(n,r))}this._attachedToViewContainer=!1}jp(this._lView[ce],this._lView)}onDestroy(e){OE(this._lView,e)}markForCheck(){Wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){Vf(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,Bb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,yb(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,Vf(this._lView)}},al=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BP;let t=e;return t})(),UP=al,jP=class extends UP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Lb(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new si(i)}};function BP(){return $P(Rt(),Re())}function $P(t,e){return t.type&4?new jP(e,t,tl(t,e)):null}var c3=new RegExp(`^(\\d+)*(${_x}|${vx})*(.*)`);var qP=()=>null;function Jf(t,e){return qP(t,e)}var Zf=class{},Xf=class{},ju=class{};function HP(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[zP]=t,e}var zP="ngComponent";var ep=class{resolveComponentFactory(e){throw HP(e)}},cl=(()=>{let e=class e{};e.NULL=new ep;let t=e;return t})(),Zs=class{},ui=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>GP();let t=e;return t})();function GP(){let t=Re(),e=Rt(),n=_r(e.index,t);return(Zr(n)?n:t)[tt]}var WP=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),bf={};var UI=new Set;function sa(t){UI.has(t)||(UI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function jI(...t){}function KP(){let t=typeof Jr.requestAnimationFrame=="function",e=Jr[t?"requestAnimationFrame":"setTimeout"],n=Jr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=KP().nativeRequestAnimationFrame,JP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,QP,jI,jI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},QP={};function Kp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function YP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Jr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tp(t),t.isCheckStableRunning=!0,Kp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tp(t))}function JP(t){let e=()=>{YP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(ZP(a))return n.invokeTask(i,o,s,a);try{return BI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),$I(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return BI(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),$I(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,tp(t),Kp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function tp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function BI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $I(t){t._nesting--,Kp(t)}function ZP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var zb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function np(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mI(i,a);else if(o==2){let u=a,l=e[++s];r=mI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Bu=class extends cl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ei(e);return new Xs(n,this.ngModule)}};function qI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function XP(t){let e=t.toLowerCase();return e==="svg"?bR:e==="math"?DR:null}var rp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Qu(r);let i=this.injector.get(e,bf,r);return i!==bf||n===bf?i:this.parentInjector.get(e,n,r)}},Xs=class extends ju{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=tR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=me(null);try{i=i||this.ngModule;let s=i instanceof Et?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new rp(e,s):e,u=a.get(Zs,null);if(u===null)throw new $(407,!1);let l=a.get(WP,null),h=a.get(zb,null),p=a.get(Zf,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",P=r?Xx(I,r,this.componentDef.encapsulation,a):mb(I,S,XP(S)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let F=null;P!==null&&(F=Lp(P,a,!0));let q=Hp(0,null,null,1,0,null,null,null,null,null,null),H=il(null,q,null,M,null,null,m,I,a,null,F);Ap(H);let W,Ae;try{let ee=this.componentDef,b,y=null;ee.findHostDirectiveDefs?(b=[],y=new Map,ee.findHostDirectiveDefs(ee,b,y),b.push(ee)):b=[ee];let v=eN(H,P),E=tN(v,P,ee,b,H,m,I);Ae=Dp(q,ln),P&&iN(I,ee,P,r),n!==void 0&&oN(Ae,this.ngContentSelectors,n),W=rN(E,ee,b,y,H,[sN]),Gp(q,H,null)}finally{Sp()}return new ip(this.componentType,W,tl(Ae,H),H,Ae)}finally{me(o)}}},ip=class extends Xf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new si(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;zp(o[ce],o,i,e,n),this.previousInputValues.set(e,n);let s=_r(this._tNode.index,o);Wp(s)}}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function eN(t,e){let n=t[ce],r=ln;return t[r]=e,ol(n,r,2,"#host",null)}function tN(t,e,n,r,i,o,s){let a=i[ce];nN(r,t,e,s);let u=null;e!==null&&(u=Lp(e,i[mo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=il(i,Rb(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Wf(a,t,r.length-1),sl(i,p),i[t.index]=p}function nN(t,e,n,r){for(let i of t)e.mergedAttrs=Gs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(np(e,e.mergedAttrs,!0),n!==null&&Eb(r,n,e))}function rN(t,e,n,r,i,o){let s=Rt(),a=i[ce],u=Bt(s,i);Pb(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=vo(i,a,p,s);oi(m,i)}Nb(a,i,s),u&&oi(u,i);let l=vo(i,a,s.directiveStart+s.componentOffset,s);if(t[jt]=i[jt]=l,o!==null)for(let h of o)h(l,e);return Ab(a,s,i),l}function iN(t,e,n,r){if(r)Nf(t,n,["ng-version","17.3.10"]);else{let{attrs:i,classes:o}=nR(e.selectors[0]);i&&Nf(t,n,i),o&&o.length>0&&Ib(t,n,o.join(" "))}}function oN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function sN(){let t=Rt();xp(Re()[ce],t)}var Co=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aN;let t=e;return t})();function aN(){let t=Rt();return uN(t,Re())}var cN=Co,Gb=class extends cN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return tl(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Pp(this._hostTNode,this._hostLView);if(WE(e)){let n=Ou(e,this._hostLView),r=Nu(e),i=n[ce].data[r+8];return new Xr(i,n)}else return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=HI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Jf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Qf(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!vR(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Xs(ei(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Et,null);P&&(o=P)}let h=ei(u.componentType??{}),p=Jf(this._lContainer,h?.id??null),m=p?.firstChild??null,I=u.create(l,i,m,o);return this.insertImpl(I.hostView,a,Qf(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(AR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[dt],l=new Gb(u,u[Jt],u[dt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Vb(s,i,o,r),e.attachToViewContainerRef(),uE(Df(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=HI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Lu(this._lContainer,n);r&&(Au(Df(this._lContainer),n),jp(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Lu(this._lContainer,n);return r&&Au(Df(this._lContainer),n)!=null?new si(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function HI(t){return t[Ru]}function Df(t){return t[Ru]||(t[Ru]=[])}function uN(t,e){let n,r=e[t.index];return Hn(r)?n=r:(n=Ob(r,e,null,t),e[t.index]=n,sl(e,n)),dN(n,e,t,r),new Gb(n,t,e)}function lN(t,e){let n=t[tt],r=n.createComment(""),i=Bt(e,t),o=Bp(n,i);return Vu(n,o,r,Bx(n,i),!1),r}var dN=pN,hN=()=>!1;function fN(t,e,n){return hN(t,e,n)}function pN(t,e,n,r){if(t[ni])return;let i;n.type&8?i=dn(r):i=lN(e,n),t[ni]=i}function ul(t,e){sa("NgSignals");let n=qw(t),r=n[Gi];return e?.equal&&(r.equal=e.equal),n.set=i=>Gh(r,i),n.update=i=>Hw(r,i),n.asReadonly=gN.bind(n),n}function gN(){let t=this[Gi];if(t.readonlyFn===void 0){let e=()=>this();e[Gi]=t,t.readonlyFn=e}return t.readonlyFn}function mN(t){return Object.getPrototypeOf(t.prototype).constructor}function Xt(t){let e=mN(t.type),n=!0,r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=vu(t.inputs),s.inputTransforms=vu(t.inputTransforms),s.declaredInputs=vu(t.declaredInputs),s.outputs=vu(t.outputs);let a=i.hostBindings;a&&IN(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&_N(t,u),l&&wN(t,l),yN(t,i),bM(t.outputs,i.outputs),yr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Xt&&(n=!1)}}e=Object.getPrototypeOf(e)}vN(r)}function yN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function vN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Gs(i.hostAttrs,n=Gs(n,i.hostAttrs))}}function vu(t){return t===fo?{}:t===Ut?[]:t}function _N(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function wN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function IN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Qp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var vr=class{},ea=class{};var op=class extends vr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bu(this);let i=vE(e);this._bootstrapComponents=gb(i.bootstrap),this._r3Injector=nb(e,n,[{provide:vr,useValue:this},{provide:cl,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sp=class extends ea{constructor(e){super(),this.moduleType=e}create(e){return new op(this.moduleType,e,[])}};var $u=class extends vr{constructor(e){super(),this.componentFactoryResolver=new Bu(this),this.instance=null;let n=new Ws([...e.providers,{provide:vr,useValue:this},{provide:cl,useValue:this.componentFactoryResolver}],e.parent||Ip(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yp(t,e,n=null){return new $u({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var To=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Wb(t){return bN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function EN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function bN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function aa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function DN(t){return(t.flags&32)===32}function CN(t,e,n,r,i,o,s,a,u){let l=e.consts,h=ol(e,t,4,s||null,Pu(l,a));xb(e,n,h,Pu(l,u)),xp(e,h);let p=h.tView=Hp(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function xt(t,e,n,r,i,o,s,a){let u=Re(),l=Zt(),h=t+ln,p=l.firstCreatePass?CN(h,l,u,e,n,r,i,o,s):l.data[h];ia(p,!1);let m=TN(l,u,p,t);Mp()&&$p(l,u,m,p),oi(m,u);let I=Ob(m,u,m,p);return u[h]=I,sl(u,I),fN(I,p,u),bp(p)&&Sb(l,u,p),s!=null&&Mb(u,p,a),xt}var TN=AN;function AN(t,e,n,r){return Rp(!0),e[tt].createComment("")}function ca(t,e,n,r){let i=Re(),o=el();if(aa(i,o,e)){let s=Zt(),a=HE();yP(a,i,t,e,n,r)}return ca}function SN(t,e,n,r){return aa(t,el(),n)?e+Ku(n)+r:Do}function _u(t,e){return t<<17|e<<2}function ai(t){return t>>17&32767}function MN(t){return(t&2)==2}function RN(t,e){return t&131071|e<<17}function ap(t){return t|2}function _o(t){return(t&131068)>>2}function Cf(t,e){return t&-131069|e<<2}function xN(t){return(t&1)===1}function cp(t){return t|1}function PN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ai(s),u=_o(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ra(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ai(t[a+1]);t[r+1]=_u(m,a),m!==0&&(t[m+1]=Cf(t[m+1],r)),t[a+1]=RN(t[a+1],r)}else t[r+1]=_u(a,0),a!==0&&(t[a+1]=Cf(t[a+1],r)),a=r;else t[r+1]=_u(u,0),a===0?a=r:t[u+1]=Cf(t[u+1],r),u=r;l&&(t[r+1]=ap(t[r+1])),zI(t,h,r,!0),zI(t,h,r,!1),NN(e,h,t,r,o),s=_u(a,u),o?e.classBindings=s:e.styleBindings=s}function NN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ra(o,e)>=0&&(n[r+1]=cp(n[r+1]))}function zI(t,e,n,r){let i=t[n+1],o=e===null,s=r?ai(i):_o(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];ON(u,e)&&(a=!0,t[s+1]=r?cp(l):ap(l)),s=r?ai(l):_o(l)}a&&(t[n+1]=r?ap(i):cp(i))}function ON(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ra(t,e)>=0:!1}function vt(t,e,n){let r=Re(),i=el();if(aa(r,i,e)){let o=Zt(),s=HE();oP(o,s,r,t,e,r[tt],n,!1)}return vt}function GI(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";zp(t,n,o[s],s,r)}function ll(t,e){return kN(t,e,null,!0),ll}function kN(t,e,n,r){let i=Re(),o=Zt(),s=jR(2);if(o.firstUpdatePass&&LN(o,t,s,r),e!==Do&&aa(i,s,e)){let a=o.data[bo()];$N(o,a,i,i[tt],t,i[s+1]=qN(e,n),r,s)}}function FN(t,e){return e>=t.expandoStartIndex}function LN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[bo()],s=FN(t,n);HN(o,r)&&e===null&&!s&&(e=!1),e=VN(i,o,e,r),PN(i,o,e,n,s,r)}}function VN(t,e,n,r){let i=HR(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Tf(null,t,e,n,r),n=ta(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Tf(i,t,e,n,r),o===null){let u=UN(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Tf(null,t,e,u[1],r),u=ta(u,e.attrs,r),jN(t,e,r,u))}else o=BN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function UN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(_o(r)!==0)return t[ai(r)]}function jN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ai(i)]=r}function BN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ta(r,s,n)}return ta(r,e.attrs,n)}function Tf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ta(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ta(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),qM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function $N(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=xN(l)?WI(u,e,n,i,_o(l),s):void 0;if(!qu(h)){qu(o)||MN(l)&&(o=WI(u,null,n,i,a,s));let p=PE(bo(),n);Kx(r,s,p,i,o)}}function WI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Do&&(m=p?Ut:void 0);let I=p?gf(m,r):h===r?m:void 0;if(l&&!qu(I)&&(I=gf(u,r)),qu(I)&&(a=I,s))return a;let S=t[i+1];i=s?ai(S):_o(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=gf(u,r))}return a}function qu(t){return t!==void 0}function qN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(oa(t)))),t}function HN(t,e){return(t.flags&(e?8:16))!==0}function dl(t,e,n){sa("NgControlFlow");let r=Re(),i=el(),o=zN(r,ln+t),s=0;if(aa(r,i,e)){let a=me(null);try{if(SP(o,s),e!==-1){let u=GN(r[ce],ln+e),l=Jf(o,u.tView.ssrId),h=Lb(r,u,n,{dehydratedView:l});Vb(o,h,s,Qf(u,l))}}finally{me(a)}}else{let a=AP(o,s);a!==void 0&&(a[jt]=n)}}function zN(t,e){return t[e]}function GN(t,e){return Dp(t,e)}function WN(t,e,n,r,i,o){let s=e.consts,a=Pu(s,i),u=ol(e,t,2,r,a);return xb(e,n,u,Pu(s,o)),u.attrs!==null&&np(u,u.attrs,!1),u.mergedAttrs!==null&&np(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function x(t,e,n,r){let i=Re(),o=Zt(),s=ln+t,a=i[tt],u=o.firstCreatePass?WN(s,o,i,e,n,r):o.data[s],l=KN(o,i,u,a,e,t);i[s]=l;let h=bp(u);return ia(u,!0),Eb(a,l,u),!DN(u)&&Mp()&&$p(o,i,l,u),xR()===0&&oi(l,i),PR(),h&&(Sb(o,i,u),Ab(o,u,i)),r!==null&&Mb(i,u),x}function R(){let t=Rt();LE()?VR():(t=t.parent,ia(t,!1));let e=t;kR(e)&&FR(),NR();let n=Zt();return n.firstCreatePass&&(xp(n,t),AE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&JR(e)&&GI(n,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ZR(e)&&GI(n,e,Re(),e.stylesWithoutHost,!1),R}function Ee(t,e,n,r){return x(t,e,n,r),R(),Ee}var KN=(t,e,n,r,i,o)=>(Rp(!0),mb(r,i,WR()));function hl(){return Re()}var Hu="en-US";var QN=Hu;function YN(t){typeof t=="string"&&(QN=t.toLowerCase().replace(/_/g,"-"))}function be(t,e,n,r){let i=Re(),o=Zt(),s=Rt();return ZN(o,i,i[tt],s,t,e,r),be}function JN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ks],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ZN(t,e,n,r,i,o,s){let a=bp(r),l=t.firstCreatePass&&EP(t),h=e[jt],p=IP(e),m=!0;if(r.type&3||s){let P=Bt(r,e),M=s?s(P):P,F=p.length,q=s?W=>s(dn(W[r.index])):r.index,H=null;if(!s&&a&&(H=JN(t,e,i,r.index)),H!==null){let W=H.__ngLastListenerFn__||H;W.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,m=!1}else{o=QI(r,e,h,o,!1);let W=n.listen(M,i,o);p.push(o,W),l&&l.push(i,q,F,F+1)}}else o=QI(r,e,h,o,!1);let I=r.outputs,S;if(m&&I!==null&&(S=I[i])){let P=S.length;if(P)for(let M=0;M<P;M+=2){let F=S[M],q=S[M+1],Ae=e[F][q].subscribe(o),ee=p.length;p.push(o,Ae),l&&l.push(i,r.index,ee,-(ee+1))}}}function KI(t,e,n,r){let i=me(null);try{return sn(6,e,n),n(r)!==!1}catch(o){return Fb(t,o),!1}finally{sn(7,e,n),me(i)}}function QI(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?_r(t.index,e):e;Wp(a);let u=KI(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=KI(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function mn(t=1){return GR(t)}function k(t,e=""){let n=Re(),r=Zt(),i=t+ln,o=r.firstCreatePass?ol(r,i,1,e,null):r.data[i],s=XN(r,n,o,e,t);n[i]=s,Mp()&&$p(r,n,s,o),ia(o,!1)}var XN=(t,e,n,r,i)=>(Rp(!0),Mx(e[tt],r));function nt(t){return Kb("",t,""),nt}function Kb(t,e,n){let r=Re(),i=SN(r,t,e,n);return i!==Do&&bP(r,bo(),i),Kb}function eO(t,e,n){let r=Zt();if(r.firstCreatePass){let i=yr(t);up(n,r.data,r.blueprint,i,!0),up(e,r.data,r.blueprint,i,!1)}}function up(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let o=0;o<t.length;o++)up(t[o],e,n,r,i);else{let o=Zt(),s=Re(),a=Rt(),u=go(t)?t:mt(t.provide),l=DE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(go(t)||!t.multi){let I=new ii(l,i,de),S=Sf(u,e,i?h:h+m,p);S===-1?(Bf(ku(a,s),o,u),Af(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)):(n[S]=I,s[S]=I)}else{let I=Sf(u,e,h+m,p),S=Sf(u,e,h,h+m),P=I>=0&&n[I],M=S>=0&&n[S];if(i&&!M||!i&&!P){Bf(ku(a,s),o,u);let F=rO(i?nO:tO,n.length,i,r,l);!i&&M&&(n[S].providerFactory=F),Af(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=Qb(n[i?S:I],l,!i&&r);Af(o,t,I>-1?I:S,F)}!i&&r&&M&&n[S].componentProviders++}}}function Af(t,e,n,r){let i=go(e),o=lR(e);if(i||o){let u=(o?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Qb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function tO(t,e,n,r){return lp(this.multi,[])}function nO(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=vo(n,n[ce],this.providerFactory.index,r);o=a.slice(0,s),lp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],lp(i,o);return o}function lp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function rO(t,e,n,r,i){let o=new ii(t,n,de);return o.multi=[],o.index=e,o.componentProviders=0,Qb(o,i,r&&!n),o}function li(t,e=[]){return n=>{n.providersResolver=(r,i)=>eO(r,i?i(t):t,e)}}var iO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=IE(!1,r.type),o=i.length>0?Yp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(Z(Et))});let t=e;return t})();function Pe(t){sa("NgStandalone"),t.getStandaloneInjector=e=>e.get(iO).getOrCreateStandaloneInjector(t)}var Vn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Yb=new Vn("17.3.10"),fl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Jb=new z("");function di(t){return!!t&&typeof t.then=="function"}function Zb(t){return!!t&&typeof t.subscribe=="function"}var Xb=new z(""),e0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=N(Xb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(di(s))r.push(s);else if(Zb(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pl=new z("");function oO(){$w(()=>{throw new $(600,!1)})}function sO(t){return t.isBoundToModule}function aO(t,e,n){try{let r=n();return di(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ao=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(rb),this.afterRenderEffectManager=N(zb),this.externalTestViews=new Set,this.beforeRender=new lt,this.afterTick=new lt,this.componentTypes=[],this.components=[],this.isStable=N(To).hasPendingTasks.pipe(ie(r=>!r)),this._injector=N(Et)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ju;if(!this._injector.get(e0).done){let I=!o&&yE(r),S=!1;throw new $(405,S)}let a;o?a=r:a=this._injector.get(cl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=sO(a)?void 0:this._injector.get(vr),l=i||a.selector,h=a.create(pn.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(Jb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Mf(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new $(101,!1);let i=me(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,me(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===jb)throw new $(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)cO(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>dp(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>dp(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Mf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(pl,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Mf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cO(t,e,n){!e&&!dp(t)||uO(t,n,e)}function dp(t){return Tp(t)}function uO(t,e,n){let r;n?(r=0,t[J]|=1024):t[J]&64?r=0:r=1,Bb(t,e,r)}var hp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Jp=(()=>{let e=class e{compileModuleSync(r){return new sp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=vE(r),s=gb(o.declarations).reduce((a,u)=>{let l=ei(u);return l&&a.push(new Xs(l)),a},[]);return new hp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lO=(()=>{let e=class e{constructor(){this.zone=N(Ce),this.applicationRef=N(Ao)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dO(t){return[{provide:Ce,useFactory:t},{provide:po,multi:!0,useFactory:()=>{let e=N(lO,{optional:!0});return()=>e.initialize()}},{provide:po,multi:!0,useFactory:()=>{let e=N(gO);return()=>{e.initialize()}}},{provide:rb,useFactory:hO}]}function hO(){let t=N(Ce),e=N(Fn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function fO(t){let e=dO(()=>new Ce(pO(t)));return fn([[],e])}function pO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var gO=(()=>{let e=class e{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=N(Ce),this.pendingTasks=N(To)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mO(){return typeof $localize<"u"&&$localize.locale||Hu}var Zp=new z("",{providedIn:"root",factory:()=>N(Zp,ae.Optional|ae.SkipSelf)||mO()});var t0=new z("");var Du=null;function yO(t=[],e){return pn.create({name:e,providers:[{provide:Yu,useValue:"platform"},{provide:t0,useValue:new Set([()=>Du=null])},...t]})}function vO(t=[]){if(Du)return Du;let e=yO(t);return Du=e,oO(),_O(e),e}function _O(t){t.get(kp,null)?.forEach(n=>n())}var So=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wO;let t=e;return t})();function wO(t){return IO(Rt(),Re(),(t&16)===16)}function IO(t,e,n){if(Xu(t)&&!n){let r=_r(t.index,e);return new si(r,r)}else if(t.type&47){let r=e[un];return new si(r,e)}return null}var fp=class{constructor(){}supports(e){return Wb(e)}create(e){return new pp(e)}},EO=(t,e)=>e,pp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||EO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<YI(r,i,o)?n:r,a=YI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let I=m<o.length?o[m]:o[m]=0,S=I+m;h<=S&&S<l&&(o[m]=I+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Wb(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,EN(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new gp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new zu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new zu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},gp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},mp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},zu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new mp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function YI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function JI(){return new Xp([new fp])}var Xp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||JI()),deps:[[e,new cE,new hn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new $(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:JI});let t=e;return t})();function n0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=vO(r),o=[fO(),...n||[]],a=new $u({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ce);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Fn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>a.destroy(),m=i.get(t0);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),aO(l,u,()=>{let I=a.get(e0);return I.runInitializers(),I.donePromise.then(()=>{let S=a.get(Zp,Hu);YN(S||Hu);let P=a.get(Ao);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function hi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var a0=null;function Gn(){return a0}function c0(t){a0??=t}var gl=class{};var bt=new z(""),u0=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(bO),providedIn:"platform"});let t=e;return t})();var bO=(()=>{let e=class e extends u0{constructor(){super(),this._doc=N(bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gn().getBaseHref(this._doc)}onPopState(r){let i=Gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function l0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function r0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function fi(t){return t&&t[0]!=="?"?"?"+t:t}var Ro=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(d0),providedIn:"root"});let t=e;return t})(),DO=new z(""),d0=(()=>{let e=class e extends Ro{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return l0(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+fi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+fi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+fi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Z(u0),Z(DO,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _t=(()=>{let e=class e{constructor(r){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=AO(r0(i0(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+fi(i))}normalize(r){return e.stripTrailingSlash(TO(this._basePath,i0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=fi,e.joinWithSlash=l0,e.stripTrailingSlash=r0,e.\u0275fac=function(i){return new(i||e)(Z(Ro))},e.\u0275prov=B({token:e,factory:()=>CO(),providedIn:"root"});let t=e;return t})();function CO(){return new _t(Z(Ro))}function TO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function i0(t){return t.replace(/\/index.html$/,"")}function AO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ml(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var eg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xo=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new eg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),o0(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);o0(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(de(Co),de(al),de(Xp))},e.\u0275dir=He({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function o0(t,e){t.context.$implicit=e.item}var h0=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new tg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){s0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){s0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(de(Co),de(al))},e.\u0275dir=He({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),tg=class{constructor(){this.$implicit=null,this.ngIf=null}};function s0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}var Pt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=jn({});let t=e;return t})(),f0="browser",SO="server";function yl(t){return t===SO}var Mo=class{};var la=class{},_l=class{},pi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var rg=class{encodeKey(e){return p0(e)}encodeValue(e){return p0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function xO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var PO=/%(\d[a-f0-9])/gi,NO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function p0(t){return encodeURIComponent(t).replace(PO,(e,n)=>NO[n]??e)}function vl(t){return`${t}`}var Ir=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=xO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(vl):[vl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(vl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(vl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ig=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function OO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function g0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function m0(t){return typeof Blob<"u"&&t instanceof Blob}function y0(t){return typeof FormData<"u"&&t instanceof FormData}function kO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ua=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(OO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new pi,this.context??=new ig,!this.params)this.params=new Ir,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||g0(this.body)||m0(this.body)||y0(this.body)||kO(this.body)?this.body:this.body instanceof Ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||y0(this.body)?null:m0(this.body)?this.body.type||null:g0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,I)=>m.set(I,e.setHeaders[I]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,I)=>m.set(I,e.setParams[I]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},No=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(No||{}),da=class{constructor(e,n=El.Ok,r="OK"){this.headers=e.headers||new pi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},og=class t extends da{constructor(e={}){super(e),this.type=No.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wl=class t extends da{constructor(e={}){super(e),this.type=No.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Il=class extends da{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},El=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(El||{});function ng(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Wn=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof ua)s=r;else{let l;o.headers instanceof pi?l=o.headers:l=new pi(o.headers);let h;o.params&&(o.params instanceof Ir?h=o.params:h=new Ir({fromObject:o.params})),s=new ua(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=K(s).pipe(fr(l=>this.handler.handle(l)));if(r instanceof ua||o.observe==="events")return a;let u=a.pipe(St(l=>l instanceof wl));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(ie(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ir().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,ng(o,i))}post(r,i,o={}){return this.request("POST",r,ng(o,i))}put(r,i,o={}){return this.request("PUT",r,ng(o,i))}};e.\u0275fac=function(i){return new(i||e)(Z(la))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function FO(t,e){return e(t)}function LO(t,e,n){return(r,i)=>$n(n,()=>e(r,o=>t(o,i)))}var w0=new z(""),VO=new z(""),UO=new z("");var v0=(()=>{let e=class e extends la{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=N(To);let o=N(UO,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(w0),...this.injector.get(VO,[])]));this.chain=o.reduceRight((s,a)=>LO(s,a,this.injector),FO)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Yr(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(Z(_l),Z(Et))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();var jO=/^\)\]\}',?\n/;function BO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var _0=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new $(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ie(i.\u0275loadImpl()):K(null)).pipe(Ze(()=>new se(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((M,F)=>a.setRequestHeader(M,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let M=r.detectContentTypeHeader();M!==null&&a.setRequestHeader("Content-Type",M)}if(r.responseType){let M=r.responseType.toLowerCase();a.responseType=M!=="json"?M:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let M=a.statusText||"OK",F=new pi(a.getAllResponseHeaders()),q=BO(a)||r.url;return l=new og({headers:F,status:a.status,statusText:M,url:q}),l},p=()=>{let{headers:M,status:F,statusText:q,url:H}=h(),W=null;F!==El.NoContent&&(W=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=W?El.Ok:0);let Ae=F>=200&&F<300;if(r.responseType==="json"&&typeof W=="string"){let ee=W;W=W.replace(jO,"");try{W=W!==""?JSON.parse(W):null}catch(b){W=ee,Ae&&(Ae=!1,W={error:b,text:W})}}Ae?(s.next(new wl({body:W,headers:M,status:F,statusText:q,url:H||void 0})),s.complete()):s.error(new Il({error:W,headers:M,status:F,statusText:q,url:H||void 0}))},m=M=>{let{url:F}=h(),q=new Il({error:M,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});s.error(q)},I=!1,S=M=>{I||(s.next(h()),I=!0);let F={type:No.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),s.next(F)},P=M=>{let F={type:No.UploadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),s.next(F)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",S),u!==null&&a.upload&&a.upload.addEventListener("progress",P)),a.send(u),s.next({type:No.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",S),u!==null&&a.upload&&a.upload.removeEventListener("progress",P)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(Z(Mo))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),I0=new z(""),$O="XSRF-TOKEN",qO=new z("",{providedIn:"root",factory:()=>$O}),HO="X-XSRF-TOKEN",zO=new z("",{providedIn:"root",factory:()=>HO}),bl=class{},GO=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=ml(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(Z(bt),Z(gn),Z(qO))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function WO(t,e){let n=t.url.toLowerCase();if(!N(I0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=N(bl).getToken(),i=N(zO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function E0(...t){let e=[Wn,_0,v0,{provide:la,useExisting:v0},{provide:_l,useExisting:_0},{provide:w0,useValue:WO,multi:!0},{provide:I0,useValue:!0},{provide:bl,useClass:GO}];for(let n of t)e.push(...n.\u0275providers);return fn(e)}var cg=class extends gl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ug=class t extends cg{static makeCurrent(){c0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=QO();return n==null?null:YO(n)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ml(document.cookie,e)}},ha=null;function QO(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}function YO(t){return new URL(t,document.baseURI).pathname}var JO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),lg=new z(""),T0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Z(lg),Z(Ce))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Dl=class{constructor(e){this._doc=e}},sg="ng-app-id",A0=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yl(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${sg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(sg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(sg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Z(bt),Z(Op),Z(Fp,8),Z(gn))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),ag={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hg=/%COMP%/g,S0="%COMP%",ZO=`_nghost-${S0}`,XO=`_ngcontent-${S0}`,ek=!0,tk=new z("",{providedIn:"root",factory:()=>ek});function nk(t){return XO.replace(hg,t)}function rk(t){return ZO.replace(hg,t)}function M0(t,e){return e.map(n=>n.replace(hg,t))}var b0=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=yl(u),this.defaultRenderer=new fa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===cn.ShadowDom&&(i=_e(U({},i),{encapsulation:cn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Cl?o.applyToHost(r):o instanceof pa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case cn.Emulated:s=new Cl(l,h,i,this.appId,p,a,u,m);break;case cn.ShadowDom:return new dg(l,h,r,i,a,u,this.nonce,m);default:s=new pa(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Z(T0),Z(A0),Z(Op),Z(tk),Z(bt),Z(gn),Z(Ce),Z(Fp))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),fa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ag[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(D0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(D0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=ag[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ag[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ln.DashCase|Ln.Important)?e.style.setProperty(n,r,i&Ln.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ln.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function D0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var dg=class extends fa{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=M0(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pa=class extends fa{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?M0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Cl=class extends pa{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=nk(l),this.hostAttr=rk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},ik=(()=>{let e=class e extends Dl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Z(bt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),C0=["alt","control","meta","shift"],ok={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ak=(()=>{let e=class e extends Dl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),C0.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=ok[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),C0.forEach(a=>{if(a!==o){let u=sk[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Z(bt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function R0(t,e){return n0(U({rootComponent:t},ck(e)))}function ck(t){return{appProviders:[...fk,...t?.providers??[]],platformProviders:hk}}function uk(){ug.makeCurrent()}function lk(){return new Fn}function dk(){return lb(document),document}var hk=[{provide:gn,useValue:f0},{provide:kp,useValue:uk,multi:!0},{provide:bt,useFactory:dk,deps:[]}];var fk=[{provide:Yu,useValue:"root"},{provide:Fn,useFactory:lk,deps:[]},{provide:lg,useClass:ik,multi:!0,deps:[bt,Ce,gn]},{provide:lg,useClass:ak,multi:!0,deps:[bt]},b0,A0,T0,{provide:Zs,useExisting:b0},{provide:Mo,useClass:JO,deps:[]},[]];var x0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Z(bt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oe="primary",Ma=Symbol("RouteTitle"),yg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vo(t){return new yg(t)}function gk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yn(t[n],e[n]))return!1;return!0}function yn(t,e){let n=t?vg(t):void 0,r=e?vg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!L0(t[i],e[i]))return!1;return!0}function vg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function L0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function V0(t){return t.length>0?t[t.length-1]:null}function Dr(t){return af(t)?t:di(t)?Ie(Promise.resolve(t)):K(t)}var yk={exact:j0,subset:B0},U0={exact:vk,subset:_k,ignored:()=>!0};function P0(t,e,n){return yk[n.paths](t.root,e.root,n.matrixParams)&&U0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function vk(t,e){return yn(t,e)}function j0(t,e,n){if(!mi(t.segments,e.segments)||!Sl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!j0(t.children[r],e.children[r],n))return!1;return!0}function _k(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>L0(t[n],e[n]))}function B0(t,e,n){return $0(t,e,e.segments,n)}function $0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!mi(i,n)||e.hasChildren()||!Sl(i,n,r))}else if(t.segments.length===n.length){if(!mi(t.segments,n)||!Sl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!B0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!mi(t.segments,i)||!Sl(t.segments,i,r)||!t.children[oe]?!1:$0(t.children[oe],e,o,r)}}function Sl(t,e,n){return e.every((r,i)=>U0[n](t[i].parameters,r.parameters))}var Er=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){return Ek.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ml(this)}},gi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vo(this.parameters),this._parameterMap}toString(){return H0(this)}};function wk(t,e){return mi(t,e)&&t.every((n,r)=>yn(n.parameters,e[r].parameters))}function mi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Ik(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var Hg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new xl,providedIn:"root"});let t=e;return t})(),xl=class{parse(e){let n=new wg(e);return new Er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ga(e.root,!0)}`,r=Ck(e.queryParams),i=typeof e.fragment=="string"?`#${bk(e.fragment)}`:"";return`${n}${r}${i}`}},Ek=new xl;function Ml(t){return t.segments.map(e=>H0(e)).join("/")}function ga(t,e){if(!t.hasChildren())return Ml(t);if(e){let n=t.children[oe]?ga(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${ga(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Ik(t,(r,i)=>i===oe?[ga(t.children[oe],!1)]:[`${i}:${ga(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Ml(t)}/${n[0]}`:`${Ml(t)}/(${n.join("//")})`}}function q0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tl(t){return q0(t).replace(/%3B/gi,";")}function bk(t){return encodeURI(t)}function _g(t){return q0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rl(t){return decodeURIComponent(t)}function N0(t){return Rl(t.replace(/\+/g,"%20"))}function H0(t){return`${_g(t.path)}${Dk(t.parameters)}`}function Dk(t){return Object.entries(t).map(([e,n])=>`;${_g(e)}=${_g(n)}`).join("")}function Ck(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Tl(n)}=${Tl(i)}`).join("&"):`${Tl(n)}=${Tl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Tk=/^[^\/()?;#]+/;function fg(t){let e=t.match(Tk);return e?e[0]:""}var Ak=/^[^\/()?;=#]+/;function Sk(t){let e=t.match(Ak);return e?e[0]:""}var Mk=/^[^=?&#]+/;function Rk(t){let e=t.match(Mk);return e?e[0]:""}var xk=/^[^&#]+/;function Pk(t){let e=t.match(xk);return e?e[0]:""}var wg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new we(e,n)),r}parseSegment(){let e=fg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new gi(Rl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Sk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=fg(this.remaining);i&&(r=i,this.capture(r))}e[Rl(n)]=Rl(r)}parseQueryParam(e){let n=Rk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Pk(this.remaining);s&&(r=s,this.capture(r))}let i=N0(n),o=N0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[oe]:new we([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function z0(t){return t.segments.length>0?new we([],{[oe]:t}):t}function G0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=G0(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new we(t.segments,e);return Nk(n)}function Nk(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new we(t.segments.concat(e.segments),e.children)}return t}function Uo(t){return t instanceof Er}function Ok(t,e,n=null,r=null){let i=W0(t);return K0(i,e,n,r)}function W0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new we(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=z0(r);return e??i}function K0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return pg(i,i,i,n,r);let o=kk(e);if(o.toRoot())return pg(i,i,new we([],{}),n,r);let s=Fk(o,i,t),a=s.processChildren?va(s.segmentGroup,s.index,o.commands):Y0(s.segmentGroup,s.index,o.commands);return pg(i,s.segmentGroup,a,n,r)}function Pl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ia(t){return typeof t=="object"&&t!=null&&t.outlets}function pg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=Q0(t,e,n);let a=z0(G0(s));return new Er(a,o,i)}function Q0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Q0(o,e,n)}),new we(t.segments,r)}var Nl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pl(r[0]))throw new $(4003,!1);let i=r.find(Ia);if(i&&i!==V0(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function kk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Nl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Nl(n,e,r)}var Fo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Fk(t,e,n){if(t.isAbsolute)return new Fo(e,!0,0);if(!n)return new Fo(e,!1,NaN);if(n.parent===null)return new Fo(n,!0,0);let r=Pl(t.commands[0])?0:1,i=n.segments.length-1+r;return Lk(n,i,t.numberOfDoubleDots)}function Lk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Fo(r,!1,i-o)}function Vk(t){return Ia(t[0])?t[0].outlets:{[oe]:t}}function Y0(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return va(t,e,n);let r=Uk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new we(t.segments.slice(0,r.pathIndex),{});return o.children[oe]=new we(t.segments.slice(r.pathIndex),t.children),va(o,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?Ig(t,e,n):r.match?va(t,0,i):Ig(t,e,n)}function va(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=Vk(n),i={};if(Object.keys(r).some(o=>o!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let o=va(t.children[oe],e,n);return new we(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Y0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new we(t.segments,i)}}function Uk(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ia(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!k0(u,l,s))return o;r+=2}else{if(!k0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ig(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ia(o)){let u=jk(o.outlets);return new we(r,u)}if(i===0&&Pl(n[0])){let u=t.segments[e];r.push(new gi(u.path,O0(n[0]))),i++;continue}let s=Ia(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Pl(a)?(r.push(new gi(s,O0(a))),i+=2):(r.push(new gi(s,{})),i++)}return new we(r,{})}function jk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ig(new we([],{}),0,r))}),e}function O0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function k0(t,e,n){return t==n.path&&yn(e,n.parameters)}var _a="imperative",rt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(rt||{}),$t=class{constructor(e,n){this.id=e,this.url=n}},Ea=class extends $t{constructor(e,n,r="imperative",i=null){super(e,n),this.type=rt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vn=class extends $t{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=rt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ot=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ot||{}),Eg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Eg||{}),br=class extends $t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=rt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yi=class extends $t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=rt.NavigationSkipped}},ba=class extends $t{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=rt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ol=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=rt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=rt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dg=class extends $t{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=rt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=rt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=rt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ag=class{constructor(e){this.route=e,this.type=rt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sg=class{constructor(e){this.route=e,this.type=rt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mg=class{constructor(e){this.snapshot=e,this.type=rt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rg=class{constructor(e){this.snapshot=e,this.type=rt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xg=class{constructor(e){this.snapshot=e,this.type=rt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pg=class{constructor(e){this.snapshot=e,this.type=rt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Da=class{},Ca=class{constructor(e){this.url=e}};var Ng=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jl,this.attachRef=null}},jl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ng,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Og(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Og(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=kg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kg(e,this._root).map(n=>n.value)}};function Og(t,e){if(t===e.value)return e;for(let n of e.children){let r=Og(t,n);if(r)return r}return null}function kg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=kg(t,n);if(r.length)return r.unshift(e),r}return[]}var Nt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ko(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Fl=class extends kl{constructor(e,n){super(e),this.snapshot=n,Gg(this,e)}toString(){return this.snapshot.toString()}};function J0(t){let e=Bk(t),n=new Je([new gi("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),a=new vi(n,r,o,s,i,oe,t,e.root);return a.snapshot=e.root,new Fl(new Nt(a,[]),e)}function Bk(t){let e={},n={},r={},i="",o=new Ta([],e,r,i,n,oe,t,null,{});return new Ll("",new Nt(o,[]))}var vi=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Ma]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&X0(i)&&(r.resolve[Ma]=i.title),r}var Ta=class{get title(){return this.data?.[Ma]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ll=class extends kl{constructor(e,n){super(n),this.url=e,Gg(this,n)}toString(){return Z0(this._root)}};function Gg(t,e){e.value._routerState=t,e.children.forEach(n=>Gg(t,n))}function Z0(t){let e=t.children.length>0?` { ${t.children.map(Z0).join(", ")} } `:"";return`${t.value}${e}`}function gg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),yn(e.params,n.params)||t.paramsSubject.next(n.params),mk(e.url,n.url)||t.urlSubject.next(n.url),yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fg(t,e){let n=yn(t.params,e.params)&&wk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Fg(t.parent,e.parent))}function X0(t){return typeof t.title=="string"||t.title===null}var Ra=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=N(jl),this.location=N(Co),this.changeDetector=N(So),this.environmentInjector=N(Et),this.inputBinder=N(Wg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Lg(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=He({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zn]});let t=e;return t})(),Lg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===vi?this.route:e===jl?this.childContexts:this.parent.get(e,n)}},Wg=new z("");function $k(t,e,n){let r=Aa(t,e._root,n?n._root:void 0);return new Fl(r,e)}function Aa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=qk(t,e,n);return new Nt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Aa(t,a)),s}}let r=Hk(e.value),i=e.children.map(o=>Aa(t,o));return new Nt(r,i)}}function qk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Aa(t,r,i);return Aa(t,r)})}function Hk(t){return new vi(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var eD="ngNavigationCancelingError";function tD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nD(!1,Ot.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function nD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[eD]=!0,n.cancellationCode=e,n}function zk(t){return rD(t)&&Uo(t.url)}function rD(t){return!!t&&t[eD]}var Gk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Pe],decls:1,vars:0,template:function(i,o){i&1&&Ee(0,"router-outlet")},dependencies:[Ra],encapsulation:2});let t=e;return t})();function Wk(t,e){return t.providers&&!t._injector&&(t._injector=Yp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Kg(t){let e=t.children&&t.children.map(Kg),n=e?_e(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=Gk),n}function _n(t){return t.outlet||oe}function Kk(t,e){let n=t.filter(r=>_n(r)===e);return n.push(...t.filter(r=>_n(r)!==e)),n}function xa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Qk=(t,e,n,r)=>ie(i=>(new Vg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Vg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),gg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ko(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ko(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Pg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Rg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(gg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),gg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=xa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Vl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Lo=class{constructor(e,n){this.component=e,this.route=n}};function Yk(t,e,n){let r=t._root,i=e?e._root:null;return ma(r,i,n,[r.value])}function Jk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Bo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!tE(t)?t:e.get(t):r}function ma(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ko(e);return t.children.forEach(s=>{Zk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wa(a,n.getContext(s),i)),i}function Zk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Xk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Vl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ma(t,e,a?a.children:null,r,i):ma(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Lo(a.outlet.component,s))}else s&&wa(e,a,i),i.canActivateChecks.push(new Vl(r)),o.component?ma(t,null,a?a.children:null,r,i):ma(t,null,n,r,i);return i}function Xk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!mi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mi(t.url,e.url)||!yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fg(t,e)||!yn(t.queryParams,e.queryParams);case"paramsChange":default:return!Fg(t,e)}}function wa(t,e,n){let r=ko(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?wa(s,e.children.getContext(o),n):wa(s,null,n):wa(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Lo(e.outlet.component,i)):n.canDeactivateChecks.push(new Lo(null,i)):n.canDeactivateChecks.push(new Lo(null,i))}function Pa(t){return typeof t=="function"}function e1(t){return typeof t=="boolean"}function t1(t){return t&&Pa(t.canLoad)}function n1(t){return t&&Pa(t.canActivate)}function r1(t){return t&&Pa(t.canActivateChild)}function i1(t){return t&&Pa(t.canDeactivate)}function o1(t){return t&&Pa(t.canMatch)}function iD(t){return t instanceof On||t?.name==="EmptyError"}var Al=Symbol("INITIAL_VALUE");function jo(){return Ze(t=>fu(t.map(e=>e.pipe(kn(1),ff(Al)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Al)return Al;if(n===!1||n instanceof Er)return n}return!0}),St(e=>e!==Al),kn(1)))}function s1(t,e){return qe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?K(_e(U({},n),{guardsResult:!0})):a1(s,r,i,t).pipe(qe(a=>a&&e1(a)?c1(r,o,t,e):K(a)),ie(a=>_e(U({},n),{guardsResult:a})))})}function a1(t,e,n,r){return Ie(t).pipe(qe(i=>f1(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function c1(t,e,n,r){return Ie(e).pipe(fr(i=>io(l1(i.route.parent,r),u1(i.route,r),h1(t,i.path,n),d1(t,i.route,n))),on(i=>i!==!0,!0))}function u1(t,e){return t!==null&&e&&e(new xg(t)),K(!0)}function l1(t,e){return t!==null&&e&&e(new Mg(t)),K(!0)}function d1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>pu(()=>{let s=xa(e)??n,a=Bo(o,s),u=n1(a)?a.canActivate(e,t):$n(s,()=>a(e,t));return Dr(u).pipe(on())}));return K(i).pipe(jo())}function h1(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Jk(s)).filter(s=>s!==null).map(s=>pu(()=>{let a=s.guards.map(u=>{let l=xa(s.node)??n,h=Bo(u,l),p=r1(h)?h.canActivateChild(r,t):$n(l,()=>h(r,t));return Dr(p).pipe(on())});return K(a).pipe(jo())}));return K(o).pipe(jo())}function f1(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=xa(e)??i,l=Bo(a,u),h=i1(l)?l.canDeactivate(t,e,n,r):$n(u,()=>l(t,e,n,r));return Dr(h).pipe(on())});return K(s).pipe(jo())}function p1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=Bo(s,t),u=t1(a)?a.canLoad(e,n):$n(t,()=>a(e,n));return Dr(u)});return K(o).pipe(jo(),oD(r))}function oD(t){return Zh(Ue(e=>{if(Uo(e))throw tD(t,e)}),ie(e=>e===!0))}function g1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=Bo(s,t),u=o1(a)?a.canMatch(e,n):$n(t,()=>a(e,n));return Dr(u)});return K(o).pipe(jo(),oD(r))}var Sa=class{constructor(e){this.segmentGroup=e||null}},Ul=class extends Error{constructor(e){super(),this.urlTree=e}};function Oo(t){return ro(new Sa(t))}function m1(t){return ro(new $(4e3,!1))}function y1(t){return ro(nD(!1,Ot.GuardRejected))}var Ug=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[oe])return m1(e.redirectTo);i=i.children[oe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ul(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Er(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new we(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function v1(t,e,n,r,i){let o=Qg(t,e,n);return o.matched?(r=Wk(e,r),g1(r,e,n,i).pipe(ie(s=>s===!0?o:U({},jg)))):K(o)}function Qg(t,e,n){if(e.path==="**")return _1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},jg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||gk)(n,t,e);if(!i)return U({},jg);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _1(t){return{matched:!0,parameters:t.length>0?V0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function F0(t,e,n,r){return n.length>0&&E1(t,n,r)?{segmentGroup:new we(e,I1(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&b1(t,n,r)?{segmentGroup:new we(t.segments,w1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function w1(t,e,n,r){let i={};for(let o of n)if(Bl(t,e,o)&&!r[_n(o)]){let s=new we([],{});i[_n(o)]=s}return U(U({},r),i)}function I1(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&_n(r)!==oe){let i=new we([],{});n[_n(r)]=i}return n}function E1(t,e,n){return n.some(r=>Bl(t,e,r)&&_n(r)!==oe)}function b1(t,e,n){return n.some(r=>Bl(t,e,r))}function Bl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function D1(t,e,n,r){return _n(t)!==r&&(r===oe||!Bl(e,n,t))?!1:Qg(e,t,n).matched}function C1(t,e,n){return e.length===0&&!t.children[n]}var Bg=class{};function T1(t,e,n,r,i,o,s="emptyOnly"){return new $g(t,e,n,r,i,s,o).recognize()}var A1=31,$g=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ug(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=F0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(n=>{let r=new Ta([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,{}),i=new Nt(r,n),o=new Ll("",i),s=Ok(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,oe).pipe(hr(r=>{if(r instanceof Ul)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=zg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ie(o=>o instanceof Nt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ie(i).pipe(fr(o=>{let s=r.children[o],a=Kk(n,o);return this.processSegmentGroup(e,a,s,o)}),hf((o,s)=>(o.push(...s),o)),pr(null),df(),qe(o=>{if(o===null)return Oo(r);let s=sD(o);return S1(s),K(s)}))}processSegment(e,n,r,i,o,s){return Ie(n).pipe(fr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(hr(u=>{if(u instanceof Sa)return K(null);throw u}))),on(a=>!!a),hr(a=>{if(iD(a))return C1(r,i,o)?K(new Bg):Oo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return D1(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Oo(i):Oo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=Qg(n,i,o);if(!a)return Oo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>A1&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(qe(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=v1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ze(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ze(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,I=new Ta(h,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,R1(r),_n(r),r.component??r._loadedComponent??null,r,x1(r)),{segmentGroup:S,slicedSegments:P}=F0(n,h,p,u);if(P.length===0&&S.hasChildren())return this.processChildren(l,u,S).pipe(ie(F=>F===null?null:new Nt(I,F)));if(u.length===0&&P.length===0)return K(new Nt(I,[]));let M=_n(r)===o;return this.processSegment(l,u,S,P,M?oe:o,!0).pipe(ie(F=>new Nt(I,F instanceof Nt?[F]:[])))}))):Oo(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):p1(e,n,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):y1(n))):K({routes:[],injector:e})}};function S1(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function M1(t){let e=t.value.routeConfig;return e&&e.path===""}function sD(t){let e=[],n=new Set;for(let r of t){if(!M1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=sD(r.children);e.push(new Nt(r.value,i))}return e.filter(r=>!n.has(r))}function R1(t){return t.data||{}}function x1(t){return t.resolve||{}}function P1(t,e,n,r,i,o){return qe(s=>T1(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>_e(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function N1(t,e){return qe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of aD(u))s.add(l);let a=0;return Ie(s).pipe(fr(u=>o.has(u)?O1(u,r,t,e):(u.data=zg(u,u.parent,t).resolve,K(void 0))),Ue(()=>a++),oo(1),qe(u=>a===s.size?K(n):At))})}function aD(t){let e=t.children.map(n=>aD(n)).flat();return[t,...e]}function O1(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!X0(i)&&(o[Ma]=i.title),k1(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=zg(t,t.parent,n).resolve,null)))}function k1(t,e,n,r){let i=vg(t);if(i.length===0)return K({});let o={};return Ie(i).pipe(qe(s=>F1(t[s],e,n,r).pipe(on(),Ue(a=>{o[s]=a}))),oo(1),lf(o),hr(s=>iD(s)?At:ro(s)))}function F1(t,e,n,r){let i=xa(e)??r,o=Bo(t,i),s=o.resolve?o.resolve(e,n):$n(i,()=>o(e,n));return Dr(s)}function mg(t){return Ze(e=>{let n=t(e);return n?Ie(n).pipe(ie(()=>e)):K(e)})}var cD=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===oe);return i}getResolvedTitleForRoute(r){return r.data[Ma]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(L1),providedIn:"root"});let t=e;return t})(),L1=(()=>{let e=class e extends cD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Z(x0))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yg=new z("",{providedIn:"root",factory:()=>({})}),Jg=new z(""),V1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(Jp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Dr(r.loadComponent()).pipe(ie(uD),Ue(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Yr(()=>{this.componentLoaders.delete(r)})),o=new Xi(i,()=>new lt).pipe(Zi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=U1(i,this.compiler,r,this.onLoadEndListener).pipe(Yr(()=>{this.childrenLoaders.delete(i)})),a=new Xi(s,()=>new lt).pipe(Zi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U1(t,e,n,r){return Dr(t.loadChildren()).pipe(ie(uD),qe(i=>i instanceof ea||Array.isArray(i)?K(i):Ie(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Jg,[],{optional:!0,self:!0}).flat()),{routes:s.map(Kg),injector:o}}))}function j1(t){return t&&typeof t=="object"&&"default"in t}function uD(t){return j1(t)?t.default:t}var Zg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(B1),providedIn:"root"});let t=e;return t})(),B1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$1=new z("");var q1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.transitionAbortSubject=new lt,this.configLoader=N(V1),this.environmentInjector=N(Et),this.urlSerializer=N(Hg),this.rootContexts=N(jl),this.location=N(_t),this.inputBindingEnabled=N(Wg,{optional:!0})!==null,this.titleStrategy=N(cD),this.options=N(Yg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Zg),this.createViewTransition=N($1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Ag(o)),i=o=>this.events.next(new Sg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(_e(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_a,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(s=>s.id!==0),ie(s=>_e(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ze(s=>{let a=!1,u=!1;return K(s).pipe(Ze(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ot.SupersededByNewNavigation),At;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?_e(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new yi(l.id,this.urlSerializer.serialize(l.rawUrl),m,Eg.IgnoredSameUrlNavigation)),l.resolve(null),At}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return K(l).pipe(Ze(m=>{let I=this.transitions?.getValue();return this.events.next(new Ea(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),I!==this.transitions?.getValue()?At:Promise.resolve(m)}),P1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=_e(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let I=new Ol(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:I,source:S,restoredState:P,extras:M}=l,F=new Ea(m,this.urlSerializer.serialize(I),S,P);this.events.next(F);let q=J0(this.rootComponentType).snapshot;return this.currentTransition=s=_e(U({},l),{targetSnapshot:q,urlAfterRedirects:I,extras:_e(U({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,K(s)}else{let m="";return this.events.next(new yi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Eg.IgnoredByUrlHandlingStrategy)),l.resolve(null),At}}),Ue(l=>{let h=new bg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ie(l=>(this.currentTransition=s=_e(U({},l),{guards:Yk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),s1(this.environmentInjector,l=>this.events.next(l)),Ue(l=>{if(s.guardsResult=l.guardsResult,Uo(l.guardsResult))throw tD(this.urlSerializer,l.guardsResult);let h=new Dg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),St(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ot.GuardRejected),!1)),mg(l=>{if(l.guards.canActivateChecks.length)return K(l).pipe(Ue(h=>{let p=new Cg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Ze(h=>{let p=!1;return K(h).pipe(N1(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Ot.NoDataFromResolver)}}))}),Ue(h=>{let p=new Tg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),mg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ue(I=>{p.component=I}),ie(()=>{})));for(let I of p.children)m.push(...h(I));return m};return fu(h(l.targetSnapshot.root)).pipe(pr(null),kn(1))}),mg(()=>this.afterPreactivation()),Ze(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ie(p).pipe(ie(()=>s)):K(s)}),ie(l=>{let h=$k(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=_e(U({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Ue(()=>{this.events.next(new Da)}),Qk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),kn(1),Ue({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),pf(this.transitionAbortSubject.pipe(Ue(l=>{throw l}))),Yr(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Ot.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),hr(l=>{if(u=!0,rD(l))this.events.next(new br(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),zk(l)?this.events.next(new Ca(l.url)):s.resolve(!1);else{this.events.next(new ba(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return At}))}))}cancelNavigationTransition(r,i,o){let s=new br(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H1(t){return t!==_a}var z1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(G1),providedIn:"root"});let t=e;return t})(),qg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},G1=(()=>{let e=class e extends qg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ci(e)))(o||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(W1),providedIn:"root"});let t=e;return t})(),W1=(()=>{let e=class e extends lD{constructor(){super(...arguments),this.location=N(_t),this.urlSerializer=N(Hg),this.options=N(Yg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Zg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=J0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ea)this.stateMemento=this.createStateMemento();else if(r instanceof yi)this.rawUrlTree=i.initialUrl;else if(r instanceof Ol){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Da?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof br&&(r.code===Ot.GuardRejected||r.code===Ot.NoDataFromResolver)?this.restoreHistory(i):r instanceof ba?this.restoreHistory(i,!0):r instanceof vn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=U(U({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ci(e)))(o||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ya=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ya||{});function K1(t,e){t.events.pipe(St(n=>n instanceof vn||n instanceof br||n instanceof ba||n instanceof yi),ie(n=>n instanceof vn||n instanceof yi?ya.COMPLETE:(n instanceof br?n.code===Ot.Redirect||n.code===Ot.SupersededByNewNavigation:!1)?ya.REDIRECTING:ya.FAILED),St(n=>n!==ya.REDIRECTING),kn(1)).subscribe(()=>{e()})}function Q1(t){throw t}var Y1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},en=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(fl),this.stateManager=N(lD),this.options=N(Yg,{optional:!0})||{},this.pendingTasks=N(To),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(q1),this.urlSerializer=N(Hg),this.location=N(_t),this.urlHandlingStrategy=N(Zg),this._events=new lt,this.errorHandler=this.options.errorHandler||Q1,this.navigated=!1,this.routeReuseStrategy=N(z1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Jg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(Wg,{optional:!0}),this.eventsSubscription=new Le,this.isNgZoneEnabled=N(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof br&&i.code!==Ot.Redirect&&i.code!==Ot.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof vn)this.navigated=!0;else if(i instanceof Ca){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||H1(o.source)};this.scheduleNavigation(a,_a,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}X1(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_a,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=U({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Kg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let I=o?o.snapshot:this.routerState.snapshot.root;m=W0(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return K0(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Uo(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,_a,null,i)}navigate(r,i={skipLocationChange:!1}){return Z1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=U({},Y1):i===!1?o=U({},J1):o=i,Uo(r))return P0(this.currentUrlTree,r,o);let s=this.parseUrl(r);return P0(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,I)=>{u=m,l=I});let p=this.pendingTasks.add();return K1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function X1(t){return!(t instanceof Da)&&!(t instanceof Ca)}var qt=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new lt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:fb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(de(en),de(vi),Np("tabindex"),de(ui),de(wr),de(Ro))},e.\u0275dir=He({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&be("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ca("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[et.HasDecoratorInputTransform,"preserveFragment","preserveFragment",hi],skipLocationChange:[et.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",hi],replaceUrl:[et.HasDecoratorInputTransform,"replaceUrl","replaceUrl",hi],routerLink:"routerLink"},standalone:!0,features:[Qp,zn]});let t=e;return t})();var eF=new z("");function dD(t,...e){return fn([{provide:Jg,multi:!0,useValue:t},[],{provide:vi,useFactory:tF,deps:[en]},{provide:pl,multi:!0,useFactory:nF},e.map(n=>n.\u0275providers)])}function tF(t){return t.routerState.root}function nF(){let t=N(pn);return e=>{let n=t.get(Ao);if(e!==n.components[0])return;let r=t.get(en),i=t.get(rF);t.get(iF)===1&&r.initialNavigation(),t.get(oF,null,ae.Optional)?.setUpPreloading(),t.get(eF,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var rF=new z("",{factory:()=>new lt}),iF=new z("",{providedIn:"root",factory:()=>1});var oF=new z("");var _D=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(de(ui),de(wr))},e.\u0275dir=He({type:e});let t=e;return t})(),wD=(()=>{let e=class e extends _D{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ci(e)))(o||e)}})(),e.\u0275dir=He({type:e,features:[Xt]});let t=e;return t})(),rm=new z("");var aF={provide:rm,useExisting:Un(()=>Ar),multi:!0};function cF(){let t=Gn()?Gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var uF=new z(""),Ar=(()=>{let e=class e extends _D{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!cF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(de(ui),de(wr),de(uF,8))},e.\u0275dir=He({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&be("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[li([aF]),Xt]});let t=e;return t})();function Cr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function ID(t){return t!=null&&typeof t.length=="number"}var Yl=new z(""),im=new z(""),lF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Dt=class{static min(e){return dF(e)}static max(e){return hF(e)}static required(e){return ED(e)}static requiredTrue(e){return fF(e)}static email(e){return pF(e)}static minLength(e){return gF(e)}static maxLength(e){return mF(e)}static pattern(e){return yF(e)}static nullValidator(e){return Hl(e)}static compose(e){return SD(e)}static composeAsync(e){return MD(e)}};function dF(t){return e=>{if(Cr(e.value)||Cr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function hF(t){return e=>{if(Cr(e.value)||Cr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function ED(t){return Cr(t.value)?{required:!0}:null}function fF(t){return t.value===!0?null:{required:!0}}function pF(t){return Cr(t.value)||lF.test(t.value)?null:{email:!0}}function gF(t){return e=>Cr(e.value)||!ID(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function mF(t){return e=>ID(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function yF(t){if(!t)return Hl;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Cr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Hl(t){return null}function bD(t){return t!=null}function DD(t){return di(t)?Ie(t):t}function CD(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function TD(t,e){return e.map(n=>n(t))}function vF(t){return!t.validate}function AD(t){return t.map(e=>vF(e)?e:n=>e.validate(n))}function SD(t){if(!t)return null;let e=t.filter(bD);return e.length==0?null:function(n){return CD(TD(n,e))}}function om(t){return t!=null?SD(AD(t)):null}function MD(t){if(!t)return null;let e=t.filter(bD);return e.length==0?null:function(n){let r=TD(n,e).map(DD);return uf(r).pipe(ie(CD))}}function sm(t){return t!=null?MD(AD(t)):null}function hD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function RD(t){return t._rawValidators}function xD(t){return t._rawAsyncValidators}function Xg(t){return t?Array.isArray(t)?t:[t]:[]}function zl(t,e){return Array.isArray(t)?t.includes(e):t===e}function fD(t,e){let n=Xg(e);return Xg(t).forEach(i=>{zl(n,i)||n.push(i)}),n}function pD(t,e){return Xg(e).filter(n=>!zl(t,n))}var Gl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=om(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Tr=class extends Gl{get formDirective(){return null}get path(){return null}},Fa=class extends Gl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},_F={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rW=_e(U({},_F),{"[class.ng-submitted]":"isSubmitted"}),zo=(()=>{let e=class e extends Wl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(de(Fa,2))},e.\u0275dir=He({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ll("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Xt]});let t=e;return t})(),Sr=(()=>{let e=class e extends Wl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(de(Tr,10))},e.\u0275dir=He({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&ll("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Xt]});let t=e;return t})();var Na="VALID",$l="INVALID",$o="PENDING",Oa="DISABLED";function am(t){return(Jl(t)?t.validators:t)||null}function wF(t){return Array.isArray(t)?om(t):t||null}function cm(t,e){return(Jl(e)?e.asyncValidators:t)||null}function IF(t){return Array.isArray(t)?sm(t):t||null}function Jl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function PD(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function ND(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var qo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Na}get invalid(){return this.status===$l}get pending(){return this.status==$o}get disabled(){return this.status===Oa}get enabled(){return this.status!==Oa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pD(e,this._rawAsyncValidators))}hasValidator(e){return zl(this._rawValidators,e)}hasAsyncValidator(e){return zl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$o,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Oa,this.errors=null,this._forEachChild(r=>{r.disable(_e(U({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_e(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Na,this._forEachChild(r=>{r.enable(_e(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(_e(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Na||this.status===$o)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oa:Na}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$o,this._hasOwnPendingAsyncValidator=!0;let n=DD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Oa:this.errors?$l:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($o)?$o:this._anyControlsHaveStatus($l)?$l:Na}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=IF(this._rawAsyncValidators)}},Ho=class extends qo{constructor(e,n,r){super(am(n),cm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ND(this,!0,e),Object.keys(e).forEach(r=>{PD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var em=class extends Ho{};var Zl=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Xl}),Xl="always";function EF(t,e){return[...e.path,t]}function tm(t,e,n=Xl){um(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),DF(t,e),TF(t,e),CF(t,e),bF(t,e)}function gD(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ql(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Kl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function bF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function um(t,e){let n=RD(t);e.validator!==null?t.setValidators(hD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=xD(t);e.asyncValidator!==null?t.setAsyncValidators(hD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Kl(e._rawValidators,i),Kl(e._rawAsyncValidators,i)}function Ql(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=RD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=xD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Kl(e._rawValidators,r),Kl(e._rawAsyncValidators,r),n}function DF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&OD(t,e)})}function CF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&OD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function OD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function TF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function kD(t,e){t==null,um(t,e)}function AF(t,e){return Ql(t,e)}function SF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function MF(t){return Object.getPrototypeOf(t.constructor)===wD}function FD(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function RF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ar?n=o:MF(o)?r=o:i=o}),i||r||n||null}function xF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var PF={provide:Tr,useExisting:Un(()=>lm)},ka=Promise.resolve(),lm=(()=>{let e=class e extends Tr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Xe,this.form=new Ho({},om(r),sm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ka.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),tm(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ka.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ka.then(()=>{let i=this._findContainer(r.path),o=new Ho({});kD(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ka.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ka.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,FD(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(de(Yl,10),de(im,10),de(Zl,8))},e.\u0275dir=He({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&be("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[et.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[li([PF]),Xt]});let t=e;return t})();function mD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function yD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ql=class extends qo{constructor(e=null,n,r){super(am(n),cm(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(yD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){yD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var NF=t=>t instanceof ql;var Mr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=He({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),OF={provide:rm,useExisting:Un(()=>dm),multi:!0},dm=(()=>{let e=class e extends wD{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ci(e)))(o||e)}})(),e.\u0275dir=He({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&be("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[li([OF]),Xt]});let t=e;return t})();var LD=new z("");var kF={provide:Tr,useExisting:Un(()=>_i)},_i=(()=>{let e=class e extends Tr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Xe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ql(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return tm(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){gD(r.control||null,r,!1),xF(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,FD(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(gD(i||null,r),NF(o)&&(tm(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);kD(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&AF(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){um(this.form,this),this._oldForm&&Ql(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(de(Yl,10),de(im,10),de(Zl,8))},e.\u0275dir=He({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&be("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[et.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[li([kF]),Xt,zn]});let t=e;return t})();var FF={provide:Fa,useExisting:Un(()=>wi)},wi=(()=>{let e=class e extends Fa{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Xe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=RF(this,s)}ngOnChanges(r){this._added||this._setUpControl(),SF(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return EF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(de(Tr,13),de(Yl,10),de(im,10),de(rm,10),de(LD,8))},e.\u0275dir=He({type:e,selectors:[["","formControlName",""]],inputs:{name:[et.None,"formControlName","name"],isDisabled:[et.None,"disabled","isDisabled"],model:[et.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[li([FF]),Xt,zn]});let t=e;return t})();var LF=(()=>{let e=class e{constructor(){this._validator=Hl}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Hl,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=He({type:e,features:[zn]});let t=e;return t})();var VF={provide:Yl,useExisting:Un(()=>Ii),multi:!0};var Ii=(()=>{let e=class e extends LF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=hi,this.createValidator=r=>ED}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ci(e)))(o||e)}})(),e.\u0275dir=He({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&ca("required",o._enabled?"":null)},inputs:{required:"required"},features:[li([VF]),Xt]});let t=e;return t})();var VD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=jn({});let t=e;return t})(),nm=class extends qo{constructor(e,n,r){super(am(n),cm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ND(this,!1,e),e.forEach((r,i)=>{PD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function vD(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Go=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return vD(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Ho(o,s)}record(r,i=null){let o=this._reduceControls(r);return new em(o,i)}control(r,i,o){let s={};return this.useNonNullable?(vD(i)?s=i:(s.validators=i,s.asyncValidators=o),new ql(r,_e(U({},s),{nonNullable:!0}))):new ql(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new nm(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof ql)return r;if(r instanceof qo)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var UD=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zl,useValue:r.callSetDisabledState??Xl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=jn({imports:[VD]});let t=e;return t})(),Wo=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:LD,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Zl,useValue:r.callSetDisabledState??Xl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=jn({imports:[VD]});let t=e;return t})();var BD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},$D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,I=l&63;u||(I=64,s||(m=64)),r.push(n[h],n[p],n[m],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new fm;let m=o<<2|a>>4;if(r.push(m),l!==64){let I=a<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jF=function(t){let e=BD(t);return $D.encodeByteArray(e,!0)},La=function(t){return jF(t).replace(/\./g,"")},gm=function(t){try{return $D.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $F=()=>BF().__FIREBASE_DEFAULTS__,qF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&gm(t[1]);return e&&JSON.parse(e)},nd=()=>{try{return $F()||qF()||HF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mm=t=>{var e,n;return(n=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qD=t=>{let e=mm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ym=()=>{var t;return(t=nd())===null||t===void 0?void 0:t.config},vm=t=>{var e;return(e=nd())===null||e===void 0?void 0:e[`_${t}`]};var td=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function HD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[La(JSON.stringify(n)),La(JSON.stringify(s)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function zF(){var t;let e=(t=nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KD(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QD(){return!zF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _m(){try{return typeof indexedDB=="object"}catch{return!1}}function YD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var GF="FirebaseError",kt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kn.prototype.create)}},Kn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?WF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new kt(i,a,r)}};function WF(t,e){return t.replace(KF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var KF=/\{\$([^}]+)}/g;function JD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ei(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(jD(o)&&jD(s)){if(!Ei(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function jD(t){return t!==null&&typeof t=="object"}function Va(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ko(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZD(t,e){let n=new pm(t,e);return n.subscribe.bind(n)}var pm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hm),i.error===void 0&&(i.error=hm),i.complete===void 0&&(i.complete=hm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function QF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hm(){}var sW=4*60*60*1e3;function Ft(t){return t&&t._delegate?t._delegate:t}var Ht=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bi="[DEFAULT]";var wm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new td;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JF(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YF(t){return t===bi?void 0:t}function JF(t){return t.instantiationMode==="EAGER"}var rd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ZF=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),XF={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},eL=he.INFO,tL={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},nL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=tL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Rr=class{constructor(e){this.name=e,this._logLevel=eL,this._logHandler=nL,this._userLogHandler=null,ZF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var rL=(t,e)=>e.some(n=>t instanceof n),XD,eC;function iL(){return XD||(XD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oL(){return eC||(eC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tC=new WeakMap,Em=new WeakMap,nC=new WeakMap,Im=new WeakMap,Dm=new WeakMap;function sL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(wn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&tC.set(n,t)}).catch(()=>{}),Dm.set(e,t),e}function aL(t){if(Em.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Em.set(t,e)}var bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rC(t){bm=t(bm)}function cL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(id(this),e,...n);return nC.set(r,e.sort?e.sort():[e]),wn(r)}:oL().includes(t)?function(...e){return t.apply(id(this),e),wn(tC.get(this))}:function(...e){return wn(t.apply(id(this),e))}}function uL(t){return typeof t=="function"?cL(t):(t instanceof IDBTransaction&&aL(t),rL(t,iL())?new Proxy(t,bm):t)}function wn(t){if(t instanceof IDBRequest)return sL(t);if(Im.has(t))return Im.get(t);let e=uL(t);return e!==t&&(Im.set(t,e),Dm.set(e,t)),e}var id=t=>Dm.get(t);function oC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=wn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(wn(s.result),u.oldVersion,u.newVersion,wn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var lL=["get","getKey","getAll","getAllKeys","count"],dL=["put","add","delete","clear"],Cm=new Map;function iC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=dL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lL.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Cm.set(e,o),o}rC(t=>_e(U({},t),{get:(e,n,r)=>iC(e,n)||t.get(e,n,r),has:(e,n)=>!!iC(e,n)||t.has(e,n)}));var Am=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hL(t){let e=t.getComponent();return e?.type==="VERSION"}var Sm="@firebase/app",sC="0.10.5";var Di=new Rr("@firebase/app"),fL="@firebase/app-compat",pL="@firebase/analytics-compat",gL="@firebase/analytics",mL="@firebase/app-check-compat",yL="@firebase/app-check",vL="@firebase/auth",_L="@firebase/auth-compat",wL="@firebase/database",IL="@firebase/database-compat",EL="@firebase/functions",bL="@firebase/functions-compat",DL="@firebase/installations",CL="@firebase/installations-compat",TL="@firebase/messaging",AL="@firebase/messaging-compat",SL="@firebase/performance",ML="@firebase/performance-compat",RL="@firebase/remote-config",xL="@firebase/remote-config-compat",PL="@firebase/storage",NL="@firebase/storage-compat",OL="@firebase/firestore",kL="@firebase/vertexai-preview",FL="@firebase/firestore-compat",LL="firebase",VL="10.12.2";var Mm="[DEFAULT]",UL={[Sm]:"fire-core",[fL]:"fire-core-compat",[gL]:"fire-analytics",[pL]:"fire-analytics-compat",[yL]:"fire-app-check",[mL]:"fire-app-check-compat",[vL]:"fire-auth",[_L]:"fire-auth-compat",[wL]:"fire-rtdb",[IL]:"fire-rtdb-compat",[EL]:"fire-fn",[bL]:"fire-fn-compat",[DL]:"fire-iid",[CL]:"fire-iid-compat",[TL]:"fire-fcm",[AL]:"fire-fcm-compat",[SL]:"fire-perf",[ML]:"fire-perf-compat",[RL]:"fire-rc",[xL]:"fire-rc-compat",[PL]:"fire-gcs",[NL]:"fire-gcs-compat",[OL]:"fire-fst",[FL]:"fire-fst-compat",[kL]:"fire-vertex","fire-js":"fire-js",[LL]:"fire-js-all"};var Ua=new Map,jL=new Map,Rm=new Map;function aC(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pr(t){let e=t.name;if(Rm.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,t);for(let n of Ua.values())aC(n,t);for(let n of jL.values())aC(n,t);return!0}function Ba(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tn(t){return t.settings!==void 0}var BL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Kn("app","Firebase",BL);var xm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}};var Nr=VL;function od(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Mm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xr.create("bad-app-name",{appName:String(i)});if(n||(n=ym()),!n)throw xr.create("no-options");let o=Ua.get(i);if(o){if(Ei(n,o.options)&&Ei(r,o.config))return o;throw xr.create("duplicate-app",{appName:i})}let s=new rd(i);for(let u of Rm.values())s.addComponent(u);let a=new xm(n,r,s);return Ua.set(i,a),a}function Yo(t=Mm){let e=Ua.get(t);if(!e&&t===Mm&&ym())return od();if(!e)throw xr.create("no-app",{appName:t});return e}function sd(){return Array.from(Ua.values())}function it(t,e,n){var r;let i=(r=UL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(a.join(" "));return}Pr(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var $L="firebase-heartbeat-database",qL=1,ja="firebase-heartbeat-store",Tm=null;function dC(){return Tm||(Tm=oC($L,qL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),Tm}function HL(t){return w(this,null,function*(){try{let n=(yield dC()).transaction(ja),r=yield n.objectStore(ja).get(hC(t));return yield n.done,r}catch(e){if(e instanceof kt)Di.warn(e.message);else{let n=xr.create("idb-get",{originalErrorMessage:e?.message});Di.warn(n.message)}}})}function cC(t,e){return w(this,null,function*(){try{let r=(yield dC()).transaction(ja,"readwrite");yield r.objectStore(ja).put(e,hC(t)),yield r.done}catch(n){if(n instanceof kt)Di.warn(n.message);else{let r=xr.create("idb-set",{originalErrorMessage:n?.message});Di.warn(r.message)}}})}function hC(t){return`${t.name}!${t.options.appId}`}var zL=1024,GL=30*24*60*60*1e3,Pm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Nm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=GL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return w(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=uC(),{heartbeatsToSend:r,unsentEntries:i}=WL(this._heartbeatsCache.heartbeats),o=La(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function uC(){return new Date().toISOString().substring(0,10)}function WL(t,e=zL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Nm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return _m()?YD().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield HL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lC(t){return La(JSON.stringify({version:2,heartbeats:t})).length}function KL(t){Pr(new Ht("platform-logger",e=>new Am(e),"PRIVATE")),Pr(new Ht("heartbeat",e=>new Pm(e),"PRIVATE")),it(Sm,sC,t),it(Sm,sC,"esm2017"),it("fire-js","")}KL("");var QL="firebase",YL="10.12.2";it(QL,YL,"app");var $a=new Vn("ANGULARFIRE2_VERSION");function fC(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var km=(t,e)=>{let n=e?[e]:sd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ad=class{constructor(){return km(JL)}},JL="app-check";function Jo(){}var cd=class{zone;delegate;constructor(e,n=of){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Om=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ud=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new cd(Zone.current)),this.insideAngular=n.run(()=>new cd(Zone.current,rf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Z(Ce))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ld(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ZL(t){return ld().ngZone.runOutsideAngular(()=>t())}function Ci(t){return ld().ngZone.run(()=>t())}function XL(t){return eV(ld())(t)}function eV(t){return function(n){return n=n.lift(new Om(t.ngZone)),n.pipe(dr(t.outsideAngular),lr(t.insideAngular))}}var tV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ci(()=>t.apply(void 0,r))},qa=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo))),r[o]=tV(r[o],n));let i=ZL(()=>t.apply(this,r));if(!e)if(i instanceof se){let o=ld();return i.pipe(dr(o.outsideAngular),lr(o.insideAngular))}else return Ci(()=>i);return i instanceof se?i.pipe(XL):i instanceof Promise?Ci(()=>new Promise((o,s)=>i.then(a=>Ci(()=>o(a)),a=>Ci(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ci(()=>i)};var Ti=class{constructor(e){return e}},Ha=class{constructor(){return sd()}};function nV(t){return t&&t.length===1?t[0]:new Ti(Yo())}var Fm=new z("angularfire2._apps"),rV={provide:Ti,useFactory:nV,deps:[[new hn,Fm]]},iV={provide:Ha,deps:[[new hn,Fm]]};function oV(t){return(e,n)=>{let r=n.get(gn);it("angularfire",$a.full,"core"),it("angularfire",$a.full,"app"),it("angular",Yb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ti(i)}}function pC(t,...e){return fn([rV,iV,{provide:Fm,useFactory:oV(t),multi:!0,deps:[Ce,pn,ud,...e]}])}function xC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var PC=xC,NC=new Kn("auth","Firebase",xC());var md=new Rr("@firebase/auth");function sV(t,...e){md.logLevel<=he.WARN&&md.warn(`Auth (${Nr}): ${t}`,...e)}function hd(t,...e){md.logLevel<=he.ERROR&&md.error(`Auth (${Nr}): ${t}`,...e)}function En(t,...e){throw oy(t,...e)}function Ai(t,...e){return oy(t,...e)}function OC(t,e,n){let r=Object.assign(Object.assign({},PC()),{[e]:n});return new Kn("auth","Firebase",r).create(e,{appName:t.name})}function Jn(t){return OC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NC.create(t,...e)}function Y(t,e,...n){if(!t)throw oy(e,...n)}function Qn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw hd(e),new Error(e)}function kr(t,e){t||Qn(e)}function jm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aV(){return gC()==="http:"||gC()==="https:"}function gC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function cV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aV()||GD()||"connection"in navigator)?navigator.onLine:!0}function uV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Si=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,kr(n>e,"Short delay should be less than long delay!"),this.isMobile=zD()||WD()}get(){return cV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sy(t,e){kr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var yd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dV=new Si(3e4,6e4);function Fr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Lr(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return kC(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Va(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),yd.fetch()(FC(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function kC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},lV),e);try{let i=new Bm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw dd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw dd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw dd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw OC(t,h,l);En(t,h)}}catch(i){if(i instanceof kt)throw i;En(t,"network-request-failed",{message:String(i)})}})}function Za(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Lr(t,e,n,r,i);return"mfaPendingCredential"in l&&En(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function FC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?sy(t.config,i):`${t.config.apiScheme}://${i}`}function hV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Bm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),dV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function dd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ai(t,e,r);return i.customData._tokenResponse=n,i}function mC(t){return t!==void 0&&t.enterprise!==void 0}var $m=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function fV(t,e){return w(this,null,function*(){return Lr(t,"GET","/v2/recaptchaConfig",Fr(t,e))})}function pV(t,e){return w(this,null,function*(){return Lr(t,"POST","/v1/accounts:delete",e)})}function LC(t,e){return w(this,null,function*(){return Lr(t,"POST","/v1/accounts:lookup",e)})}function za(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ay(t,e=!1){return w(this,null,function*(){let n=Ft(t),r=yield n.getIdToken(e),i=cy(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:za(Lm(i.auth_time)),issuedAtTime:za(Lm(i.iat)),expirationTime:za(Lm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Lm(t){return Number(t)*1e3}function cy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{let i=gm(n);return i?JSON.parse(i):(hd("Failed to decode base64 JWT payload"),null)}catch(i){return hd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yC(t){let e=cy(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wa(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof kt&&gV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function gV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var qm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ka=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Wa(t,LC(n,{idToken:r}));Y(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?VC(o.providerUserInfo):[],a=mV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ka(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function uy(t){return w(this,null,function*(){let e=Ft(t);yield vd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function mV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VC(t){return t.map(e=>{var{providerId:n}=e,r=sf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yV(t,e){return w(this,null,function*(){let n=yield kC(t,{},()=>w(this,null,function*(){let r=Va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=FC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function vV(t,e){return w(this,null,function*(){return Lr(t,"POST","/v2/accounts:revokeToken",Fr(t,e))})}var Ga=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=yC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield yV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Qn("not implemented")}};function Or(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=sf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ka(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Wa(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ay(this,e)}reload(){return uy(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield vd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(tn(this.auth.app))return Promise.reject(Jn(this.auth));let e=yield this.getIdToken();return yield Wa(this,pV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:W,isAnonymous:Ae,providerData:ee,stsTokenManager:b}=n;Y(H&&b,e,"internal-error");let y=Ga.fromJSON(this.name,b);Y(typeof H=="string",e,"internal-error"),Or(p,e.name),Or(m,e.name),Y(typeof W=="boolean",e,"internal-error"),Y(typeof Ae=="boolean",e,"internal-error"),Or(I,e.name),Or(S,e.name),Or(P,e.name),Or(M,e.name),Or(F,e.name),Or(q,e.name);let v=new t({uid:H,auth:e,email:m,emailVerified:W,displayName:p,isAnonymous:Ae,photoURL:S,phoneNumber:I,tenantId:P,stsTokenManager:y,createdAt:F,lastLoginAt:q});return ee&&Array.isArray(ee)&&(v.providerData=ee.map(E=>Object.assign({},E))),M&&(v._redirectEventId=M),v}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Ga;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?VC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ga;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ka(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var vC=new Map;function Yn(t){kr(t instanceof Function,"Expected a class definition");let e=vC.get(t);return e?(kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vC.set(t,e),e)}var _V=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Hm=_V;function fd(t,e,n){return`firebase:${t}:${e}:${n}`}var _d=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=fd(this.userKey,i.apiKey,o),this.fullPersistenceKey=fd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Zo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Yn(Hm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Yn(Hm),s=fd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Zo._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function _C(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qC(e))return"Blackberry";if(HC(e))return"Webos";if(ly(e))return"Safari";if((e.includes("chrome/")||jC(e))&&!e.includes("edge/"))return"Chrome";if($C(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function UC(t=Ge()){return/firefox\//i.test(t)}function ly(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jC(t=Ge()){return/crios\//i.test(t)}function BC(t=Ge()){return/iemobile/i.test(t)}function $C(t=Ge()){return/android/i.test(t)}function qC(t=Ge()){return/blackberry/i.test(t)}function HC(t=Ge()){return/webos/i.test(t)}function Ad(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wV(t=Ge()){var e;return Ad(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IV(){return KD()&&document.documentMode===10}function zC(t=Ge()){return Ad(t)||$C(t)||HC(t)||qC(t)||/windows phone/i.test(t)||BC(t)}function EV(){try{return!!(window&&window!==window.top)}catch{return!1}}function GC(t,e=[]){let n;switch(t){case"Browser":n=_C(Ge());break;case"Worker":n=`${_C(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nr}/${r}`}var zm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function bV(n){return w(this,arguments,function*(t,e={}){return Lr(t,"GET","/v2/passwordPolicy",Fr(t,e))})}var DV=6,Gm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:DV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Wm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wd(this),this.idTokenSubscription=new wd(this),this.beforeStateQueue=new zm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield _d.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield LC(this,{idToken:e}),r=yield Zo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(tn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield vd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(tn(this.app))return Promise.reject(Jn(this));let n=e?Ft(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return tn(this.app)?Promise.reject(Jn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return tn(this.app)?Promise.reject(Jn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Yn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield bV(this),n=new Gm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield vV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Yn(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=yield _d.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&sV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ri(t){return Ft(t)}var wd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZD(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Sd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CV(t){Sd=t}function WC(t){return Sd.loadJS(t)}function TV(){return Sd.recaptchaEnterpriseScript}function AV(){return Sd.gapiScript}function KC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var SV="recaptcha-enterprise",MV="NO_RECAPTCHA",Km=class{constructor(e){this.type=SV,this.auth=Ri(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(this,null,function*(){fV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new $m(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;mC(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(MV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&mC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=TV();u.length!==0&&(u+=a),WC(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function wC(t,e,n,r=!1){return w(this,null,function*(){let i=new Km(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Qm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield wC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>w(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield wC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function dy(t,e){let n=Ba(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ei(o,e??{}))return i;En(i,"already-initialized")}return n.initialize({options:e})}function RV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function hy(t,e,n){let r=Ri(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=QC(e),{host:s,port:a}=xV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PV()}function QC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xV(t){let e=QC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:IC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:IC(s)}}}function IC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function PV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Qa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}};function NV(t,e){return w(this,null,function*(){return Lr(t,"POST","/v1/accounts:signUp",e)})}function OV(t,e){return w(this,null,function*(){return Za(t,"POST","/v1/accounts:signInWithPassword",Fr(t,e))})}function kV(t,e){return w(this,null,function*(){return Za(t,"POST","/v1/accounts:signInWithEmailLink",Fr(t,e))})}function FV(t,e){return w(this,null,function*(){return Za(t,"POST","/v1/accounts:signInWithEmailLink",Fr(t,e))})}var Ya=class t extends Qa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,n,"signInWithPassword",OV);case"emailLink":return kV(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,r,"signUpPassword",NV);case"emailLink":return FV(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Vm(t,e){return w(this,null,function*(){return Za(t,"POST","/v1/accounts:signInWithIdp",Fr(t,e))})}function LV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VV(t){let e=Ko(Qo(t)).link,n=e?Ko(Qo(e)).deep_link_id:null,r=Ko(Qo(t)).deep_link_id;return(r?Ko(Qo(r)).link:null)||r||n||e||t}var Id=class t{constructor(e){var n,r,i,o,s,a;let u=Ko(Qo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=LV((i=u.mode)!==null&&i!==void 0?i:null);Y(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=VV(e);try{return new t(n)}catch{return null}}};var YC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ya._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Id.parseLink(r);return Y(i,"argument-error"),Ya._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ed=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ym=class extends Ed{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function UV(t,e){return w(this,null,function*(){return Za(t,"POST","/v1/accounts:signUp",Fr(t,e))})}var Xo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let o=yield Zo._fromIdTokenResponse(e,r,i),s=EC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=EC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function EC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Jm=class t extends kt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function JC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jm._fromErrorAndOperation(t,o,e,r):o})}function jV(t,e,n=!1){return w(this,null,function*(){let r=yield Wa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Xo._forOperation(t,"link",r)})}function BV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(tn(r.app))return Promise.reject(Jn(r));let i="reauthenticate";try{let o=yield Wa(t,JC(r,i,e,t),n);Y(o.idToken,r,"internal-error");let s=cy(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),Xo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&En(r,"user-mismatch"),o}})}function ZC(t,e,n=!1){return w(this,null,function*(){if(tn(t.app))return Promise.reject(Jn(t));let r="signIn",i=yield JC(t,r,e),o=yield Xo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function fy(t,e){return w(this,null,function*(){return ZC(Ri(t),e)})}function XC(t){return w(this,null,function*(){let e=Ri(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function py(t,e,n){return w(this,null,function*(){if(tn(t.app))return Promise.reject(Jn(t));let r=Ri(t),s=yield Qm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&XC(t),u}),a=yield Xo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Md(t,e,n){return tn(t.app)?Promise.reject(Jn(t)):fy(Ft(t),YC.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&XC(t),r}))}function Xa(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function gy(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}var bd="__sak";var Dd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function $V(){let t=Ge();return ly(t)||Ad(t)}var qV=1e3,HV=10,zV=(()=>{class t extends Dd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$V()&&EV(),this.fallbackToPolling=zC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);IV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,HV):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},qV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield cr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield cr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield cr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),eT=zV;var GV=(()=>{class t extends Dd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),my=GV;function WV(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var KV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),l=yield WV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function tT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Zm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=tT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function In(){return window}function QV(t){In().location.href=t}function nT(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}function YV(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function JV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZV(){return nT()?self:null}var rT="firebaseLocalStorageDb",XV=1,Cd="firebaseLocalStorage",iT="fbase_key",Mi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Rd(t,e){return t.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function eU(){let t=indexedDB.deleteDatabase(rT);return new Mi(t).toPromise()}function Xm(){let t=indexedDB.open(rT,XV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Cd,{keyPath:iT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Cd)?e(r):(r.close(),yield eU(),e(yield Xm()))}))})}function bC(t,e,n){return w(this,null,function*(){let r=Rd(t,!0).put({[iT]:e,value:n});return new Mi(r).toPromise()})}function tU(t,e){return w(this,null,function*(){let n=Rd(t,!1).get(e),r=yield new Mi(n).toPromise();return r===void 0?null:r.value})}function DC(t,e){let n=Rd(t,!0).delete(e);return new Mi(n).toPromise()}var nU=800,rU=3,iU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Xm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>rU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return nT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=KV._getInstance(ZV()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield YV(),!this.activeServiceWorker)return;this.sender=new Zm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||JV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Xm();return yield bC(n,bd,"1"),yield DC(n,bd),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>bC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>tU(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>DC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(o=>{let s=Rd(o,!1).getAll();return new Mi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),nU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),oT=iU;var ZW=KC("rcb"),XW=new Si(3e4,6e4);function oU(t,e){return e?Yn(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ja=class extends Qa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function sU(t){return ZC(t.auth,new Ja(t),t.bypassAuthState)}function aU(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),BV(n,new Ja(t),t.bypassAuthState)}function cU(t){return w(this,null,function*(){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),jV(n,new Ja(t),t.bypassAuthState)})}var ey=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sU;case"linkViaPopup":case"linkViaRedirect":return cU;case"reauthViaPopup":case"reauthViaRedirect":return aU;default:En(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var e5=new Si(2e3,1e4);var uU="pendingRedirect",pd=new Map,ty=class t extends ey{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=pd.get(this.auth._key());if(!e){try{let r=(yield lU(this.resolver,this.auth))?yield cr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return cr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,cr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function lU(t,e){return w(this,null,function*(){let n=fU(e),r=hU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function dU(t,e){pd.set(t._key(),e)}function hU(t){return Yn(t._redirectPersistence)}function fU(t){return fd(uU,t.config.apiKey,t.name)}function pU(t,e,n=!1){return w(this,null,function*(){if(tn(t.app))return Promise.reject(Jn(t));let r=Ri(t),i=oU(r,e),s=yield new ty(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var gU=10*60*1e3,ny=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gU&&this.cachedEventUids.clear(),this.cachedEventUids.has(CC(e))}saveEventToCache(e){this.cachedEventUids.add(CC(e)),this.lastProcessedEventTime=Date.now()}};function CC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sT(t);default:return!1}}function yU(n){return w(this,arguments,function*(t,e={}){return Lr(t,"GET","/v1/projects",e)})}var vU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_U=/^https?/;function wU(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield yU(t);for(let n of e)try{if(IU(n))return}catch{}En(t,"unauthorized-domain")})}function IU(t){let e=jm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!_U.test(n))return!1;if(vU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var EU=new Si(3e4,6e4);function TC(){let t=In().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bU(t){return new Promise((e,n)=>{var r,i,o;function s(){TC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TC(),n(Ai(t,"network-request-failed"))},timeout:EU.get()})}if(!((i=(r=In().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=In().gapi)===null||o===void 0)&&o.load)s();else{let a=KC("iframefcb");return In()[a]=()=>{gapi.load?s():n(Ai(t,"network-request-failed"))},WC(`${AV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw gd=null,e})}var gd=null;function DU(t){return gd=gd||bU(t),gd}var CU=new Si(5e3,15e3),TU="__/auth/iframe",AU="emulator/auth/iframe",SU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RU(t){let e=t.config;Y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?sy(e,AU):`https://${t.config.authDomain}/${TU}`,r={apiKey:e.apiKey,appName:t.name,v:Nr},i=MU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Va(r).slice(1)}`}function xU(t){return w(this,null,function*(){let e=yield DU(t),n=In().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:RU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SU,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ai(t,"network-request-failed"),a=In().setTimeout(()=>{o(s)},CU.get());function u(){In().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var PU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NU=500,OU=600,kU="_blank",FU="http://localhost",Td=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function LU(t,e,n,r=NU,i=OU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},PU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ge().toLowerCase();n&&(a=jC(l)?kU:n),UC(l)&&(e=e||FU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[I,S])=>`${m}${I}=${S},`,"");if(wV(l)&&a!=="_self")return VU(e||"",a),new Td(null);let p=window.open(e||"",a,h);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new Td(p)}function VU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var UU="__/auth/handler",jU="emulator/auth/handler",BU=encodeURIComponent("fac");function AC(t,e,n,r,i,o){return w(this,null,function*(){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nr,eventId:i};if(e instanceof Ed){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",JD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Ym){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${BU}=${encodeURIComponent(u)}`:"";return`${$U(t)}?${Va(a).slice(1)}${l}`})}function $U({config:t}){return t.emulator?sy(t,jU):`https://${t.authDomain}/${UU}`}var Um="webStorageSupport",ry=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=my,this._completeRedirectFn=pU,this._overrideRedirectResult=dU}_openPopup(e,n,r,i){return w(this,null,function*(){var o;kr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield AC(e,n,r,jm(),i);return LU(e,s,tT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield AC(e,n,r,jm(),i);return QV(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(kr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield xU(e),r=new ny(e);return n.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Um];s!==void 0&&n(!!s),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zC()||ly()||Ad()}},aT=ry;var SC="@firebase/auth",MC="1.7.4";var iy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function qU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HU(t){Pr(new Ht("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GC(t)},l=new Wm(r,i,o,u);return RV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pr(new Ht("auth-internal",e=>{let n=Ri(e.getProvider("auth").getImmediate());return(r=>new iy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(SC,MC,qU(t)),it(SC,MC,"esm2017")}var zU=5*60,GU=vm("authIdTokenMaxAge")||zU,RC=null,WU=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GU)return;let i=n?.token;RC!==i&&(RC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function yy(t=Yo()){let e=Ba(t,"auth");if(e.isInitialized())return e.getImmediate();let n=dy(t,{popupRedirectResolver:aT,persistence:[oT,eT,my]}),r=vm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=WU(o.toString());gy(n,s,()=>s(n.currentUser)),Xa(n,a=>s(a))}}let i=mm("auth");return i&&hy(n,`http://${i}`),n}function KU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ai("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",KU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HU("Browser");function lT(t){return new se(function(e){var n=Xa(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var dT="auth",Zn=class{constructor(e){return e}},vy=class{constructor(){return km(dT)}};var _y=new z("angularfire2.auth-instances");function L2(t,e){let n=fC(dT,t,e);return n&&new Zn(n)}function V2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zn(r)}}var U2={provide:vy,deps:[[new hn,_y]]},j2={provide:Zn,useFactory:L2,deps:[[new hn,_y],Ti]};function hT(t,...e){return it("angularfire",$a.full,"auth"),fn([j2,U2,{provide:_y,useFactory:V2(t),multi:!0,deps:[Ce,pn,ud,Ha,[new hn,ad],...e]}])}var xd=qa(lT,!0);var fT=qa(py,!0);var pT=qa(yy,!0);var gT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mT={};var Vr,wy;(function(){var t;function e(b,y){function v(){}v.prototype=y.prototype,b.D=y.prototype,b.prototype=new v,b.prototype.constructor=b,b.C=function(E,D,T){for(var _=Array(arguments.length-2),xn=2;xn<arguments.length;xn++)_[xn-2]=arguments[xn];return y.prototype[D].apply(E,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,y,v){v||(v=0);var E=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)E[D]=y.charCodeAt(v++)|y.charCodeAt(v++)<<8|y.charCodeAt(v++)<<16|y.charCodeAt(v++)<<24;else for(D=0;16>D;++D)E[D]=y[v++]|y[v++]<<8|y[v++]<<16|y[v++]<<24;y=b.g[0],v=b.g[1],D=b.g[2];var T=b.g[3],_=y+(T^v&(D^T))+E[0]+3614090360&4294967295;y=v+(_<<7&4294967295|_>>>25),_=T+(D^y&(v^D))+E[1]+3905402710&4294967295,T=y+(_<<12&4294967295|_>>>20),_=D+(v^T&(y^v))+E[2]+606105819&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(y^D&(T^y))+E[3]+3250441966&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(T^v&(D^T))+E[4]+4118548399&4294967295,y=v+(_<<7&4294967295|_>>>25),_=T+(D^y&(v^D))+E[5]+1200080426&4294967295,T=y+(_<<12&4294967295|_>>>20),_=D+(v^T&(y^v))+E[6]+2821735955&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(y^D&(T^y))+E[7]+4249261313&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(T^v&(D^T))+E[8]+1770035416&4294967295,y=v+(_<<7&4294967295|_>>>25),_=T+(D^y&(v^D))+E[9]+2336552879&4294967295,T=y+(_<<12&4294967295|_>>>20),_=D+(v^T&(y^v))+E[10]+4294925233&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(y^D&(T^y))+E[11]+2304563134&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(T^v&(D^T))+E[12]+1804603682&4294967295,y=v+(_<<7&4294967295|_>>>25),_=T+(D^y&(v^D))+E[13]+4254626195&4294967295,T=y+(_<<12&4294967295|_>>>20),_=D+(v^T&(y^v))+E[14]+2792965006&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(y^D&(T^y))+E[15]+1236535329&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(D^T&(v^D))+E[1]+4129170786&4294967295,y=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(y^v))+E[6]+3225465664&4294967295,T=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(T^y))+E[11]+643717713&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^y&(D^T))+E[0]+3921069994&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(D^T&(v^D))+E[5]+3593408605&4294967295,y=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(y^v))+E[10]+38016083&4294967295,T=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(T^y))+E[15]+3634488961&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^y&(D^T))+E[4]+3889429448&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(D^T&(v^D))+E[9]+568446438&4294967295,y=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(y^v))+E[14]+3275163606&4294967295,T=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(T^y))+E[3]+4107603335&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^y&(D^T))+E[8]+1163531501&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(D^T&(v^D))+E[13]+2850285829&4294967295,y=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(y^v))+E[2]+4243563512&4294967295,T=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(T^y))+E[7]+1735328473&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^y&(D^T))+E[12]+2368359562&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(v^D^T)+E[5]+4294588738&4294967295,y=v+(_<<4&4294967295|_>>>28),_=T+(y^v^D)+E[8]+2272392833&4294967295,T=y+(_<<11&4294967295|_>>>21),_=D+(T^y^v)+E[11]+1839030562&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^y)+E[14]+4259657740&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(v^D^T)+E[1]+2763975236&4294967295,y=v+(_<<4&4294967295|_>>>28),_=T+(y^v^D)+E[4]+1272893353&4294967295,T=y+(_<<11&4294967295|_>>>21),_=D+(T^y^v)+E[7]+4139469664&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^y)+E[10]+3200236656&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(v^D^T)+E[13]+681279174&4294967295,y=v+(_<<4&4294967295|_>>>28),_=T+(y^v^D)+E[0]+3936430074&4294967295,T=y+(_<<11&4294967295|_>>>21),_=D+(T^y^v)+E[3]+3572445317&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^y)+E[6]+76029189&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(v^D^T)+E[9]+3654602809&4294967295,y=v+(_<<4&4294967295|_>>>28),_=T+(y^v^D)+E[12]+3873151461&4294967295,T=y+(_<<11&4294967295|_>>>21),_=D+(T^y^v)+E[15]+530742520&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^y)+E[2]+3299628645&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(D^(v|~T))+E[0]+4096336452&4294967295,y=v+(_<<6&4294967295|_>>>26),_=T+(v^(y|~D))+E[7]+1126891415&4294967295,T=y+(_<<10&4294967295|_>>>22),_=D+(y^(T|~v))+E[14]+2878612391&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~y))+E[5]+4237533241&4294967295,v=D+(_<<21&4294967295|_>>>11),_=y+(D^(v|~T))+E[12]+1700485571&4294967295,y=v+(_<<6&4294967295|_>>>26),_=T+(v^(y|~D))+E[3]+2399980690&4294967295,T=y+(_<<10&4294967295|_>>>22),_=D+(y^(T|~v))+E[10]+4293915773&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~y))+E[1]+2240044497&4294967295,v=D+(_<<21&4294967295|_>>>11),_=y+(D^(v|~T))+E[8]+1873313359&4294967295,y=v+(_<<6&4294967295|_>>>26),_=T+(v^(y|~D))+E[15]+4264355552&4294967295,T=y+(_<<10&4294967295|_>>>22),_=D+(y^(T|~v))+E[6]+2734768916&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~y))+E[13]+1309151649&4294967295,v=D+(_<<21&4294967295|_>>>11),_=y+(D^(v|~T))+E[4]+4149444226&4294967295,y=v+(_<<6&4294967295|_>>>26),_=T+(v^(y|~D))+E[11]+3174756917&4294967295,T=y+(_<<10&4294967295|_>>>22),_=D+(y^(T|~v))+E[2]+718787259&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~y))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+T&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var v=y-this.blockSize,E=this.B,D=this.h,T=0;T<y;){if(D==0)for(;T<=v;)i(this,b,T),T+=this.blockSize;if(typeof b=="string"){for(;T<y;)if(E[D++]=b.charCodeAt(T++),D==this.blockSize){i(this,E),D=0;break}}else for(;T<y;)if(E[D++]=b[T++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var v=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=v&255,v/=256;for(this.u(b),b=Array(16),y=v=0;4>y;++y)for(var E=0;32>E;E+=8)b[v++]=this.g[y]>>>E&255;return b};function o(b,y){var v=a;return Object.prototype.hasOwnProperty.call(v,b)?v[b]:v[b]=y(b)}function s(b,y){this.h=y;for(var v=[],E=!0,D=b.length-1;0<=D;D--){var T=b[D]|0;E&&T==y||(v[D]=T,E=!1)}this.g=v}var a={};function u(b){return-128<=b&&128>b?o(b,function(y){return new s([y|0],0>y?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return M(l(-b));for(var y=[],v=1,E=0;b>=v;E++)y[E]=b/v|0,v*=4294967296;return new s(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return M(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(y,8)),E=p,D=0;D<b.length;D+=8){var T=Math.min(8,b.length-D),_=parseInt(b.substring(D,D+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(_))):(E=E.j(v),E=E.add(l(_)))}return E}var p=u(0),m=u(1),I=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-M(this).m();for(var b=0,y=1,v=0;v<this.g.length;v++){var E=this.i(v);b+=(0<=E?E:4294967296+E)*y,y*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(P(this))return"-"+M(this).toString(b);for(var y=l(Math.pow(b,6)),v=this,E="";;){var D=W(v,y).g;v=F(v,D.j(y));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(b);if(v=D,S(v))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function P(b){return b.h==-1}t.l=function(b){return b=F(this,b),P(b)?-1:S(b)?0:1};function M(b){for(var y=b.g.length,v=[],E=0;E<y;E++)v[E]=~b.g[E];return new s(v,~b.h).add(m)}t.abs=function(){return P(this)?M(this):this},t.add=function(b){for(var y=Math.max(this.g.length,b.g.length),v=[],E=0,D=0;D<=y;D++){var T=E+(this.i(D)&65535)+(b.i(D)&65535),_=(T>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);E=_>>>16,T&=65535,_&=65535,v[D]=_<<16|T}return new s(v,v[v.length-1]&-2147483648?-1:0)};function F(b,y){return b.add(M(y))}t.j=function(b){if(S(this)||S(b))return p;if(P(this))return P(b)?M(this).j(M(b)):M(M(this).j(b));if(P(b))return M(this.j(M(b)));if(0>this.l(I)&&0>b.l(I))return l(this.m()*b.m());for(var y=this.g.length+b.g.length,v=[],E=0;E<2*y;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<b.g.length;D++){var T=this.i(E)>>>16,_=this.i(E)&65535,xn=b.i(D)>>>16,Es=b.i(D)&65535;v[2*E+2*D]+=_*Es,q(v,2*E+2*D),v[2*E+2*D+1]+=T*Es,q(v,2*E+2*D+1),v[2*E+2*D+1]+=_*xn,q(v,2*E+2*D+1),v[2*E+2*D+2]+=T*xn,q(v,2*E+2*D+2)}for(E=0;E<y;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=y;E<2*y;E++)v[E]=0;return new s(v,0)};function q(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function H(b,y){this.g=b,this.h=y}function W(b,y){if(S(y))throw Error("division by zero");if(S(b))return new H(p,p);if(P(b))return y=W(M(b),y),new H(M(y.g),M(y.h));if(P(y))return y=W(b,M(y)),new H(M(y.g),y.h);if(30<b.g.length){if(P(b)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var v=m,E=y;0>=E.l(b);)v=Ae(v),E=Ae(E);var D=ee(v,1),T=ee(E,1);for(E=ee(E,2),v=ee(v,2);!S(E);){var _=T.add(E);0>=_.l(b)&&(D=D.add(v),T=_),E=ee(E,1),v=ee(v,1)}return y=F(b,D.j(y)),new H(D,y)}for(D=p;0<=b.l(y);){for(v=Math.max(1,Math.floor(b.m()/y.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(v),_=T.j(y);P(_)||0<_.l(b);)v-=E,T=l(v),_=T.j(y);S(T)&&(T=m),D=D.add(T),b=F(b,_)}return new H(D,b)}t.A=function(b){return W(this,b).h},t.and=function(b){for(var y=Math.max(this.g.length,b.g.length),v=[],E=0;E<y;E++)v[E]=this.i(E)&b.i(E);return new s(v,this.h&b.h)},t.or=function(b){for(var y=Math.max(this.g.length,b.g.length),v=[],E=0;E<y;E++)v[E]=this.i(E)|b.i(E);return new s(v,this.h|b.h)},t.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),v=[],E=0;E<y;E++)v[E]=this.i(E)^b.i(E);return new s(v,this.h^b.h)};function Ae(b){for(var y=b.g.length+1,v=[],E=0;E<y;E++)v[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(v,b.h)}function ee(b,y){var v=y>>5;y%=32;for(var E=b.g.length-v,D=[],T=0;T<E;T++)D[T]=0<y?b.i(T+v)>>>y|b.i(T+v+1)<<32-y:b.i(T+v);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wy=mT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Vr=mT.Integer=s}).apply(typeof gT<"u"?gT:typeof self<"u"?self:typeof window<"u"?window:{});var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xn={};var Iy,Ey,es,by,ec,Nd,Dy,Cy,Ty;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pd=="object"&&Pd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function I(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var V=Array(arguments.length-2),De=2;De<arguments.length;De++)V[De-2]=arguments[De];return d.prototype[C].apply(g,V)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let V=0;V<A;V++)c[C+V]=g[V]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var Ae=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ee(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<v.length;A++)f=v[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function _(){var c=_h;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class xn{constructor(){this.h=this.g=null}add(d,f){let g=Es.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Es=new F(()=>new aS,c=>c.reset());class aS{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let bs,Ds=!1,_h=new xn,M_=()=>{let c=a.Promise.resolve(void 0);bs=()=>{c.then(cS)}};var cS=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){T(f)}var d=Es;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ds=!1};function ir(){this.s=this.s,this.C=this.C}ir.prototype.s=!1,ir.prototype.ma=function(){this.s||(this.s=!0,this.N())},ir.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var uS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Cs(c,d){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ae){e:{try{W(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:lS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cs.aa.h.call(this)}}S(Cs,st);var lS={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ts="closure_listenable_"+(1e6*Math.random()|0),dS=0;function hS(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++dS,this.da=this.fa=!1}function Cc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tc(c){this.src=c,this.g={},this.h=0}Tc.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var V=Ih(c,d,g,C);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new hS(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function wh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Cc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ih(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Eh="closure_lm_"+(1e6*Math.random()|0),bh={};function R_(c,d,f,g,C){if(g&&g.once)return P_(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)R_(c,d[A],f,g,C);return null}return f=Ah(f),c&&c[Ts]?c.K(d,f,l(g)?!!g.capture:!!g,C):x_(c,d,f,!1,g,C)}function x_(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var V=l(C)?!!C.capture:!!C,De=Ch(c);if(De||(c[Eh]=De=new Tc(c)),f=De.add(d,f,g,V,A),f.proxy)return f;if(g=fS(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)uS||(C=V),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(O_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function fS(){function c(f){return d.call(c.src,c.listener,f)}let d=pS;return c}function P_(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)P_(c,d[A],f,g,C);return null}return f=Ah(f),c&&c[Ts]?c.L(d,f,l(g)?!!g.capture:!!g,C):x_(c,d,f,!0,g,C)}function N_(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)N_(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=Ah(f),c&&c[Ts]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ih(A,f,g,C),-1<f&&(Cc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Ch(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ih(d,f,g,C)),(f=-1<c?d[c]:null)&&Dh(f))}function Dh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ts])wh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(O_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Ch(d))?(wh(f,c),f.h==0&&(f.src=null,d[Eh]=null)):Cc(c)}}}function O_(c){return c in bh?bh[c]:bh[c]="on"+c}function pS(c,d){if(c.da)c=!0;else{d=new Cs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Dh(c),c=f.call(g,d)}return c}function Ch(c){return c=c[Eh],c instanceof Tc?c:null}var Th="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ah(c){return typeof c=="function"?c:(c[Th]||(c[Th]=function(d){return c.handleEvent(d)}),c[Th])}function at(){ir.call(this),this.i=new Tc(this),this.M=this,this.F=null}S(at,ir),at.prototype[Ts]=!0,at.prototype.removeEventListener=function(c,d,f,g){N_(this,c,d,f,g)};function pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new st(d,c);else if(d instanceof st)d.target=d.target||c;else{var C=d;d=new st(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var V=d.g=f[A];C=Ac(V,g,!0,d)&&C}if(V=d.g=c,C=Ac(V,g,!0,d)&&C,C=Ac(V,g,!1,d)&&C,f)for(A=0;A<f.length;A++)V=d.g=f[A],C=Ac(V,g,!1,d)&&C}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Cc(f[g]);delete c.g[d],c.h--}}this.F=null},at.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},at.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ac(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var V=d[A];if(V&&!V.da&&V.capture==f){var De=V.listener,Ye=V.ha||V.src;V.fa&&wh(c.i,V),C=De.call(Ye,g)!==!1&&C}}return C&&!g.defaultPrevented}function k_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function F_(c){c.g=k_(()=>{c.g=null,c.i&&(c.i=!1,F_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class gS extends ir{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:F_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){ir.call(this),this.h=c,this.g={}}S(As,ir);var L_=[];function V_(c){ee(c.g,function(d,f){this.g.hasOwnProperty(f)&&Dh(d)},c),c.g={}}As.prototype.N=function(){As.aa.N.call(this),V_(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sh=a.JSON.stringify,mS=a.JSON.parse,yS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Mh(){}Mh.prototype.h=null;function U_(c){return c.h||(c.h=c.i())}function j_(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rh(){st.call(this,"d")}S(Rh,st);function xh(){st.call(this,"c")}S(xh,st);var $r={},B_=null;function Sc(){return B_=B_||new at}$r.La="serverreachability";function $_(c){st.call(this,$r.La,c)}S($_,st);function Ms(c){let d=Sc();pt(d,new $_(d))}$r.STAT_EVENT="statevent";function q_(c,d){st.call(this,$r.STAT_EVENT,c),this.stat=d}S(q_,st);function gt(c){let d=Sc();pt(d,new q_(d,c))}$r.Ma="timingevent";function H_(c,d){st.call(this,$r.Ma,c),this.size=d}S(H_,st);function Rs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function vS(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var V="",De=A.split("&"),Ye=0;Ye<De.length;Ye++){var ye=De[Ye].split("=");if(1<ye.length){var ct=ye[0];ye=ye[1];var ut=ct.split("_");V=2<=ut.length&&ut[1]=="type"?V+(ct+"="+ye+"&"):V+(ct+"=redacted&")}}else V=null;else V=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+V})}function _S(c,d,f,g,C,A,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+V})}function Bi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+IS(c,f)+(g?" "+g:"")})}function wS(c,d){c.info(function(){return"TIMEOUT: "+d})}xs.prototype.info=function(){};function IS(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var V=1;V<C.length;V++)C[V]=""}}}}return Sh(f)}catch{return d}}var Mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},z_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ph;function Rc(){}S(Rc,Mh),Rc.prototype.g=function(){return new XMLHttpRequest},Rc.prototype.i=function(){return{}},Ph=new Rc;function or(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new G_}function G_(){this.i=null,this.g="",this.h=!1}var W_={},Nh={};function Oh(c,d,f){c.L=1,c.v=Oc(Pn(d)),c.m=f,c.P=!0,K_(c,null)}function K_(c,d){c.F=Date.now(),xc(c),c.A=Pn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),cw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new G_,c.g=Tw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new gS(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(L_[0]=C.toString()),C=L_);for(var A=0;A<C.length;A++){var V=R_(f,C[A],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ms(),vS(c.i,c.u,c.A,c.l,c.R,c.m)}or.prototype.ca=function(c){c=c.target;let d=this.M;d&&Nn(c)==3?d.j():this.Y(c)},or.prototype.Y=function(c){try{if(c==this.g)e:{let ut=Nn(this.g);var d=this.g.Ba();let Hi=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||gw(this.g)))){this.J||ut!=4||d==7||(d==8||0>=Hi?Ms(3):Ms(2)),kh(this);var f=this.g.Z();this.X=f;t:if(Q_(this)){var g=gw(this.g);c="";var C=g.length,A=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Ps(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,_S(this.i,this.u,this.A,this.l,this.R,ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Ye=this.g;if((De=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(De)){var ye=De;break t}}ye=null}if(f=ye)Bi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fh(this,f);else{this.o=!1,this.s=3,gt(12),qr(this),Ps(this);break e}}if(this.P){f=!0;let Gt;for(;!this.J&&this.C<V.length;)if(Gt=ES(this,V),Gt==Nh){ut==4&&(this.s=4,gt(14),f=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==W_){this.s=4,gt(15),Bi(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else Bi(this.i,this.l,Gt,null),Fh(this,Gt);if(Q_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||V.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)Bi(this.i,this.l,V,"[Invalid Chunked Response]"),qr(this),Ps(this);else if(0<V.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),$h(ct),ct.M=!0,gt(11))}}else Bi(this.i,this.l,V,null),Fh(this,V);ut==4&&qr(this),this.o&&!this.J&&(ut==4?Ew(this.j,this):(this.o=!1,xc(this)))}else US(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),qr(this),Ps(this)}}}catch{}finally{}};function Q_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ES(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Nh:(f=Number(d.substring(f,g)),isNaN(f)?W_:(g+=1,g+f>d.length?Nh:(d=d.slice(g,g+f),c.C=g+f,d)))}or.prototype.cancel=function(){this.J=!0,qr(this)};function xc(c){c.S=Date.now()+c.I,Y_(c,c.I)}function Y_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rs(m(c.ba,c),d)}function kh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}or.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(wS(this.i,this.A),this.L!=2&&(Ms(),gt(17)),qr(this),this.s=2,Ps(this)):Y_(this,this.S-c)};function Ps(c){c.j.G==0||c.J||Ew(c.j,c)}function qr(c){kh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,V_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Fh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Lh(f.h,c))){if(!c.K&&Lh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Uc(f),Lc(f);else break e;Bh(f),gt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Rs(m(f.Za,f),6e3));if(1>=X_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else zr(f,11)}else if((c.K||f.g==c)&&Uc(f),!q(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ye=C[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let ct=ye[3];ct!=null&&(f.la=ct,f.j.info("VER="+f.la));let ut=ye[4];ut!=null&&(f.Aa=ut,f.j.info("SVER="+f.Aa));let Hi=ye[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(g=1.5*Hi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Gt=c.g;if(Gt){let Bc=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var A=g.h;A.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Vh(A,A.h),A.h=null))}if(g.D){let qh=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&(g.ya=qh,Me(g.I,g.D,qh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var V=c;if(g.qa=Cw(g,g.J?g.ia:null,g.W),V.K){ew(g.h,V);var De=V,Ye=g.L;Ye&&(De.I=Ye),De.B&&(kh(De),xc(De)),g.g=V}else ww(g);0<f.i.length&&Vc(f)}else ye[0]!="stop"&&ye[0]!="close"||zr(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?zr(f,7):jh(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Ms(4)}catch{}}var bS=class{constructor(c,d){this.g=c,this.map=d}};function J_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Z_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function X_(c){return c.h?1:c.g?c.g.size:0}function Lh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Vh(c,d){c.g?c.g.add(d):c.h=d}function ew(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}J_.prototype.cancel=function(){if(this.i=tw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function tw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function DS(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function CS(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function nw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=CS(c),g=DS(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var rw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TS(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Hr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Hr){this.h=c.h,Pc(this,c.j),this.o=c.o,this.g=c.g,Nc(this,c.s),this.l=c.l;var d=c.i,f=new ks;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),iw(this,f),this.m=c.m}else c&&(d=String(c).match(rw))?(this.h=!1,Pc(this,d[1]||"",!0),this.o=Ns(d[2]||""),this.g=Ns(d[3]||"",!0),Nc(this,d[4]),this.l=Ns(d[5]||"",!0),iw(this,d[6]||"",!0),this.m=Ns(d[7]||"")):(this.h=!1,this.i=new ks(null,this.h))}Hr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Os(d,ow,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Os(d,ow,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Os(f,f.charAt(0)=="/"?MS:SS,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Os(f,xS)),c.join("")};function Pn(c){return new Hr(c)}function Pc(c,d,f){c.j=f?Ns(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Nc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function iw(c,d,f){d instanceof ks?(c.i=d,PS(c.i,c.h)):(f||(d=Os(d,RS)),c.i=new ks(d,c.h))}function Me(c,d,f){c.i.set(d,f)}function Oc(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ns(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,AS),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function AS(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ow=/[#\/\?@]/g,SS=/[#\?:]/g,MS=/[#\?]/g,RS=/[#\?@]/g,xS=/#/g;function ks(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function sr(c){c.g||(c.g=new Map,c.h=0,c.i&&TS(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ks.prototype,t.add=function(c,d){sr(this),this.i=null,c=$i(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function sw(c,d){sr(c),d=$i(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function aw(c,d){return sr(c),d=$i(c,d),c.g.has(d)}t.forEach=function(c,d){sr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){sr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){sr(this);let d=[];if(typeof c=="string")aw(this,c)&&(d=d.concat(this.g.get($i(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return sr(this),this.i=null,c=$i(this,c),aw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function cw(c,d,f){sw(c,d),0<f.length&&(c.i=null,c.g.set($i(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var C=A;V[g]!==""&&(C+="="+encodeURIComponent(String(V[g]))),c.push(C)}}return this.i=c.join("&")};function $i(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function PS(c,d){d&&!c.j&&(sr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(sw(this,g),cw(this,C,f))},c)),c.j=d}function NS(c,d){let f=new xs;if(a.Image){let g=new Image;g.onload=I(ar,f,"TestLoadImage: loaded",!0,d,g),g.onerror=I(ar,f,"TestLoadImage: error",!1,d,g),g.onabort=I(ar,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(ar,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function OS(c,d){let f=new xs,g=new AbortController,C=setTimeout(()=>{g.abort(),ar(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?ar(f,"TestPingServer: ok",!0,d):ar(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),ar(f,"TestPingServer: error",!1,d)})}function ar(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function kS(){this.g=new yS}function FS(c,d,f){let g=f||"";try{nw(c,function(C,A){let V=C;l(C)&&(V=Sh(C)),d.push(g+A+"="+encodeURIComponent(V))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Fs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Fs,Mh),Fs.prototype.g=function(){return new kc(this.l,this.j)},Fs.prototype.i=function(c){return function(){return c}}({});function kc(c,d){at.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(kc,at),t=kc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Vs(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function uw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ls(this):Vs(this),this.readyState==3&&uw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ls(this))},t.Qa=function(c){this.g&&(this.response=c,Ls(this))},t.ga=function(){this.g&&Ls(this)};function Ls(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Vs(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Vs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function lw(c){let d="";return ee(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Uh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=lw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Me(c,d,f))}function Oe(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Oe,at);var LS=/^https?$/i,VS=["POST","PUT"];t=Oe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ph.g(),this.v=this.o?U_(this.o):U_(Ph),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){dw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(VS,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,V]of f)this.g.setRequestHeader(A,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){dw(this,A)}};function dw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,hw(c),Fc(c)}function hw(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fw(this):this.bb())},t.bb=function(){fw(this)};function fw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)k_(c.Ea,0,c);else if(pt(c,"readystatechange"),Nn(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=V===0){var C=String(c.D).match(rw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!LS.test(C?C.toLowerCase():"")}f=g}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var A=2<Nn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",hw(c)}}finally{Fc(c)}}}}function Fc(c,d){if(c.g){pw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function pw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),mS(d)}};function gw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function US(c){let d={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(q(c[g]))continue;var f=D(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function mw(c){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new J_(c&&c.concurrentRequestLimit),this.Da=new kS,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){gt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Cw(this,null,this.W),Vc(this)};function jh(c){if(yw(c),c.G==3){var d=c.U++,f=Pn(c.I);if(Me(f,"SID",c.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),js(c,f),d=new or(c,c.j,d),d.L=2,d.v=Oc(Pn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Tw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xc(d)}Dw(c)}function Lc(c){c.g&&($h(c),c.g.cancel(),c.g=null)}function yw(c){Lc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Uc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Vc(c){if(!Z_(c.h)&&!c.s){c.s=!0;var d=c.Ga;bs||M_(),Ds||(bs(),Ds=!0),_h.add(d,c),c.B=0}}function jS(c,d){return X_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rs(m(c.Ga,c,d),bw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new or(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=_w(this,C,d),f=Pn(this.I),Me(f,"RID",c),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),js(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(lw(A)))+"&"+d:this.m&&Uh(f,this.m,A)),Vh(this.h,C),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),C.T=!0,Oh(C,f,null)):Oh(C,f,d),this.G=2}}else this.G==3&&(c?vw(this,c):this.i.length==0||Z_(this.h)||vw(this))};function vw(c,d){var f;d?f=d.l:f=c.U++;let g=Pn(c.I);Me(g,"SID",c.K),Me(g,"RID",f),Me(g,"AID",c.T),js(c,g),c.m&&c.o&&Uh(g,c.m,c.o),f=new or(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=_w(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vh(c.h,f),Oh(f,g,d)}function js(c,d){c.H&&ee(c.H,function(f,g){Me(d,g,f)}),c.l&&nw({},function(f,g){Me(d,g,f)})}function _w(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let V=["count="+f];A==-1?0<f?(A=C[0].g,V.push("ofs="+A)):A=0:V.push("ofs="+A);let De=!0;for(let Ye=0;Ye<f;Ye++){let ye=C[Ye].g,ct=C[Ye].map;if(ye-=A,0>ye)A=Math.max(0,C[Ye].g-100),De=!1;else try{FS(ct,V,"req"+ye+"_")}catch{g&&g(ct)}}if(De){g=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ww(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;bs||M_(),Ds||(bs(),Ds=!0),_h.add(d,c),c.v=0}}function Bh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rs(m(c.Fa,c),bw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Iw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Lc(this),Iw(this))};function $h(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Iw(c){c.g=new or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Pn(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),js(c,d),c.m&&c.o&&Uh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Oc(Pn(d)),f.m=null,f.P=!0,K_(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Lc(this),Bh(this),gt(19))};function Uc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ew(c,d){var f=null;if(c.g==d){Uc(c),$h(c),c.g=null;var g=2}else if(Lh(c.h,d))f=d.D,ew(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Sc(),pt(g,new H_(g,f)),Vc(c)}else ww(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&jS(c,d)||g==2&&Bh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function bw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function zr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Hr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pc(g,"https"),Oc(g),C?NS(g.toString(),f):OS(g.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),Dw(c),yw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Dw(c){if(c.G=0,c.ka=[],c.l){let d=tw(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function Cw(c,d,f){var g=f instanceof Hr?Pn(f):new Hr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Nc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Hr(null);g&&Pc(A,g),d&&(A.g=d),C&&Nc(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Me(g,f,d),Me(g,"VER",c.la),js(c,g),g}function Tw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Oe(new Fs({eb:f})):new Oe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aw(){}t=Aw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jc(){}jc.prototype.g=function(c,d){return new Ct(c,d)};function Ct(c,d){at.call(this),this.g=new mw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new qi(this)}S(Ct,at),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){jh(this.g)},Ct.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Sh(c),c=f);d.i.push(new bS(d.Ya++,c)),d.G==3&&Vc(d)},Ct.prototype.N=function(){this.g.l=null,delete this.j,jh(this.g),delete this.g,Ct.aa.N.call(this)};function Sw(c){Rh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(Sw,Rh);function Mw(){xh.call(this),this.status=1}S(Mw,xh);function qi(c){this.g=c}S(qi,Aw),qi.prototype.ua=function(){pt(this.g,"a")},qi.prototype.ta=function(c){pt(this.g,new Sw(c))},qi.prototype.sa=function(c){pt(this.g,new Mw)},qi.prototype.ra=function(){pt(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,Ty=Xn.createWebChannelTransport=function(){return new jc},Cy=Xn.getStatEventTarget=function(){return Sc()},Dy=Xn.Event=$r,Nd=Xn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,ec=Xn.ErrorCode=Mc,z_.COMPLETE="complete",by=Xn.EventType=z_,j_.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",at.prototype.listen=at.prototype.K,es=Xn.WebChannel=j_,Ey=Xn.FetchXmlHttpFactory=Fs,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,Iy=Xn.XhrIo=Oe}).apply(typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{});var yT="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var vs="10.12.1";var Oi=new Rr("@firebase/firestore");function tc(){return Oi.logLevel}function j(t,...e){if(Oi.logLevel<=he.DEBUG){let n=e.map(d_);Oi.debug(`Firestore (${vs}): ${t}`,...n)}}function er(t,...e){if(Oi.logLevel<=he.ERROR){let n=e.map(d_);Oi.error(`Firestore (${vs}): ${t}`,...n)}}function ss(t,...e){if(Oi.logLevel<=he.WARN){let n=e.map(d_);Oi.warn(`Firestore (${vs}): ${t}`,...n)}}function d_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function X(t="Unexpected state"){let e=`FIRESTORE (${vs}) INTERNAL ASSERTION FAILED: `+t;throw er(e),new Error(e)}function Se(t,e){t||X()}function ne(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends kt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},Py=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ny=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new Vd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Qe(e)}},Oy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ky=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Oy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ly=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new Fy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function B2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ud=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=B2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function as(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ot=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ot(0,0))}static max(){return new t(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},$e=class t extends jd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},$2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class t extends jd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Q=class t{constructor(e){this.path=e}static fromPath(e){return new t($e.fromString(e))}static fromName(e){return new t($e.fromString(e).popFirst(5))}static empty(){return new t($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $e(e.slice()))}};var Vy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Vy.UNKNOWN_ID=-1;function q2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new ki(i,Q.empty(),e)}function H2(t){return new ki(t.readTime,t.key,-1)}var ki=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),Q.empty(),-1)}static max(){return new t(re.max(),Q.empty(),-1)}};function z2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var G2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ic(t){return w(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==G2)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function W2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(t){return t.name==="IndexedDbTransactionError"}var HT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function fh(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function K2(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Q2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],n6=[...Q2,"documentOverlays"],Y2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],J2=Y2,r6=[...J2,"indexConfiguration","indexState","indexEntries"];function vT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fe=class t{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new is(this.root,e,this.comparator,!1)}getReverseIterator(){return new is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new is(this.root,e,this.comparator,!0)}},is=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Tn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class t{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bd(this.data.getIterator())}getIteratorFrom(e){return new Bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Dn=class t{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ft(Lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return as(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var $d=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $d("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var Z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(t){if(Se(!!t),typeof t=="string"){let e=0,n=Z2.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}function h_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function f_(t){let e=t.mapValue.fields.__previous_value__;return h_(e)?f_(e):e}function cc(t){let e=tr(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}var jy=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},qd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Od={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?h_(t)?4:GT(t)?9007199254740991:10:X()}function Mn(t,e){if(t===e)return!0;let n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=tr(i.timestampValue),a=tr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ur(i.bytesValue).isEqual(Ur(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?ac(s)===ac(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return as(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vT(s)!==vT(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Mn(s[u],a[u])))return!1;return!0}(t,e);default:return X()}}function uc(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function cs(t,e){if(t===e)return 0;let n=Fi(t),r=Fi(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return _T(t.timestampValue,e.timestampValue);case 4:return _T(cc(t),cc(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ur(o),u=Ur(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ve(a[l],u[l]);if(h!==0)return h}return ve(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ve(ke(o.latitude),ke(s.latitude));return a!==0?a:ve(ke(o.longitude),ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){let h=cs(a[l],u[l]);if(h)return h}return ve(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Od.mapValue&&s===Od.mapValue)return 0;if(o===Od.mapValue)return 1;if(s===Od.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ve(u[p],h[p]);if(m!==0)return m;let I=cs(a[u[p]],l[h[p]]);if(I!==0)return I}return ve(u.length,h.length)}(t.mapValue,e.mapValue);default:throw X()}}function _T(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=tr(t),r=tr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function us(t){return By(t)}function By(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ur(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=By(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${By(n.fields[s])}`;return i+"}"}(t.mapValue):X()}function $y(t){return!!t&&"integerValue"in t}function p_(t){return!!t&&"arrayValue"in t}function wT(t){return!!t&&"nullValue"in t}function IT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=rc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_s(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(rc(this.value))}};function WT(t){let e=[];return _s(t.fields,(n,r)=>{let i=new Lt([n]);if(Fd(r)){let o=WT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Dn(e)}var rn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ls=class{constructor(e,n){this.position=e,this.inclusive=n}};function ET(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=cs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}var ds=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function X2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hd=class{},We=class t extends Hd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hy(e,n,r):n==="array-contains"?new Wy(e,r):n==="in"?new Ky(e,r):n==="not-in"?new Qy(e,r):n==="array-contains-any"?new Yy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zy(e,r):new Gy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cs(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Rn=class t extends Hd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return KT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function KT(t){return t.op==="and"}function QT(t){return ej(t)&&KT(t)}function ej(t){for(let e of t.filters)if(e instanceof Rn)return!1;return!0}function qy(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+us(t.value);if(QT(t))return t.filters.map(e=>qy(e)).join(",");{let e=t.filters.map(n=>qy(n)).join(",");return`${t.op}(${e})`}}function YT(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Mn(r.value,i.value)}(t,e):t instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&YT(s,i.filters[a]),!0):!1}(t,e):void X()}function JT(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${us(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(JT).join(" ,")+"}"}(t):"Filter"}var Hy=class extends We{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){let n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}},zy=class extends We{constructor(e,n){super(e,"in",n),this.keys=ZT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Gy=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=ZT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ZT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}var Wy=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return p_(n)&&uc(n.arrayValue,this.value)}},Ky=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}},Qy=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!uc(this.value.arrayValue,n)}},Yy=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!p_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uc(this.value.arrayValue,r))}};var Jy=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function DT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Jy(t,e,n,r,i,o,s)}function g_(t){let e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>us(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>us(r)).join(",")),e.ue=n}return e.ue}function m_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bT(t.startAt,e.startAt)&&bT(t.endAt,e.endAt)}function Zy(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var hs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function tj(t,e,n,r,i,o,s,a){return new hs(t,e,n,r,i,o,s,a)}function y_(t){return new hs(t)}function CT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nj(t){return t.collectionGroup!==null}function ic(t){let e=ne(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ft(Lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ds(o,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new ds(Lt.keyField(),r))}return e.ce}function An(t){let e=ne(t);return e.le||(e.le=rj(e,ic(t))),e.le}function rj(t,e){if(t.limitType==="F")return DT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ds(i.field,o)});let n=t.endAt?new ls(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ls(t.startAt.position,t.startAt.inclusive):null;return DT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xy(t,e,n){return new hs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return m_(An(t),An(e))&&t.limitType===e.limitType}function XT(t){return`${g_(An(t))}|lt:${t.limitType}`}function ts(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JT(i)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>us(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>us(i)).join(",")),`Target(${r})`}(An(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ic(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=ET(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,ic(r),i)||r.endAt&&!function(s,a,u){let l=ET(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,ic(r),i))}(t,e)}function ij(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eA(t){return(e,n)=>{let r=!1;for(let i of ic(t)){let o=oj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oj(t,e,n){let r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?cs(u,l):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var jr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}};var sj=new Fe(Q.comparator);function nr(){return sj}var tA=new Fe(Q.comparator);function nc(...t){let e=tA;for(let n of t)e=e.insert(n.key,n);return e}function nA(t){let e=tA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return oc()}function rA(){return oc()}function oc(){return new jr(t=>t.toString(),(t,e)=>t.isEqual(e))}var aj=new Fe(Q.comparator),cj=new ft(Q.comparator);function fe(...t){let e=cj;for(let n of t)e=e.add(n);return e}var uj=new ft(ve);function lj(){return uj}function iA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function oA(t){return{integerValue:""+t}}function dj(t,e){return K2(e)?oA(e):iA(t,e)}var fs=class{constructor(){this._=void 0}};function hj(t,e,n){return t instanceof ps?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&h_(o)&&(o=f_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Li?aA(t,e):t instanceof Vi?cA(t,e):function(i,o){let s=sA(i,o),a=TT(s)+TT(i.Pe);return $y(s)&&$y(i.Pe)?oA(a):iA(i.serializer,a)}(t,e)}function fj(t,e,n){return t instanceof Li?aA(t,e):t instanceof Vi?cA(t,e):n}function sA(t,e){return t instanceof gs?function(r){return $y(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ps=class extends fs{},Li=class extends fs{constructor(e){super(),this.elements=e}};function aA(t,e){let n=uA(e);for(let r of t.elements)n.some(i=>Mn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Vi=class extends fs{constructor(e){super(),this.elements=e}};function cA(t,e){let n=uA(e);for(let r of t.elements)n=n.filter(i=>!Mn(i,r));return{arrayValue:{values:n}}}var gs=class extends fs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function TT(t){return ke(t.integerValue||t.doubleValue)}function uA(t){return p_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Li&&i instanceof Li||r instanceof Vi&&i instanceof Vi?as(r.elements,i.elements,Mn):r instanceof gs&&i instanceof gs?Mn(r.Pe,i.Pe):r instanceof ps&&i instanceof ps}(t.transform,e.transform)}var ev=class{constructor(e,n){this.version=e,this.transformResults=n}},Ni=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ms=class{};function lA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zd(t.key,Ni.none()):new Ui(t.key,t.data,Ni.none());{let n=t.data,r=nn.empty(),i=new ft(Lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new rr(t.key,r,new Dn(i.toArray()),Ni.none())}}function gj(t,e,n){t instanceof Ui?function(i,o,s){let a=i.value.clone(),u=ST(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof rr?function(i,o,s){if(!Ld(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=ST(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(dA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sc(t,e,n,r){return t instanceof Ui?function(o,s,a,u){if(!Ld(o.precondition,s))return a;let l=o.value.clone(),h=MT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof rr?function(o,s,a,u){if(!Ld(o.precondition,s))return a;let l=MT(o.fieldTransforms,u,s),h=s.data;return h.setAll(dA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Ld(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function mj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=sA(r.transform,i||null);o!=null&&(n===null&&(n=nn.empty()),n.set(r.field,o))}return n||null}function AT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&as(r,i,(o,s)=>pj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ui=class extends ms{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},rr=class extends ms{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function dA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function ST(t,e,n){let r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fj(s,a,n[i]))}return r}function MT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,hj(o,s,e))}return r}var zd=class extends ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},tv=class extends ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var nv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&gj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=rA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=lA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&as(this.mutations,e.mutations,(n,r)=>AT(n,r))&&as(this.baseMutations,e.baseMutations,(n,r)=>AT(n,r))}},rv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return aj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var iv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ov=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var je,ge;function yj(t){switch(t){default:return X();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function hA(t){if(t===void 0)return er("GRPC error has no .code"),O.UNKNOWN;switch(t){case je.OK:return O.OK;case je.CANCELLED:return O.CANCELLED;case je.UNKNOWN:return O.UNKNOWN;case je.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case je.INTERNAL:return O.INTERNAL;case je.UNAVAILABLE:return O.UNAVAILABLE;case je.UNAUTHENTICATED:return O.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case je.NOT_FOUND:return O.NOT_FOUND;case je.ALREADY_EXISTS:return O.ALREADY_EXISTS;case je.PERMISSION_DENIED:return O.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case je.ABORTED:return O.ABORTED;case je.OUT_OF_RANGE:return O.OUT_OF_RANGE;case je.UNIMPLEMENTED:return O.UNIMPLEMENTED;case je.DATA_LOSS:return O.DATA_LOSS;default:return X()}}(ge=je||(je={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var RT=null;function vj(){return new TextEncoder}var _j=new Vr([4294967295,4294967295],0);function xT(t){let e=vj().encode(t),n=new wy;return n.update(e),new Uint8Array(n.digest())}function PT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Vr([n,r],0),new Vr([i,o],0)]}var sv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pi(`Invalid padding: ${n}`);if(r<0)throw new Pi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Vr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Vr.fromNumber(r)));return i.compare(_j)===1&&(i=new Vr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=xT(e),[r,i]=PT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=xT(e),[r,i]=PT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Pi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new Fe(ve),nr(),fe())}},lc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var os=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Wd=class{constructor(e,n){this.targetId=e,this.me=n}},Kd=class{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Qd=class{constructor(){this.fe=0,this.ge=OT(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new lc(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=OT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},av=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=nr(),this.qe=NT(),this.Qe=new Fe(ve)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Zy(o))if(r===0){let s=new Q(o.path);this.Ue(n,s,rn.newNoDocument(s,re.min()))}else Se(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}RT?.et(function(h,p,m,I,S){var P,M,F,q,H,W;let Ae={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ee=p.unchangedNames;return ee&&(Ae.bloomFilter={applied:S===0,hashCount:(P=ee?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(q=(F=(M=ee?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&q!==void 0?q:0,padding:(W=(H=ee?.bits)===null||H===void 0?void 0:H.padding)!==null&&W!==void 0?W:0,mightContain:b=>{var y;return(y=I?.mightContain(b))!==null&&y!==void 0&&y}}),Ae}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ur(r).toUint8Array()}catch(u){if(u instanceof $d)return ss("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new sv(s,i,o)}catch(u){return ss(u instanceof Pi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Zy(a.target)){let u=new Q(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,rn.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=fe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Gd(e,n,this.Qe,this.ke,r);return this.ke=nr(),this.qe=NT(),this.Qe=new Fe(ve),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Qd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ft(ve),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function NT(){return new Fe(Q.comparator)}function OT(){return new Fe(Q.comparator)}var wj={asc:"ASCENDING",desc:"DESCENDING"},Ij={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ej={and:"AND",or:"OR"},cv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function uv(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bj(t,e){return Yd(t,e.toTimestamp())}function Sn(t){return Se(!!t),re.fromTimestamp(function(n){let r=tr(n);return new ot(r.seconds,r.nanos)}(t))}function v_(t,e){return lv(t,e).canonicalString()}function lv(t,e){let n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pA(t){let e=$e.fromString(t);return Se(_A(e)),e}function dv(t,e){return v_(t.databaseId,e.path)}function Ay(t,e){let n=pA(e);if(n.get(1)!==t.databaseId.projectId)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(mA(n))}function gA(t,e){return v_(t.databaseId,e)}function Dj(t){let e=pA(t);return e.length===4?$e.emptyPath():mA(e)}function hv(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mA(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kT(t,e,n){return{name:dv(t,e),fields:n.value.mapValue.fields}}function Cj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Se(h===void 0||typeof h=="string"),wt.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:hA(l.code);return new G(h,l.message||"")}(s);n=new Kd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ay(t,r.document.name),o=Sn(r.document.updateTime),s=r.document.createTime?Sn(r.document.createTime):re.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new os(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ay(t,r.document),o=r.readTime?Sn(r.readTime):re.min(),s=rn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new os([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ay(t,r.document),o=r.removedTargetIds||[];n=new os([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ov(i,o),a=r.targetId;n=new Wd(a,s)}}return n}function Tj(t,e){let n;if(e instanceof Ui)n={update:kT(t,e.key,e.value)};else if(e instanceof zd)n={delete:dv(t,e.key)};else if(e instanceof rr)n={update:kT(t,e.key,e.data),updateMask:kj(e.fieldMask)};else{if(!(e instanceof tv))return X();n={verify:dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ps)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Li)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(t,e.precondition)),n}function Aj(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Sn(i.updateTime):Sn(o);return s.isEqual(re.min())&&(s=Sn(o)),new ev(s,i.transformResults||[])}(n,e))):[]}function Sj(t,e){return{documents:[gA(t,e.path)]}}function Mj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gA(t,i);let o=function(l){if(l.length!==0)return vA(Rn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ns(m.field),direction:Pj(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=uv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function Rj(t){let e=Dj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Se(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=yA(p);return m instanceof Rn&&QT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new ds(rs(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,fh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,I=p.values||[];return new ls(I,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,I=p.values||[];return new ls(I,m)}(n.endAt)),tj(e,i,s,o,a,"F",u,l)}function xj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=rs(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=rs(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=rs(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=rs(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return We.create(rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>yA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function Pj(t){return wj[t]}function Nj(t){return Ij[t]}function Oj(t){return Ej[t]}function ns(t){return{fieldPath:t.canonicalString()}}function rs(t){return Lt.fromServerFormat(t.fieldPath)}function vA(t){return t instanceof We?function(n){if(n.op==="=="){if(IT(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NAN"}};if(wT(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IT(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NAN"}};if(wT(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(n.field),op:Nj(n.op),value:n.value}}}(t):t instanceof Rn?function(n){let r=n.getFilters().map(i=>vA(i));return r.length===1?r[0]:{compositeFilter:{op:Oj(n.op),filters:r}}}(t):X()}function kj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _A(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var dc=class t{constructor(e,n,r,i,o=re.min(),s=re.min(),a=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var fv=class{constructor(e){this.ct=e}};function Fj(t){let e=Rj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xy(e,e.limit,"L"):e}var Jd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),ac(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=tr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ur(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?GT(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):X()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Jd.bt=new Jd;var pv=class{constructor(){this._n=new gv}addToCollectionParentIndex(e,n){return this._n.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(ki.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},gv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft($e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft($e.comparator)).toArray()}};var o6=new Uint8Array(0);var bn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);var hc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var mv=class{constructor(){this.changes=new jr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var yv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sc(r.mutation,i,Dn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=nc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=nr(),s=oc(),a=function(){return oc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof rr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),sc(h.mutation,l,h.mutation.getFieldMask(),ot.now())):s.set(l.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new yv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=oc(),i=new Fe((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Dn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=rA();h.forEach(m=>{if(!o.has(m)){let I=lA(n.get(m),r.get(m));I!==null&&p.set(m,I),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(xi()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:a,changes:nA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=nc();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,m){return new hs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,rn.newInvalidDocument(h)))});let a=nc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&sc(h.mutation,l,Dn.empty(),ot.now()),gh(n,l)&&(a=a.insert(u,l))}),a})}};var _v=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return L.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Fj(i.bundledQuery),readTime:Sn(i.readTime)}}(n)),L.resolve()}};var wv=class{constructor(){this.overlays=new Fe(Q.comparator),this.hr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xi();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=xi(),o=n.length+1,s=new Q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iv(n,r));let o=this.hr.get(n);o===void 0&&(o=fe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var fc=class{constructor(){this.Pr=new ft(Be.Ir),this.Tr=new ft(Be.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Be(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Be(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new Q(new $e([])),r=new Be(n,e),i=new Be(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Q(new $e([])),r=new Be(n,e),i=new Be(n,e+1),o=fe();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Be(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Q.comparator(e.key,n.key)||ve(e.pr,n.pr)}static Er(e,n){return ve(e.pr,n.pr)||Q.comparator(e.key,n.key)}};var Iv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ft(Be.Ir)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new nv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new Be(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(ve);return n.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),L.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Q.isDocumentKey(o)||(o=o.child(""));let s=new Be(new Q(o),0),a=new ft(ve);return this.wr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},s),L.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return L.forEach(n.mutations,i=>{let o=new Be(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Be(n,0),i=this.wr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ev=class{constructor(e){this.vr=e,this.docs=function(){return new Fe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=nr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=nr(),s=n.path,a=new Q(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||z2(H2(h),r)<=0||(i.has(h.key)||gh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){X()}Fr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bv(this)}getSize(e){return L.resolve(this.size)}},bv=class extends mv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Dv=class{constructor(e){this.persistence=e,this.Mr=new jr(n=>g_(n),m_),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Or=0,this.Nr=new fc,this.targetCount=0,this.Lr=hc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),L.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new hc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.qn(n),L.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Nr.containsKey(n))}};var Cv=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new HT(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Dv(this),this.indexManager=new pv,this.remoteDocumentCache=function(i){return new Ev(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new fv(n),this.$r=new _v(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Iv(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new Tv(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return L.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Tv=class extends Uy{constructor(e){super(),this.currentSequenceNumber=e}},Av=class t{constructor(e){this.persistence=e,this.zr=new fc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw X()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),L.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Jr,r=>{let i=Q.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return L.or([()=>L.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Sv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=fe(),i=fe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Mv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return QD()?8:W2(Ge())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Mv;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(tc()<=he.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),L.resolve()):(tc()<=he.DEBUG&&j("QueryEngine","Query:",ts(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(tc()<=he.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):L.resolve())}ji(e,n){if(CT(n))return L.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xy(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=fe(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Zi(n,a);return this.Xi(n,l,s,u.readTime)?this.ji(e,Xy(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return CT(n)||i.isEqual(re.min())?L.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?L.resolve(null):(tc()<=he.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ts(n)),this.es(e,s,n,q2(i,-1)).next(a=>a))})}Zi(e,n){let r=new ft(eA(e));return n.forEach((i,o)=>{gh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return tc()<=he.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",ts(n)),this.zi.getDocumentsMatchingQuery(e,n,ki.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var xv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Fe(ve),this.rs=new jr(o=>g_(o),m_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Lj(t,e,n,r){return new xv(t,e,n,r)}function wA(t,e){return w(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=fe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Vj(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),I=L.resolve();return m.forEach(S=>{I=I.next(()=>h.getEntry(u,S)).next(P=>{let M=l.docVersions.get(S);Se(M!==null),P.version.compareTo(M)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IA(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Uj(t,e){let n=ne(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,p)));let I=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(wt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(p,I),function(P,M,F){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,I,h)&&a.push(n.Qr.updateTargetData(o,I))});let u=nr(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(jj(o,s,e.documentUpdates).next(h=>{u=h.cs,l=h.ls})),!r.isEqual(re.min())){let h=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.ns=i,o))}function jj(t,e,n){let r=fe(),i=fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=nr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:s,ls:i}})}function Bj(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $j(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new dc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Pv(t,e,n){return w(this,null,function*(){let r=ne(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ec(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function FT(t,e,n){let r=ne(t),i=re.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ne(u),m=p.rs.get(h);return m!==void 0?L.resolve(p.ns.get(m)):p.Qr.getTargetData(l,h)}(r,s,An(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:re.min(),n?o:fe())).next(a=>(qj(r,ij(e),a),{documents:a,hs:o})))}function qj(t,e,n){let r=t.ss.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var Zd=class{constructor(){this.activeTargetIds=lj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Nv=class{constructor(){this.no=new Zd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ov=class{io(e){}shutdown(){}};var Xd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kd=null;function Sy(){return kd===null?kd=function(){return 268435456+Math.round(2147483648*Math.random())}():kd++,"0x"+kd.toString(16)}var Hj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var kv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var ht="WebChannelConnection",Fv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){let a=Sy(),u=this.vo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,o,s),this.Mo(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ss("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){let i=Hj[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let o=Sy();return new Promise((s,a)=>{let u=new Iy;u.setWithCredentials(!0),u.listenOnce(by.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ec.NO_ERROR:let h=u.getResponseJson();j(ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case ec.TIMEOUT:j(ht,`RPC '${e}' ${o} timed out`),a(new G(O.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:let p=u.getStatus();if(j(ht,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let I=m?.error;if(I&&I.status&&I.message){let S=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(I.status);a(new G(S,I.message))}else a(new G(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(O.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{j(ht,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);j(ht,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=Sy(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ty(),a=Cy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Ey({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(ht,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,I=!1,S=new kv({lo:M=>{I?j(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(j(ht,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(ht,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},ho:()=>p.close()}),P=(M,F,q)=>{M.listen(F,H=>{try{q(H)}catch(W){setTimeout(()=>{throw W},0)}})};return P(p,es.EventType.OPEN,()=>{I||(j(ht,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),P(p,es.EventType.CLOSE,()=>{I||(I=!0,j(ht,`RPC '${e}' stream ${i} transport closed`),S.po())}),P(p,es.EventType.ERROR,M=>{I||(I=!0,ss(ht,`RPC '${e}' stream ${i} transport errored:`,M),S.po(new G(O.UNAVAILABLE,"The operation could not be completed")))}),P(p,es.EventType.MESSAGE,M=>{var F;if(!I){let q=M.data[0];Se(!!q);let H=q,W=H.error||((F=H[0])===null||F===void 0?void 0:F.error);if(W){j(ht,`RPC '${e}' stream ${i} received error:`,W);let Ae=W.status,ee=function(v){let E=je[v];if(E!==void 0)return hA(E)}(Ae),b=W.message;ee===void 0&&(ee=O.INTERNAL,b="Unknown error status: "+Ae+" with message "+W.message),I=!0,S.po(new G(ee,b)),p.close()}else j(ht,`RPC '${e}' stream ${i} received:`,q),S.yo(q)}}),P(a,Dy.STAT_EVENT,M=>{M.stat===Nd.PROXY?j(ht,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Nd.NOPROXY&&j(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}};function My(){return typeof document<"u"?document:null}function mh(t){return new cv(t,!0)}var eh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var th=class{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new eh(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return w(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return w(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return w(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new G(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>w(this,null,function*(){this.state=0,this.start()}))}c_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Lv=class extends th{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=Cj(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Sn(s.readTime):re.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=hv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Zy(u)?{documents:Sj(o,u)}:{query:Mj(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=fA(o,s.resumeToken);let l=uv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=Yd(o,s.snapshotVersion.toTimestamp());let l=uv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=xj(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=hv(this.serializer),n.removeTarget=e,this.i_(n)}},Vv=class extends th{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=Aj(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.A_(r,n)}return Se(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=hv(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Tj(this.serializer,r))};this.i_(n)}};var Uv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,lv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(O.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,lv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(O.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},jv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(er(n),this.y_=!1):j("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Bv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(()=>w(this,null,function*(){ji(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=ne(u);l.M_.add(4),yield bc(l),l.N_.set("Unknown"),l.M_.delete(4),yield yh(l)})}(this))}))}),this.N_=new jv(r,i)}};function yh(t){return w(this,null,function*(){if(ji(t))for(let e of t.x_)yield e(!0)})}function bc(t){return w(this,null,function*(){for(let e of t.x_)yield e(!1)})}function EA(t,e){let n=ne(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),E_(n)?I_(n):ws(n).Xo()&&w_(n,e))}function __(t,e){let n=ne(t),r=ws(n);n.F_.delete(e),r.Xo()&&bA(n,e),n.F_.size===0&&(r.Xo()?r.n_():ji(n)&&n.N_.set("Unknown"))}function w_(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ws(t).P_(e)}function bA(t,e){t.L_.xe(e),ws(t).I_(e)}function I_(t){t.L_=new av({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ws(t).start(),t.N_.w_()}function E_(t){return ji(t)&&!ws(t).Zo()&&t.F_.size>0}function ji(t){return ne(t).M_.size===0}function DA(t){t.L_=void 0}function zj(t){return w(this,null,function*(){t.N_.set("Online")})}function Gj(t){return w(this,null,function*(){t.F_.forEach((e,n)=>{w_(t,e)})})}function Wj(t,e){return w(this,null,function*(){DA(t),E_(t)?(t.N_.D_(e),I_(t)):t.N_.set("Unknown")})}function Kj(t,e,n){return w(this,null,function*(){if(t.N_.set("Online"),e instanceof Kd&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nh(t,r)}else if(e instanceof os?t.L_.Ke(e):e instanceof Wd?t.L_.He(e):t.L_.We(e),!n.isEqual(re.min()))try{let r=yield IA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.F_.get(l);h&&o.F_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.F_.get(u);if(!h)return;o.F_.set(u,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),bA(o,u);let p=new dc(h.target,u,l,h.sequenceNumber);w_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield nh(t,r)}})}function nh(t,e,n){return w(this,null,function*(){if(!Ec(e))throw e;t.M_.add(1),yield bc(t),t.N_.set("Offline"),n||(n=()=>IA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield yh(t)}))})}function CA(t,e){return e().catch(n=>nh(t,n,e))}function vh(t){return w(this,null,function*(){let e=ne(t),n=Br(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Qj(e);)try{let i=yield Bj(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,Yj(e,i)}catch(i){yield nh(e,i)}TA(e)&&AA(e)})}function Qj(t){return ji(t)&&t.v_.length<10}function Yj(t,e){t.v_.push(e);let n=Br(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function TA(t){return ji(t)&&!Br(t).Zo()&&t.v_.length>0}function AA(t){Br(t).start()}function Jj(t){return w(this,null,function*(){Br(t).V_()})}function Zj(t){return w(this,null,function*(){let e=Br(t);for(let n of t.v_)e.d_(n.mutations)})}function Xj(t,e,n){return w(this,null,function*(){let r=t.v_.shift(),i=rv.from(r,e,n);yield CA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vh(t)})}function eB(t,e){return w(this,null,function*(){e&&Br(t).E_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return yj(s)&&s!==O.ABORTED}(i.code)){let o=r.v_.shift();Br(r).t_(),yield CA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield vh(r)}})}(t,e)),TA(t)&&AA(t)})}function LT(t,e){return w(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=ji(n);n.M_.add(3),yield bc(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield yh(n)})}function tB(t,e){return w(this,null,function*(){let n=ne(t);e?(n.M_.delete(2),yield yh(n)):e||(n.M_.add(2),yield bc(n),n.N_.set("Unknown"))})}function ws(t){return t.B_||(t.B_=function(n,r,i){let o=ne(n);return o.f_(),new Lv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:zj.bind(null,t),To:Gj.bind(null,t),Ao:Wj.bind(null,t),h_:Kj.bind(null,t)}),t.x_.push(e=>w(this,null,function*(){e?(t.B_.t_(),E_(t)?I_(t):t.N_.set("Unknown")):(yield t.B_.stop(),DA(t))}))),t.B_}function Br(t){return t.k_||(t.k_=function(n,r,i){let o=ne(n);return o.f_(),new Vv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Jj.bind(null,t),Ao:eB.bind(null,t),R_:Zj.bind(null,t),A_:Xj.bind(null,t)}),t.x_.push(e=>w(this,null,function*(){e?(t.k_.t_(),yield vh(t)):(yield t.k_.stop(),t.v_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var $v=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function b_(t,e){if(er("AsyncQueue",`${e}: ${t}`),Ec(t))return new G(O.UNAVAILABLE,`${e}: ${t}`);throw t}var rh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ih=class{constructor(){this.q_=new Fe(Q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):X():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},ys=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,rh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var qv=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Hv=class{constructor(){this.queries=new jr(e=>XT(e),ph),this.onlineState="Unknown",this.z_=new Set}};function nB(t,e){return w(this,null,function*(){let n=ne(t),r=3,i=e.query,o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new qv,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield n.onListen(i,!0);break;case 1:o.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=b_(s,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&D_(n)})}function rB(t,e){return w(this,null,function*(){let n=ne(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function iB(t,e){let n=ne(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&D_(n)}function oB(t,e,n){let r=ne(t),i=r.queries.get(e);if(i)for(let o of i.U_)o.onError(n);r.queries.delete(e)}function D_(t){t.z_.forEach(e=>{e.next()})}var zv,VT;(VT=zv||(zv={})).J_="default",VT.Cache="cache";var Gv=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==zv.Cache}};var oh=class{constructor(e){this.key=e}},sh=class{constructor(e){this.key=e}},Wv=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fe(),this.mutatedKeys=fe(),this.Ia=eA(e),this.Ta=new rh(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new ih,i=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),I=gh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),M=!1;m&&I?m.data.isEqual(I.data)?S!==P&&(r.track({type:3,doc:I}),M=!0):this.Ra(m,I)||(r.track({type:2,doc:I}),M=!0,(u&&this.Ia(I,u)>0||l&&this.Ia(I,l)<0)&&(a=!0)):!m&&I?(r.track({type:0,doc:I}),M=!0):m&&!I&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(I?(s=s.add(I),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((h,p)=>function(I,S){let P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return P(I)-P(S)}(h.type,p.type)||this.Ia(h.doc,p.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,s.length!==0||l?{snapshot:new ys(this.query,e.Ta,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ih,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=fe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new sh(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new oh(r))}),n}pa(e){this.la=e.hs,this.Pa=fe();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ys.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Kv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Qv=class{constructor(e){this.key=e,this.wa=!1}},Yv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new jr(a=>XT(a),ph),this.Da=new Map,this.Ca=new Set,this.va=new Fe(Q.comparator),this.Fa=new Map,this.Ma=new fc,this.xa={},this.Oa=new Map,this.Na=hc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function sB(t,e,n=!0){return w(this,null,function*(){let r=NA(t),i,o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield SA(r,e,n,!0),i})}function aB(t,e){return w(this,null,function*(){let n=NA(t);yield SA(n,e,!0,!1)})}function SA(t,e,n,r){return w(this,null,function*(){let i=yield $j(t.localStore,An(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield cB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&EA(t.remoteStore,i),a})}function cB(t,e,n,r,i){return w(this,null,function*(){t.Ba=(p,m,I)=>function(P,M,F,q){return w(this,null,function*(){let H=M.view.da(F);H.Xi&&(H=yield FT(P.localStore,M.query,!1).then(({documents:b})=>M.view.da(b,H)));let W=q&&q.targetChanges.get(M.targetId),Ae=q&&q.targetMismatches.get(M.targetId)!=null,ee=M.view.applyChanges(H,P.isPrimaryClient,W,Ae);return jT(P,M.targetId,ee.fa),ee.snapshot})}(t,p,m,I);let o=yield FT(t.localStore,e,!0),s=new Wv(e,o.hs),a=s.da(o.documents),u=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);jT(t,n,l.fa);let h=new Kv(e,n,s);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function uB(t,e,n){return w(this,null,function*(){let r=ne(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!ph(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Pv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&__(r.remoteStore,i.targetId),Jv(r,i.targetId)}).catch(Ic))):(Jv(r,i.targetId),yield Pv(r.localStore,i.targetId,!0))})}function lB(t,e){return w(this,null,function*(){let n=ne(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),__(n.remoteStore,r.targetId))})}function dB(t,e,n){return w(this,null,function*(){let r=vB(t);try{let i=yield function(s,a){let u=ne(s),l=ot.now(),h=a.reduce((I,S)=>I.add(S.key),fe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=nr(),P=fe();return u.os.getEntries(I,h).next(M=>{S=M,S.forEach((F,q)=>{q.isValidDocument()||(P=P.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(M=>{p=M;let F=[];for(let q of a){let H=mj(q,p.get(q.key).overlayedDocument);H!=null&&F.push(new rr(q.key,H,WT(H.value.mapValue),Ni.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,F,a)}).next(M=>{m=M;let F=M.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(I,M.batchId,F)})}).then(()=>({batchId:m.batchId,changes:nA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.xa[s.currentUser.toKey()];l||(l=new Fe(ve)),l=l.insert(a,u),s.xa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Dc(r,i.changes),yield vh(r.remoteStore)}catch(i){let o=b_(i,"Failed to persist write");n.reject(o)}})}function MA(t,e){return w(this,null,function*(){let n=ne(t);try{let r=yield Uj(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Fa.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Se(s.wa):i.removedDocuments.size>0&&(Se(s.wa),s.wa=!1))}),yield Dc(n,r,e)}catch(r){yield Ic(r)}})}function UT(t,e,n){let r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ne(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.U_)m.j_(a)&&(l=!0)}),l&&D_(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hB(t,e,n){return w(this,null,function*(){let r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Fe(Q.comparator);s=s.insert(o,rn.newNoDocument(o,re.min()));let a=fe().add(o),u=new Gd(re.min(),new Map,new Fe(ve),s,a);yield MA(r,u),r.va=r.va.remove(o),r.Fa.delete(e),C_(r)}else yield Pv(r.localStore,e,!1).then(()=>Jv(r,e,n)).catch(Ic)})}function fB(t,e){return w(this,null,function*(){let n=ne(t),r=e.batch.batchId;try{let i=yield Vj(n.localStore,e);xA(n,r,null),RA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Dc(n,i)}catch(i){yield Ic(i)}})}function pB(t,e,n){return w(this,null,function*(){let r=ne(t);try{let i=yield function(s,a){let u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);xA(r,e,n),RA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Dc(r,i)}catch(i){yield Ic(i)}})}function RA(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function xA(t,e,n){let r=ne(t),i=r.xa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Jv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||PA(t,r)})}function PA(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(__(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),C_(t))}function jT(t,e,n){for(let r of n)r instanceof oh?(t.Ma.addReference(r.key,e),gB(t,r)):r instanceof sh?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||PA(t,r.key)):X()}function gB(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(j("SyncEngine","New document in limbo: "+n),t.Ca.add(r),C_(t))}function C_(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new Q($e.fromString(e)),r=t.Na.next();t.Fa.set(r,new Qv(n)),t.va=t.va.insert(n,r),EA(t.remoteStore,new dc(An(y_(n.path)),r,"TargetPurposeLimboResolution",HT.oe))}}function Dc(t,e,n){return w(this,null,function*(){let r=ne(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let h=l&&!l.fromCache;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=Sv.Ki(u.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Sa.h_(i),yield function(u,l){return w(this,null,function*(){let h=ne(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.qi,I=>h.persistence.referenceDelegate.addReference(p,m.targetId,I)).next(()=>L.forEach(m.Qi,I=>h.persistence.referenceDelegate.removeReference(p,m.targetId,I)))))}catch(p){if(!Ec(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let I=h.ns.get(m),S=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(S);h.ns=h.ns.insert(m,P)}}})}(r.localStore,o))})}function mB(t,e){return w(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield wA(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(u=>{u.reject(new G(O.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Dc(n,r.us)}})}function yB(t,e){let n=ne(t),r=n.Fa.get(e);if(r&&r.wa)return fe().add(r.key);{let i=fe(),o=n.Da.get(e);if(!o)return i;for(let s of o){let a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function NA(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hB.bind(null,e),e.Sa.h_=iB.bind(null,e.eventManager),e.Sa.ka=oB.bind(null,e.eventManager),e}function vB(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pB.bind(null,e),e}var ah=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Lj(this.persistence,new Rv,e.initialUser,this.serializer)}createPersistence(e){return new Cv(Av.Hr,this.serializer)}createSharedClientState(e){return new Nv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Zv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mB.bind(null,this.syncEngine),yield tB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Hv}()}createDatastore(e){let n=mh(e.databaseInfo.databaseId),r=function(o){return new Fv(o)}(e.databaseInfo);return function(o,s,a,u){return new Uv(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Bv(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>UT(this.syncEngine,n,0),function(){return Xd.D()?new Xd:new Ov}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new Yv(i,o,s,a,u,l);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e;yield function(r){return w(this,null,function*(){let i=ne(r);j("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield bc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Xv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var e_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=Ud.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=b_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Ry(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield wA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function BT(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield wB(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LT(e.remoteStore,i)),t._onlineComponents=e})}function _B(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function wB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ry(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!_B(n))throw n;ss("Error using user provided cache. Falling back to memory cache: "+n),yield Ry(t,new ah)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield Ry(t,new ah);return t._offlineComponents})}function OA(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield BT(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield BT(t,new Zv))),t._onlineComponents})}function IB(t){return OA(t).then(e=>e.syncEngine)}function EB(t){return w(this,null,function*(){let e=yield OA(t),n=e.eventManager;return n.onListen=sB.bind(null,e.syncEngine),n.onUnlisten=uB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lB.bind(null,e.syncEngine),n})}function bB(t,e,n={}){let r=new Cn;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,u,l){let h=new Xv({next:m=>{s.enqueueAndForget(()=>rB(o,p));let I=m.docs.has(a);!I&&m.fromCache?l.reject(new G(O.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&m.fromCache&&u&&u.source==="server"?l.reject(new G(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Gv(y_(a.path),h,{includeMetadataChanges:!0,ra:!0});return nB(o,p)}(yield EB(t),t.asyncQueue,e,n,r)})),r.promise}function kA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var $T=new Map;function DB(t,e,n){if(!n)throw new G(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CB(t,e,n,r){if(e===!0&&r===!0)throw new G(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qT(t){if(!Q.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function pc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=T_(t);throw new G(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ch=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ch({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ch(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xy;switch(r.type){case"firstParty":return new ky(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=$T.get(n);r&&(j("ComponentProvider","Removing Datastore"),$T.delete(n),r.terminate())}(this),Promise.resolve()}};function TB(t,e,n,r={}){var i;let o=(t=pc(t,gc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Qe.MOCK_USER;else{a=HD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(l)}t._authCredentials=new Py(new Vd(a,u))}}var t_=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},mc=class t extends t_{constructor(e,n,r){super(e,n,y_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function A_(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=Ud.newId()),DB("doc","path",e),t instanceof gc){let r=$e.fromString(e,...n);return qT(r),new zt(t,null,new Q(r))}{if(!(t instanceof zt||t instanceof mc))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return qT(r),new zt(t.firestore,t instanceof mc?t.converter:null,new Q(r))}}var n_=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new eh(this,"async_queue_retry"),this.hu=()=>{let n=My();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=My();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=My();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Cn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return w(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ec(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=$v.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&X()}verifyOperationInProgress(){}du(){return w(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var yc=class extends gc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new n_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LA(this),this._firestoreClient.terminate()}};function S_(t,e){let n=typeof t=="object"?t:Yo(),r=typeof t=="string"?t:e||"(default)",i=Ba(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=qD("firestore");o&&TB(i,...o)}return i}function FA(t){return t._firestoreClient||LA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LA(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new jy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new e_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var vc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(wt.fromBase64String(e))}catch(n){throw new G(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var _c=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var uh=class{constructor(e){this._methodName=e}};var wc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var AB=/^__.*__$/,r_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ui(e,this.data,n,this.fieldTransforms)}};function VA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var i_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return lh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(VA(this.fu)&&AB.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},o_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mh(e)}Fu(e,n,r,i=!1){return new i_({fu:e,methodName:n,vu:r,path:Lt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function SB(t){let e=t._freezeSettings(),n=mh(t._databaseId);return new o_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MB(t,e,n,r,i,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);$A("Data must be an object, but it was:",s,r);let a=jA(r,s),u,l;if(o.merge)u=new Dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=RB(e,p,n);if(!s.contains(m))throw new G(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PB(h,m)||h.push(m)}u=new Dn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new r_(new nn(a),u,l)}function UA(t,e){if(BA(t=Ft(t)))return $A("Unsupported field value:",e,t),jA(t,e);if(t instanceof uh)return function(r,i){if(!VA(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=UA(a,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ot.fromDate(r);return{timestampValue:Yd(i.serializer,o)}}if(r instanceof ot){let o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,o)}}if(r instanceof wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vc)return{bytesValue:fA(i.serializer,r._byteString)};if(r instanceof zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:v_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${T_(r)}`)}(t,e)}function jA(t,e){let n={};return zT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(r,i)=>{let o=UA(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function BA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof wc||t instanceof vc||t instanceof zt||t instanceof uh)}function $A(t,e,n){if(!BA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=T_(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function RB(t,e,n){if((e=Ft(e))instanceof _c)return e._internalPath;if(typeof e=="string")return qA(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}var xB=new RegExp("[~\\*/\\[\\]]");function qA(t,e,n){if(e.search(xB)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _c(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(O.INVALID_ARGUMENT,a+t+u)}function PB(t,e){return t.some(n=>n.isEqual(e))}var dh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new s_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(HA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},s_=class extends dh{data(){return super.data()}};function HA(t,e){return typeof e=="string"?qA(t,e):e instanceof _c?e._internalPath:e._delegate._internalPath}var a_=class{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return _s(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new wc(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=f_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){let n=tr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=$e.fromString(e);Se(_A(r));let i=new qd(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(n)||er(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function NB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var c_=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hh=class extends dh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new u_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(HA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},u_=class extends hh{data(e={}){return super.data(e)}};function zA(t){t=pc(t,zt);let e=pc(t.firestore,yc);return bB(FA(e),t._key).then(n=>kB(e,t,n))}var l_=class extends a_{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}};function GA(t,e,n){t=pc(t,zt);let r=pc(t.firestore,yc),i=NB(t.converter,e,n);return OB(r,[MB(SB(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ni.none())])}function OB(t,e){return function(r,i){let o=new Cn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return dB(yield IB(r),i,o)})),o.promise}(FA(t),e)}function kB(t,e,n){let r=n.docs.get(e._key),i=new l_(t);return new hh(t,i,e._key,r,new c_(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vs=i})(Nr),Pr(new Ht("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new yc(new Ny(r.getProvider("auth-internal")),new Ly(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),it(yT,"4.6.3",e),it(yT,"4.6.3","esm2017")})();var Is=(()=>{let e=class e{constructor(){this.firebaseAuth=N(Zn),this.user$=xd(this.firebaseAuth),this.currentUserSig=ul(void 0)}register(r,i,o){return Ie(fT(this.firebaseAuth,r,o)).pipe(Ze(s=>{let a={uid:s.user.uid,username:i,email:r,isAdmin:!1},u=S_(),l=A_(u,"users",a.uid);return Ie(GA(l,a))}))}login(r,i){let o=Md(this.firebaseAuth,r,i).then(()=>{});return Ie(o)}getBooksData(){}getUserData(){return this.user$.pipe(Ze(r=>{if(r){let i=S_(),o=A_(i,"users",r.uid);return Ie(zA(o)).pipe(Ze(s=>{if(s.exists()){let a=s.data();return K(a)}else return K(null)}))}else return K(null)}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FB(t,e){if(t&1&&(x(0,"div"),k(1),R()),t&2){let n=mn();Ne(),nt(n.errorMessage)}}var WA=(()=>{let e=class e{constructor(){this.fb=N(Go),this.http=N(Wn),this.authService=N(Is),this.router=N(en),this.form=this.fb.nonNullable.group({email:["",Dt.required],password:["",Dt.required]}),this.errorMessage=null}onSubmit(){let{email:r,password:i}=this.form.value;this.authService.login(r,i).subscribe({next:()=>{this.authService.getUserData().subscribe(o=>{o&&o.isAdmin?this.router.navigateByUrl("/admin-dashboard"):this.router.navigateByUrl("/user-dashboard")})},error:o=>{this.errorMessage=o.message}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-login"]],standalone:!0,features:[Pe],decls:15,vars:2,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["type","email","placeholder","Email","formControlName","email","required",""],["type","password","placeholder","Password","formControlName","password","required",""],["type","submit"],["type","button","routerLink","/",1,"btn-secondary"]],template:function(i,o){i&1&&(xt(0,FB,2,1,"div"),x(1,"div",0)(2,"h2"),k(3,"Iniciar Sesi\xF3n"),R(),x(4,"form",1),be("ngSubmit",function(){return o.onSubmit()}),x(5,"div"),Ee(6,"input",2),R(),x(7,"div"),Ee(8,"input",3),R(),x(9,"div")(10,"button",4),k(11,"Iniciar Sesi\xF3n"),R(),x(12,"button",5),k(13,"Regresar al Men\xFA Principal"),R()()(),Ee(14,"router-outlet"),R()),i&2&&(dl(0,o.errorMessage?0:-1),Ne(4),vt("formGroup",o.form))},dependencies:[Wo,Mr,Ar,zo,Sr,Ii,_i,wi,qt,Ra],styles:[".login-container[_ngcontent-%COMP%]{width:400px;margin:auto;padding:30px;border:1px solid #ccc;border-radius:8px;background-color:#fff}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:14px;margin-bottom:5px;color:#333}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-size:16px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let t=e;return t})();function LB(t,e){if(t&1&&(x(0,"div"),k(1),R()),t&2){let n=mn();Ne(),nt(n.errorMessage)}}var KA=(()=>{let e=class e{constructor(){this.fb=N(Go),this.http=N(Wn),this.authService=N(Is),this.router=N(en),this.form=this.fb.nonNullable.group({username:["",Dt.required],email:["",Dt.required],password:["",Dt.required]}),this.errorMessage=null}onSubmit(){let r=this.form.getRawValue();this.authService.register(r.email,r.username,r.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:i=>{this.errorMessage=i.code}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-register"]],standalone:!0,features:[Pe],decls:16,vars:2,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],["type","text","placeholder","Username","formControlName","username","required",""],["type","email","placeholder","Email","formControlName","email","required",""],["type","password","placeholder","Password","formControlName","password","required",""],["type","submit"],["type","button","routerLink","/",1,"btn-secondary"]],template:function(i,o){i&1&&(xt(0,LB,2,1,"div"),x(1,"div",0)(2,"h2"),k(3,"Registro de Usuario"),R(),x(4,"form",1),be("ngSubmit",function(){return o.onSubmit()}),x(5,"div"),Ee(6,"input",2),R(),x(7,"div"),Ee(8,"input",3),R(),x(9,"div"),Ee(10,"input",4),R(),x(11,"div")(12,"button",5),k(13,"Registrarse"),R(),x(14,"button",6),k(15,"Regresar al Men\xFA Principal"),R()()()()),i&2&&(dl(0,o.errorMessage?0:-1),Ne(4),vt("formGroup",o.form))},dependencies:[Wo,Mr,Ar,zo,Sr,Ii,_i,wi,qt],styles:[".register-container[_ngcontent-%COMP%]{width:400px;margin:auto;padding:30px;border:1px solid #ccc;border-radius:8px;background-color:#fff}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:14px;margin-bottom:5px;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:16px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#218838}"]});let t=e;return t})();var QA=(()=>{let e=class e{constructor(r){this.http=r,this.firebaseAuth=N(Zn),this.user$=xd(this.firebaseAuth),this.currentUserSig=ul(void 0),this.apiUrl="https://firestore.googleapis.com/v1/projects/proyectoppw/databases/(default)/documents/books"}addBook(r){return this.http.post(this.apiUrl,{fields:r})}};e.\u0275fac=function(i){return new(i||e)(Z(Wn))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var YA=(()=>{let e=class e{constructor(){this.location=N(_t),this.fb=N(Go),this.http=N(Wn),this.bauthService=N(QA),this.router=N(en),this.form=this.fb.nonNullable.group({title:["",Dt.required],author:["",Dt.required],genre:["",Dt.required],publicationYear:["",Dt.required]})}saveBook(){this.form.valid,console.log(this.form.value);let r={title:this.form.get("title").value,author:this.form.get("author").value,publicationYear:this.form.get("publicationYear").value,genre:this.form.get("genre").value};console.log("Datos del bookdata",r),this.bauthService.addBook(r).subscribe(()=>{console.log("El libro se ha agregado exitosamente.")},i=>{console.error("Error al agregar el libro:",i)})}cancel(){this.location.back()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-add-book"]],standalone:!0,features:[Pe],decls:26,vars:1,consts:[[1,"add-book-container"],[1,"add-book-header"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","name","title","formControlName","title","required",""],["for","author"],["type","text","id","author","name","author","formControlName","author","required",""],["for","genre"],["type","text","id","genre","name","genre","formControlName","genre","required",""],["for","year"],["type","number","id","year","name","year","formControlName","publicationYear","required",""],[1,"form-actions"],["type","submit",1,"action-button","save-button",3,"click"],["type","button",1,"action-button","cancel-button",3,"click"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"div",1)(2,"h1"),k(3,"A\xF1adir Nuevo Libro"),R()(),x(4,"form",2),be("ngSubmit",function(){return o.saveBook()}),x(5,"div",3)(6,"label",4),k(7,"T\xEDtulo"),R(),Ee(8,"input",5),R(),x(9,"div",3)(10,"label",6),k(11,"Autor"),R(),Ee(12,"input",7),R(),x(13,"div",3)(14,"label",8),k(15,"G\xE9nero"),R(),Ee(16,"input",9),R(),x(17,"div",3)(18,"label",10),k(19,"A\xF1o de Publicaci\xF3n"),R(),Ee(20,"input",11),R(),x(21,"div",12)(22,"button",13),be("click",function(){return o.saveBook()}),k(23,"Guardar Cambios"),R(),x(24,"button",14),be("click",function(){return o.cancel()}),k(25,"Cancelar"),R()()()()),i&2&&(Ne(4),vt("formGroup",o.form))},dependencies:[Wo,Mr,Ar,dm,zo,Sr,Ii,_i,wi],styles:[".add-book-container[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:20px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 0 10px #0000001a}.add-book-header[_ngcontent-%COMP%]{background-color:#013974;color:#fff;text-align:center;padding:20px 0;border-radius:10px 10px 0 0}.add-book-form[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.action-button[_ngcontent-%COMP%]{background-color:#013974;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;transition:background-color .3s}.action-button[_ngcontent-%COMP%]:hover{background-color:#012055}.cancel-button[_ngcontent-%COMP%]{background-color:#ccc}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#999}"]});let t=e;return t})();var JA=(()=>{let e=class e{constructor(){this.book={id:1,title:"Book Title",author:"Author Name",genre:"Genre",description:"Description of the book"}}requestLoan(r){console.log(`Request loan for book with ID ${r}`)}goBack(){console.log("Going back to dashboard")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-book-details"]],standalone:!0,features:[Pe],decls:28,vars:0,consts:[[1,"book-details-container"],[1,"book-info"],[1,"book-actions"],["href","#"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"h2"),k(2,"Detalles del Libro"),R(),x(3,"div",1)(4,"h3"),k(5,"Informaci\xF3n del Libro"),R(),x(6,"p")(7,"strong"),k(8,"T\xEDtulo:"),R(),k(9," T\xEDtulo del libro"),R(),x(10,"p")(11,"strong"),k(12,"Autor:"),R(),k(13," Nombre del autor"),R(),x(14,"p")(15,"strong"),k(16,"ISBN:"),R(),k(17," N\xFAmero ISBN del libro"),R()(),x(18,"div",2)(19,"h3"),k(20,"Acciones Disponibles"),R(),x(21,"ul")(22,"li")(23,"a",3),k(24,"Editar Libro"),R()(),x(25,"li")(26,"a",3),k(27,"Eliminar Libro"),R()()()()())},styles:[".book-details-container[_ngcontent-%COMP%]{width:800px;margin:auto;padding:30px;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9}.book-details-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.book-details-container[_ngcontent-%COMP%]   .book-info[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.book-details-container[_ngcontent-%COMP%]   .book-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:15px}.book-details-container[_ngcontent-%COMP%]   .book-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.book-details-container[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]{background-color:#fff;padding:20px;margin-top:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.book-details-container[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:15px}.book-details-container[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.book-details-container[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.book-details-container[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.book-details-container[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let t=e;return t})();function VB(t,e){if(t&1){let n=hl();x(0,"tr")(1,"td"),k(2),R(),x(3,"td"),k(4),R(),x(5,"td")(6,"button",2),be("click",function(){let i=Io(n).$implicit,o=mn();return Eo(o.editBook(i.id))}),k(7,"Editar"),R(),x(8,"button",2),be("click",function(){let i=Io(n).$implicit,o=mn();return Eo(o.deleteBook(i.id))}),k(9,"Eliminar"),R()()()}if(t&2){let n=e.$implicit;Ne(2),nt(n.title),Ne(2),nt(n.author)}}var ZA=(()=>{let e=class e{editBook(r){console.log(`Edit book with ID ${r}`)}deleteBook(r){console.log(`Delete book with ID ${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-book-list"]],standalone:!0,features:[Pe],decls:14,vars:1,consts:[[1,"book-list-container"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"h2"),k(2,"Lista de Libros"),R(),x(3,"table")(4,"thead")(5,"tr")(6,"th"),k(7,"T\xEDtulo"),R(),x(8,"th"),k(9,"Autor"),R(),x(10,"th"),k(11,"Acciones"),R()()(),x(12,"tbody"),xt(13,VB,10,2,"tr",1),R()()()),i&2&&(Ne(13),vt("ngForOf",o.books))},dependencies:[Pt,xo],styles:[".book-list-container[_ngcontent-%COMP%]{margin-bottom:20px}.book-list-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.book-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.book-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .book-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:left}.book-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f0f0;font-weight:700}.book-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#013974;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.book-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#012759}"]});let t=e;return t})();var XA=(()=>{let e=class e{constructor(){this.book={title:"",author:"",genre:"",description:""}}cancel(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-edit-book"]],standalone:!0,features:[Pe],decls:18,vars:0,consts:[[1,"edit-book-container"],[1,"form-group"],["for","title"],["type","text","id","title","placeholder","Ingrese el t\xEDtulo del libro","required",""],["for","author"],["type","text","id","author","placeholder","Ingrese el autor del libro","required",""],["for","isbn"],["type","text","id","isbn","placeholder","Ingrese el ISBN del libro","required",""],["type","submit"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"h2"),k(2,"Editar Libro"),R(),x(3,"form")(4,"div",1)(5,"label",2),k(6,"T\xEDtulo:"),R(),Ee(7,"input",3),R(),x(8,"div",1)(9,"label",4),k(10,"Autor:"),R(),Ee(11,"input",5),R(),x(12,"div",1)(13,"label",6),k(14,"ISBN:"),R(),Ee(15,"input",7),R(),x(16,"button",8),k(17,"Guardar Cambios"),R()()())},dependencies:[Pt,UD,Mr,Sr,lm],styles:[".edit-book-container[_ngcontent-%COMP%]{width:400px;margin:auto;padding:30px;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9}.edit-book-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.edit-book-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.edit-book-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;margin-bottom:5px;color:#333}.edit-book-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.edit-book-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer}.edit-book-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let t=e;return t})();var eS=(()=>{let e=class e{constructor(){this.location=N(_t),this.username="John Doe",this.email="johndoe@example.com",this.users=[{id:1,name:"User One",email:"userone@example.com"},{id:2,name:"User Two",email:"usertwo@example.com"}]}editProfile(){console.log("Edit profile clicked")}logout(){console.log("Logout clicked")}viewDetails(r){console.log(`View details for user ${r}`)}goBack(){this.location.back()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-user-dashboard"]],standalone:!0,features:[Pe],decls:18,vars:2,consts:[[1,"user-dashboard-container"],[1,"back-button",3,"click"],[1,"header"],[1,"user-profile"],[1,"user-info"],["src","/src/assets/user.png","alt",""],[1,"user-details"],[1,"user-name"],[1,"user-email"],[1,"user-actions"],["routerLink","/user-profile",1,"edit-profile-btn"],[1,"footer"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"button",1),be("click",function(){return o.goBack()}),k(2,"Volver"),R(),x(3,"div",2)(4,"h2"),k(5,"Dashboard del Usuario"),R()(),x(6,"div",3)(7,"div",4),Ee(8,"img",5),x(9,"div",6)(10,"p",7),k(11),R(),x(12,"p",8),k(13),R()()(),x(14,"div",9)(15,"button",10),k(16,"Editar Perfil"),R()()(),Ee(17,"div",11),R()),i&2&&(Ne(11),nt(o.username),Ne(2),nt(o.email))},dependencies:[Pt,qt],styles:['@charset "UTF-8";.user-dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#013974;color:#fff;text-align:center;padding:20px 0}.user-dashboard-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background-color:#013974;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.user-dashboard-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background-color:#012759}.user-dashboard-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px}.user-dashboard-container[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:20px}.user-dashboard-container[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.user-dashboard-container[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;margin-bottom:10px}.user-dashboard-container[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{text-align:center}.user-dashboard-container[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:5px}.user-dashboard-container[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:14px;color:#555}.user-dashboard-container[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   .edit-profile-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.user-dashboard-container[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   .edit-profile-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.user-dashboard-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{background-color:#013974;color:#fff;text-align:center;padding:20px 0}']});let t=e;return t})();function UB(t,e){if(t&1){let n=hl();x(0,"tr")(1,"td"),k(2),R(),x(3,"td"),k(4),R(),x(5,"td")(6,"button",13),be("click",function(){let i=Io(n).$implicit,o=mn();return Eo(o.editBook(i.id))}),k(7,"Editar"),R(),x(8,"button",14),be("click",function(){let i=Io(n).$implicit,o=mn();return Eo(o.deleteBook(i.id))}),k(9,"Eliminar"),R()()()}if(t&2){let n=e.$implicit;Ne(2),nt(n.title),Ne(2),nt(n.author)}}var tS=(()=>{let e=class e{constructor(){this.location=N(_t),this.books=[{id:1,title:"Book One",author:"Author One"},{id:2,title:"Book Two",author:"Author Two"}],this.users=[{id:1,name:"User One",email:"userone@example.com"},{id:2,name:"User Two",email:"usertwo@example.com"}]}editBook(r){console.log(`Edit book with ID ${r}`)}deleteBook(r){console.log(`Delete book with ID ${r}`)}editUser(r){console.log(`Edit user with ID ${r}`)}goBack(){this.location.back()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-admin-dashboard"]],standalone:!0,features:[Pe],decls:47,vars:1,consts:[[1,"admin-dashboard-header"],[1,"back-button",3,"click"],[1,"admin-dashboard-container"],[1,"admin-stats"],[1,"admin-stat"],[1,"admin-actions"],["routerLink","/add-book"],["routerLink","/book-details"],["routerLink","/user-list"],[1,"book-list-container"],[1,"book-list"],[4,"ngFor","ngForOf"],[1,"admin-dashboard-footer"],["routerLink","/edit-book",1,"action-button",3,"click"],[1,"action-button",3,"click"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"button",1),be("click",function(){return o.goBack()}),k(2,"Volver"),R(),x(3,"h1"),k(4,"Dashboard del Administrador"),R()(),x(5,"div",2)(6,"div",3)(7,"div",4)(8,"h3"),k(9,"Total de Libros"),R(),x(10,"p"),k(11,"100"),R()(),x(12,"div",4)(13,"h3"),k(14,"Total de Usuarios"),R(),x(15,"p"),k(16,"50"),R()()(),x(17,"div",5)(18,"h3"),k(19,"Acciones Disponibles"),R(),x(20,"ul")(21,"li")(22,"button",6),k(23,"Agregar Nuevo Libro"),R()(),x(24,"li")(25,"button",7),k(26,"Gestionar Libros"),R()(),x(27,"li")(28,"button",8),k(29,"Gestionar Usuarios"),R()()()(),x(30,"div",9)(31,"h3"),k(32,"Lista de Libros"),R(),x(33,"table",10)(34,"thead")(35,"tr")(36,"th"),k(37,"T\xEDtulo"),R(),x(38,"th"),k(39,"Autor"),R(),x(40,"th"),k(41,"Acciones"),R()()(),x(42,"tbody"),xt(43,UB,10,2,"tr",11),R()()()(),x(44,"div",12)(45,"p"),k(46,"Cont\xE1ctanos: infoxample.com | S\xEDguenos en redes sociales: Facebook, Twitter, Instagram"),R()()),i&2&&(Ne(43),vt("ngForOf",o.books))},dependencies:[Pt,xo,qt],styles:['@charset "UTF-8";.admin-dashboard-header[_ngcontent-%COMP%]{background-color:#013974;color:#fff;text-align:center;padding:20px 0}.back-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background-color:#013974;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.back-button[_ngcontent-%COMP%]:hover{background-color:#012759}h2[_ngcontent-%COMP%]{margin:0;font-size:24px}.admin-dashboard-container[_ngcontent-%COMP%]{margin:20px}.admin-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.admin-stat[_ngcontent-%COMP%]{width:45%;padding:10px;background-color:#f0f0f0;border-radius:5px;text-align:center}.admin-actions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.admin-actions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.action-button[_ngcontent-%COMP%]{background-color:#013974;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;transition:background-color .3s}.action-button[_ngcontent-%COMP%]:hover{background-color:#012055}.book-list-container[_ngcontent-%COMP%]{margin-top:20px}.book-list[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.book-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .book-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:center}.book-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}.admin-dashboard-footer[_ngcontent-%COMP%]{background-color:#013974;color:#fff;text-align:center;padding:20px 0;position:fixed;bottom:0;width:100%}']});let t=e;return t})();function jB(t,e){if(t&1&&(x(0,"tr")(1,"td"),k(2),R(),x(3,"td"),k(4),R(),x(5,"td")(6,"button",5),k(7,"Editar"),R()()()),t&2){let n=e.$implicit;Ne(2),nt(n.name),Ne(2),nt(n.email)}}var nS=(()=>{let e=class e{constructor(){this.location=N(_t),this.users=[{name:"Usuario 1",email:"usuario1@example.com"},{name:"Usuario 2",email:"usuario2@example.com"},{name:"Usuario 3",email:"usuario3@example.com"}]}editUser(r){console.log("Editar usuario",r)}goBack(){this.location.back()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-user-list"]],standalone:!0,features:[Pe],decls:18,vars:1,consts:[[1,"user-list-container"],[1,"user-list-header"],[1,"back-button",3,"click"],[1,"user-table"],[4,"ngFor","ngForOf"],["routerLink","/user-profile"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"div",1)(2,"button",2),be("click",function(){return o.goBack()}),k(3,"Volver"),R(),x(4,"h1"),k(5,"Lista de Usuarios"),R()(),x(6,"div",0)(7,"table",3)(8,"thead")(9,"tr")(10,"th"),k(11,"Nombre del Usuario"),R(),x(12,"th"),k(13,"Correo Electr\xF3nico"),R(),x(14,"th"),k(15,"Acciones"),R()()(),x(16,"tbody"),xt(17,jB,8,2,"tr",4),R()()()()),i&2&&(Ne(17),vt("ngForOf",o.users))},dependencies:[Pt,xo,qt],styles:['@charset "UTF-8";.user-list-container[_ngcontent-%COMP%]{max-width:800px;margin:40px auto;padding:20px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 0 10px #0000001a}.user-list-header[_ngcontent-%COMP%]{background-color:#013974;color:#fff;text-align:center;padding:20px 0;border-radius:10px 10px 0 0;position:relative}.back-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#013974;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.back-button[_ngcontent-%COMP%]:hover{background-color:#012759}h2[_ngcontent-%COMP%]{margin:0;font-size:24px}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.user-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#013974;color:#fff;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;transition:background-color .3s}.user-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#012055}']});let t=e;return t})();var rS=(()=>{let e=class e{constructor(){this.location=N(_t)}cancel(){this.location.back()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-user-profile"]],standalone:!0,features:[Pe],decls:20,vars:0,consts:[[1,"user-profile-container"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required",""],["for","email"],["type","email","id","email","name","email","required",""],["for","password"],["type","password","id","password","name","password","required",""],["type","submit"],["type","button",3,"click"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"h2"),k(2,"Mi Perfil"),R(),x(3,"form")(4,"div",1)(5,"label",2),k(6,"Nombre:"),R(),Ee(7,"input",3),R(),x(8,"div",1)(9,"label",4),k(10,"Correo Electr\xF3nico:"),R(),Ee(11,"input",5),R(),x(12,"div",1)(13,"label",6),k(14,"Contrase\xF1a:"),R(),Ee(15,"input",7),R(),x(16,"button",8),k(17,"Guardar Cambios"),R(),x(18,"button",9),be("click",function(){return o.cancel()}),k(19,"Cancelar"),R()()())},styles:[".user-profile-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px}.user-profile-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.user-profile-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.user-profile-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.user-profile-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}.user-profile-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;margin-top:20px;background-color:#013974;color:#fff;border:none;border-radius:5px;cursor:pointer}.user-profile-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#012759}"]});let t=e;return t})();var iS=[{path:"login",component:WA},{path:"register",component:KA},{path:"add-book",component:YA},{path:"book-details",component:JA},{path:"book-list",component:ZA},{path:"edit-book",component:XA},{path:"user-dashboard",component:eS},{path:"admin-dashboard",component:tS},{path:"user-list",component:nS},{path:"user-profile",component:rS}];var BB={apiKey:"AIzaSyA2Zvm6stX0pkAqhNwwZQ7V5AMxFzSBVMY",authDomain:"proyectoppw.firebaseapp.com",projectId:"proyectoppw",storageBucket:"proyectoppw.appspot.com",messagingSenderId:"143031959612",appId:"1:143031959612:web:4acbf06775874997d20339"},oS={providers:[dD(iS),E0(),pC(()=>od(BB)),hT(()=>pT())]};function $B(t,e){t&1&&(x(0,"div")(1,"header",1)(2,"div",2)(3,"div",3)(4,"h1"),k(5,"BIBLIOTECA DIGITAL"),R()(),x(6,"nav",4)(7,"ul")(8,"li")(9,"a",5),k(10,"Login"),R()(),x(11,"li")(12,"a",6),k(13,"Register"),R()()()()()(),x(14,"main")(15,"section",7)(16,"div",8)(17,"h1"),k(18,"\xA1LIBERA TU MENTE, EXPLORA SIN L\xCDMITES!"),R()()()()())}var sS=(()=>{let e=class e{ngOnInit(){this.authService.user$.subscribe(r=>{r?this.authService.currentUserSig.set({uid:r.uid,email:r.email,username:r.displayName,isAdmin:r.isAnonymous}):this.authService.currentUserSig.set(null)})}logout(){console.log("logout")}constructor(r){this.router=r,this.title="aproyectoppw",this.authService=N(Is),this.router.events.subscribe(i=>{i instanceof vn&&(this.currentRoute=i.url)})}isAuthRoute(){return this.currentRoute==="/login"||this.currentRoute==="/register"||this.currentRoute==="/admin-dashboard"||this.currentRoute==="/user-dashboard"||this.currentRoute==="/add-book"||this.currentRoute==="/book-details"||this.currentRoute==="/book-list"||this.currentRoute==="/edit-book"||this.currentRoute==="/user-list"||this.currentRoute==="/user-profile"}};e.\u0275fac=function(i){return new(i||e)(de(en))},e.\u0275cmp=xe({type:e,selectors:[["app-root"]],standalone:!0,features:[Pe],decls:2,vars:1,consts:[[4,"ngIf"],[1,"header"],[1,"container"],[1,"logo"],[1,"nav"],["routerLink","/login"],["routerLink","/register"],[1,"hero"],[1,"hero-content"]],template:function(i,o){i&1&&(xt(0,$B,19,0,"div",0),Ee(1,"router-outlet")),i&2&&vt("ngIf",!o.isAuthRoute())},dependencies:[Pt,h0,Ra,qt],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;background-color:#1e1e1e;color:#fff}.header[_ngcontent-%COMP%]{background-color:#1e1e1e;padding:20px 0;border-bottom:1px solid #333}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:90%;margin:0 auto}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#337ab7;margin:0}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:20px}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;padding:5px 10px;border:1px solid transparent;border-radius:4px;transition:background-color .3s,border-color .3s}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#333;border-color:#337ab7}.hero[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:calc(100vh - 70px);background-image:url(https://via.placeholder.com/1500x800);background-size:cover;background-position:center;position:relative}.hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{position:relative;text-align:center;z-index:1}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#fff;margin:0}main[_ngcontent-%COMP%]{padding:20px}.hero[_ngcontent-%COMP%]{background-image:url("./media/library-Q64M37JH.png");background-color:transparent}']});let t=e;return t})();R0(sS,oS).catch(t=>console.error(t));
